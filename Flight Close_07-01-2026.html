<html lang="en"><head>
    <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Flight Check-in Countdown</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script id="embedded-data-script">
    const EMBEDDED_DATA = {"flights":[{"id":1767775210703,"flightNumber":"JQ719","destination":"HBA","departureTime":"06:00","originalDepartureTime":"06:00","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775212636,"flightNumber":"JQ603","destination":"AVV","departureTime":"06:00","originalDepartureTime":"06:00","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775215317,"flightNumber":"JQ501","destination":"MEL","departureTime":"06:00","originalDepartureTime":"06:00","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213655,"flightNumber":"JQ400","destination":"OOL","departureTime":"06:10","originalDepartureTime":"06:10","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775207377,"flightNumber":"JQ747","destination":"LST","departureTime":"06:10","originalDepartureTime":"06:10","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775215522,"flightNumber":"JQ810","destination":"BNE","departureTime":"06:20","originalDepartureTime":"06:20","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775211827,"flightNumber":"JQ950","destination":"CNS","departureTime":"06:20","originalDepartureTime":"06:20","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213831,"flightNumber":"JQ503","destination":"MEL","departureTime":"06:30","originalDepartureTime":"06:30","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775216137,"flightNumber":"JQ912","destination":"TSV","departureTime":"06:40","originalDepartureTime":"06:40","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775212756,"flightNumber":"JQ729","destination":"HBA","departureTime":"06:45","originalDepartureTime":"06:45","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775208352,"flightNumber":"JQ760","destination":"ADL","departureTime":"07:00","originalDepartureTime":"07:00","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775216415,"flightNumber":"JQ784","destination":"MCY","departureTime":"07:05","originalDepartureTime":"07:05","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ989","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775210389,"flightNumber":"JQ402","destination":"OOL","departureTime":"07:20","originalDepartureTime":"07:20","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775208203,"flightNumber":"JQ456","destination":"BNK","departureTime":"07:20","originalDepartureTime":"07:20","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775212609,"flightNumber":"JQ605","destination":"AVV","departureTime":"08:10","originalDepartureTime":"08:10","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ602","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775215167,"flightNumber":"JQ507","destination":"MEL","departureTime":"08:10","originalDepartureTime":"08:10","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ500","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775210600,"flightNumber":"JQ404","destination":"OOL","departureTime":"09:10","originalDepartureTime":"09:10","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ401","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775214000,"flightNumber":"JQ509","destination":"MEL","departureTime":"09:15","originalDepartureTime":"09:15","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ502","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775208155,"flightNumber":"JQ812","destination":"BNE","departureTime":"09:35","originalDepartureTime":"09:35","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ811","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775209013,"flightNumber":"JQ511","destination":"MEL","departureTime":"09:40","originalDepartureTime":"09:40","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ504","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213448,"flightNumber":"JQ406","destination":"OOL","departureTime":"10:15","originalDepartureTime":"10:15","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ604","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775209961,"flightNumber":"JQ458","destination":"BNK","departureTime":"10:20","originalDepartureTime":"10:20","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ403","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775212112,"flightNumber":"JQ660","destination":"AYQ","departureTime":"10:35","originalDepartureTime":"10:35","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ506","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775216890,"flightNumber":"JQ786","destination":"MCY","departureTime":"10:50","originalDepartureTime":"10:50","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ813","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775215281,"flightNumber":"JQ513","destination":"MEL","departureTime":"10:50","originalDepartureTime":"10:50","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ508","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775210829,"flightNumber":"JQ762","destination":"ADL","departureTime":"11:00","originalDepartureTime":"11:00","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ759","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213549,"flightNumber":"JQ840","destination":"PPP","departureTime":"11:40","originalDepartureTime":"11:40","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ748","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775216871,"flightNumber":"JQ721","destination":"HBA","departureTime":"11:45","originalDepartureTime":"11:45","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ785","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775214742,"flightNumber":"JQ952","destination":"CNS","departureTime":"11:45","originalDepartureTime":"11:45","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ951","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775207980,"flightNumber":"JQ844","destination":"ADL","departureTime":"11:50","originalDepartureTime":"11:50","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ728","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775207227,"flightNumber":"JQ986","destination":"PER","departureTime":"11:55","originalDepartureTime":"11:55","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ718","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213364,"flightNumber":"JQ541","destination":"MEL","departureTime":"12:05","originalDepartureTime":"12:05","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ540","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213390,"flightNumber":"JQ764","destination":"ADL","departureTime":"12:30","originalDepartureTime":"12:30","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ405","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213516,"flightNumber":"JQ515","destination":"MEL","departureTime":"12:30","originalDepartureTime":"12:30","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ761","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213665,"flightNumber":"JQ890","destination":"HVB","departureTime":"12:35","originalDepartureTime":"12:35","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ457","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775215767,"flightNumber":"JQ609","destination":"AVV","departureTime":"12:35","originalDepartureTime":"12:35","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ608","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775216894,"flightNumber":"JQ814","destination":"BNE","departureTime":"12:55","originalDepartureTime":"12:55","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ815","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775210070,"flightNumber":"JQ63","destination":"MEL","departureTime":"12:55","originalDepartureTime":"12:55","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ62","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775214278,"flightNumber":"JQ517","destination":"MEL","departureTime":"13:15","originalDepartureTime":"13:15","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ512","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775208708,"flightNumber":"JQ788","destination":"MCY","departureTime":"13:20","originalDepartureTime":"13:20","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ913","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775211024,"flightNumber":"JQ408","destination":"OOL","departureTime":"13:25","originalDepartureTime":"13:25","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ407","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775217156,"flightNumber":"JQ723","destination":"HBA","departureTime":"13:30","originalDepartureTime":"13:30","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775209120,"flightNumber":"JQ816","destination":"BNE","departureTime":"13:50","originalDepartureTime":"13:50","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ953","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775212759,"flightNumber":"JQ519","destination":"MEL","departureTime":"14:30","originalDepartureTime":"14:30","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ459","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775209611,"flightNumber":"JQ460","destination":"BNK","departureTime":"14:40","originalDepartureTime":"14:40","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ409","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775215852,"flightNumber":"JQ521","destination":"MEL","departureTime":"15:10","originalDepartureTime":"15:10","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ514","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213936,"flightNumber":"JQ954","destination":"CNS","departureTime":"15:25","originalDepartureTime":"15:25","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ787","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775214361,"flightNumber":"JQ410","destination":"OOL","departureTime":"15:55","originalDepartureTime":"15:55","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ413","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775211618,"flightNumber":"JQ818","destination":"BNE","departureTime":"15:55","originalDepartureTime":"15:55","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ817","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775209644,"flightNumber":"JQ525","destination":"MEL","departureTime":"16:25","originalDepartureTime":"16:25","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ518","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775217182,"flightNumber":"JQ820","destination":"BNE","departureTime":"17:00","originalDepartureTime":"17:00","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ819","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775207693,"flightNumber":"JQ527","destination":"MEL","departureTime":"17:00","originalDepartureTime":"17:00","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ610","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775209919,"flightNumber":"JQ725","destination":"HBA","departureTime":"17:05","originalDepartureTime":"17:05","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ520","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775208762,"flightNumber":"JQ766","destination":"ADL","departureTime":"17:25","originalDepartureTime":"17:25","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ720","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213525,"flightNumber":"JQ529","destination":"MEL","departureTime":"17:30","originalDepartureTime":"17:30","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ522","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775210713,"flightNumber":"JQ414","destination":"OOL","departureTime":"17:40","originalDepartureTime":"17:40","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ411","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775209369,"flightNumber":"JQ790","destination":"MCY","departureTime":"17:45","originalDepartureTime":"17:45","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ891","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213800,"flightNumber":"JQ531","destination":"MEL","departureTime":"18:00","originalDepartureTime":"18:00","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ841","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775215778,"flightNumber":"JQ749","destination":"LST","departureTime":"18:05","originalDepartureTime":"18:05","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ789","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775213804,"flightNumber":"JQ822","destination":"BNE","departureTime":"18:25","originalDepartureTime":"18:25","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ821","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775215703,"flightNumber":"JQ533","destination":"MEL","departureTime":"18:30","originalDepartureTime":"18:30","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ722","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775212080,"flightNumber":"JQ611","destination":"AVV","departureTime":"18:45","originalDepartureTime":"18:45","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ461","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775214026,"flightNumber":"JQ416","destination":"OOL","departureTime":"19:00","originalDepartureTime":"19:00","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ524","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775215594,"flightNumber":"JQ988","destination":"PER","departureTime":"19:50","originalDepartureTime":"19:50","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775208864,"flightNumber":"JQ672","destination":"DRW","departureTime":"20:20","originalDepartureTime":"20:20","isDelayed":false,"isTurnaround":false,"inboundFlight":"","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775211565,"flightNumber":"JQ956","destination":"CNS","departureTime":"20:25","originalDepartureTime":"20:25","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ955","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775212281,"flightNumber":"JQ768","destination":"ADL","departureTime":"20:40","originalDepartureTime":"20:40","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ767","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775214889,"flightNumber":"JQ537","destination":"MEL","departureTime":"21:15","originalDepartureTime":"21:15","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ530","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775216708,"flightNumber":"JQ826","destination":"BNE","departureTime":"21:30","originalDepartureTime":"21:30","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ825","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775211145,"flightNumber":"JQ613","destination":"AVV","departureTime":"21:45","originalDepartureTime":"21:45","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ532","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775211836,"flightNumber":"JQ418","destination":"OOL","departureTime":"21:45","originalDepartureTime":"21:45","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ417","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false},{"id":1767775214032,"flightNumber":"JQ539","destination":"MEL","departureTime":"22:10","originalDepartureTime":"22:10","isDelayed":false,"isTurnaround":true,"inboundFlight":"JQ534","manualStatus":null,"cancelReason":null,"extensionStartTime":null,"extensionDuration":null,"isAdhoc":false}],"comments":[],"deletedFlights":[],"earlyOpenMode":null,"earlyOpenFlightNumber":null,"earlyOpenHours":3,"flightDate":"2026-01-06T13:00:00.000Z","savedTimestamp":1767775249036};
</script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: white;
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            color: #1f2937;
        }
        .container { max-width: 1400px; margin: 0 auto; padding: 1rem; }
        .header { text-align: center; padding: 1.5rem 0; margin-bottom: 1rem; position: relative; }
        .header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; color: #000345; }
        .header p { color: #6b7280; font-size: 0.9rem; }
        .clock { font-size: 3.5rem; color: #FA5115; font-family: monospace; margin: 0.5rem 0; font-weight: bold; }
        /* Sticky time reference - appears when scrolling */
.scroll-time-reference {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(0, 3, 69, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 1rem;
    padding: 0.75rem 1.5rem;
    color: white;
    font-family: monospace;
    font-size: 1.3rem;
    font-weight: bold;
    box-shadow: 0 8px 24px rgba(0, 3, 69, 0.4);
    z-index: 9997;
    opacity: 0;
    transform: translateY(-10px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    pointer-events: none;
}

.scroll-time-reference.visible {
    opacity: 1;
    transform: translateY(0);
}

.scroll-time-reference::before {
    content: 'ðŸ•';
    margin-right: 0.5rem;
    font-size: 1.1rem;
}

/* Mobile adjustments */
@media (max-width: 768px) {
    .scroll-time-reference {
        top: 10px;
        right: 10px;
        font-size: 1.1rem;
        padding: 0.6rem 1.2rem;
    }
}
        .date-badge { 
            display: inline-block;
            background: rgba(250, 81, 21, 0.1);
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
            border: 1px solid rgba(250, 81, 21, 0.3);
            padding: 0.5rem 1rem;
            border-radius: 1rem;
            font-size: 0.9rem;
            color: #FA5115;
            font-weight: 600;
            margin: 0.5rem 0;
        }
        
       .date-validation-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(16, 185, 129, 0.1);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid rgba(16, 185, 129, 0.3);
    padding: 0.5rem 1rem;
    border-radius: 0.75rem;
    font-size: 0.85rem;
    color: #10b981;
    font-weight: 600;
    display: none;
}

.date-validation-badge.warning {
    background: rgba(245, 158, 11, 0.1);
    border-color: rgba(245, 158, 11, 0.3);
    color: #f59e0b;
}

.date-validation-badge.success-tick {
    background: rgba(16, 185, 129, 0.15);
    border-color: rgba(16, 185, 129, 0.4);
    color: #10b981;
    font-size: 1.5rem;
    padding: 0.5rem 0.75rem;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
}
.date-validation-badge.success-tick {
    background: rgba(16, 185, 129, 0.15);
    border-color: rgba(16, 185, 129, 0.4);
    color: #10b981;
    font-size: 1.5rem;
    padding: 0.5rem 0.75rem;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
}

/* Hide date validation badge in saved HTML files */
body.saved-html .date-validation-badge {
    display: none !important;
}

@media (max-width: 743px) {
    .header {
        padding-top: 3.5rem;
    }
    
    .date-validation-badge {
        top: 0.5rem;
        right: 0.5rem;
        font-size: 0.75rem;
        padding: 0.4rem 0.8rem;
    }
    
    .date-validation-badge.success-tick {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
    }
}

@media (max-width: 480px) {
    .header h1 {
        font-size: 1.8rem;
        padding-right: 60px;
    }
    
    .date-validation-badge {
        top: 0.25rem;
        right: 0.25rem;
    }
}
        
    .upload-btn-container {
    text-align: center;
    margin-bottom: 2rem;
    display: flex;
    gap: 0.75rem;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
}
        
        .search-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin: 0 auto 1.5rem;
        }
        
        .search-input {
            width: 100%;
            padding: 0.75rem 3rem 0.75rem 1rem;
            border: 2px solid rgba(0, 3, 69, 0.3);
            border-radius: 0.75rem;
            font-size: 1rem;
            font-family: inherit;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0, 3, 69, 0.1);
        }
        
        .search-input:focus {
            outline: none;
            border-color: #FA5115;
            box-shadow: 0 4px 16px rgba(250, 81, 21, 0.3);
        }
        
        .search-input::placeholder {
            color: #9ca3af;
        }
        
        .search-clear-btn {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background: #6b7280;
            color: white;
            border: none;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            font-size: 1.2rem;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            font-weight: bold;
        }
        
        .search-clear-btn:hover {
            background: #4b5563;
            transform: translateY(-50%) scale(1.1);
        }
        
        .search-results-modal {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
            border: 2px solid #000345;
            border-radius: 1rem;
            box-shadow: 0 12px 48px rgba(0, 3, 69, 0.3);
            z-index: 10002;
            padding: 2rem;
            max-width: 90%;
            width: 1200px;
            max-height: 85vh;
            overflow-y: auto;
        }
        
        .search-results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid rgba(0, 3, 69, 0.2);
        }
        
        .search-results-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #000345;
        }
        
        .search-results-close {
            background: #dc2626;
            color: white;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            font-weight: bold;
        }
        
        .search-results-close:hover {
            background: #b91c1c;
            transform: scale(1.1);
        }
        
        .search-results-content {
            margin-top: 1rem;
        }
        
        .no-results {
            text-align: center;
            padding: 3rem;
            color: #6b7280;
            font-size: 1.1rem;
        }
        
        .search-highlight {
            background: rgba(250, 81, 21, 0.2);
            padding: 0.1rem 0.3rem;
            border-radius: 0.25rem;
            font-weight: bold;
        }
        
      .upload-btn, .save-btn, .add-flight-btn, .add-comment-main-btn, .early-open-btn, .refresh-all-btn {
    /* ALL BUTTONS SAME BASE STYLE */
    padding: 0.75rem 1.75rem;
    border-radius: 0.5rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    font-size: 1rem;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
    color: white;
    min-width: 180px;
    height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

/* Individual button colors */
.upload-btn, .save-btn {
    background: #FA5115;
    box-shadow: 0 4px 12px rgba(250, 81, 21, 0.3);
}
        
        .save-btn {
            background: #10b981;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        
        .upload-btn:hover { 
            background: #e04510;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(250, 81, 21, 0.5);
        }
        
        .save-btn:hover { 
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(16, 185, 129, 0.5);
        }
        .save-html-btn {
    background: linear-gradient(135deg, rgba(0, 3, 69, 0.9), rgba(0, 3, 69, 0.95));
    box-shadow: 0 4px 12px rgba(0, 3, 69, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
    position: relative;
    overflow: hidden;
}

.save-html-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
    transition: left 0.5s;
}

.save-html-btn:hover::before {
    left: 100%;
}

.save-html-btn:hover { 
    background: linear-gradient(135deg, rgba(0, 3, 69, 0.95), rgba(0, 3, 69, 1));
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 3, 69, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
}
.add-flight-btn {
    background: linear-gradient(135deg, rgba(0, 3, 69, 0.9), rgba(0, 3, 69, 0.95));
    box-shadow: 0 4px 12px rgba(0, 3, 69, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
    position: relative;
    overflow: hidden;
}
.add-comment-main-btn {
    background: linear-gradient(135deg, rgba(0, 3, 69, 0.9), rgba(0, 3, 69, 0.95));
    box-shadow: 0 4px 12px rgba(0, 3, 69, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
    position: relative;
    overflow: hidden;
}
.add-comment-main-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
    transition: left 0.5s;
}

.add-comment-main-btn:hover::before {
    left: 100%;
}

.add-comment-main-btn:hover { 
    background: linear-gradient(135deg, rgba(0, 3, 69, 0.95), rgba(0, 3, 69, 1));
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 3, 69, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
}
.refresh-all-btn {
    background: linear-gradient(135deg, #FA5115, #e04510);
    box-shadow: 0 4px 12px rgba(250, 81, 21, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
    position: relative;
    overflow: hidden;
}

.refresh-all-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
    transition: left 0.5s;
}

.refresh-all-btn:hover::before {
    left: 100%;
}

.refresh-all-btn:hover { 
    background: linear-gradient(135deg, #e04510, #FA5115);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(250, 81, 21, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.refresh-all-btn:active {
    transform: translateY(0px) scale(0.98);
}
@keyframes refreshSpin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.refresh-all-btn:active::after {
    content: 'ðŸ”„';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2rem;
    animation: refreshSpin 1s linear infinite;
}
.add-flight-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
    transition: left 0.5s;
}

.add-flight-btn:hover::before {
    left: 100%;
}

.add-flight-btn:hover { 
    background: linear-gradient(135deg, rgba(0, 3, 69, 0.95), rgba(0, 3, 69, 1));
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 3, 69, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.add-flight-modal {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid #000345;
    border-radius: 0.75rem;
    box-shadow: 0 8px 32px rgba(0, 3, 69, 0.3);
    z-index: 10000;
    width: 90%;
    max-width: 500px;
    padding: 1.5rem;
}

.add-flight-title {
    font-size: 1.3rem;
    font-weight: bold;
    color: #000345;
    margin-bottom: 1.5rem;
    text-align: center;
}

.add-flight-form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.form-label {
    font-weight: 600;
    color: #000345;
    font-size: 0.95rem;
}

.form-input {
    padding: 0.75rem;
    border: 2px solid #000345;
    border-radius: 0.5rem;
    font-family: inherit;
    font-size: 0.95rem;
    background: rgba(255, 255, 255, 0.9);
}

.form-input:focus {
    outline: none;
    border-color: #FA5115;
}

.form-actions {
    display: flex;
    gap: 0.5rem;
    justify-content: flex-end;
    margin-top: 0.5rem;
}

.form-save-btn, .form-cancel-btn {
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    border: none;
    font-size: 0.95rem;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
}

.form-save-btn {
    background: #3b82f6;
    color: white;
}

.form-cancel-btn {
    background: #6b7280;
    color: white;
}

.form-save-btn:hover {
    background: #2563eb;
}

.form-cancel-btn:hover {
    background: #4b5563;
}

.form-note {
    font-size: 0.85rem;
    color: #6b7280;
    font-style: italic;
}
.flight-card {
    background: rgba(255, 255, 255, 0.85);
    border: 2px solid rgba(255, 255, 255, 0.9);
    border-radius: 1rem;
    padding: 1.25rem;
    margin-bottom: 1rem;
    position: relative;
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    grid-template-rows: auto 1fr auto;
    gap: 1rem;
    box-shadow: 0 4px 16px rgba(0, 3, 69, 0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    overflow: hidden;
}



So the structure looks like:
```
.flight-card::before {
    ...
}

.flight-card::after {    â† ADD IT RIGHT HERE
    ...
}

@keyframes liquidDistortion {
    ...
}

.flight-card > * {
    ...
}
.flight-card > * {
    position: relative;
    z-index: 1;
}
.search-results-modal .flight-card {
    background: rgba(255, 255, 255, 0.95) !important;
    border: 2px solid rgba(0, 3, 69, 0.2) !important;
}

.search-results-modal .flight-card::before {
    display: none;
}
.flight-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 1rem;
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.4) 0%,
        rgba(255, 255, 255, 0.05) 50%,
        rgba(255, 255, 255, 0.2) 100%
    );
    pointer-events: none;
    z-index: 0;
}

.flight-card > * {
    position: relative;
    z-index: 1;
}

.flight-card:hover {
    transform: translateY(-5px) scale(1.015);
    box-shadow: 
        0 20px 60px rgba(0, 3, 69, 0.18),
        0 8px 24px rgba(0, 3, 69, 0.12),
        inset 0 3px 8px rgba(255, 255, 255, 1),
        inset 0 -3px 8px rgba(0, 3, 69, 0.08),
        inset 3px 0 10px rgba(255, 255, 255, 0.9),
        inset -3px 0 10px rgba(0, 3, 69, 0.05);
}
.flight-card:hover::before {
    opacity: 1;
}
.flight-card:hover::after {
    animation-duration: 4s;
}    
     
      .flight-card.critical { 
    background: rgba(239, 68, 68, 0.12);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid rgba(239, 68, 68, 0.5);
    box-shadow: 
        0 12px 40px rgba(239, 68, 68, 0.3),
        inset 0 2px 0 rgba(255, 255, 255, 0.6),
        inset 0 -2px 0 rgba(239, 68, 68, 0.15),
        0 0 60px rgba(239, 68, 68, 0.25);
}

.flight-card.critical::before {
    background: linear-gradient(
        135deg,
        rgba(239, 68, 68, 0.25) 0%,
        rgba(255, 255, 255, 0.15) 50%,
        rgba(239, 68, 68, 0.2) 100%
    );
}

.flight-card.critical.pulsing {
    animation: pulse 1.5s infinite;
}

.flight-card.critical:hover {
    transform: translateY(-5px) scale(1.015);
    box-shadow: 
        0 20px 64px rgba(239, 68, 68, 0.4),
        inset 0 2px 0 rgba(255, 255, 255, 0.8),
        inset 0 -2px 0 rgba(239, 68, 68, 0.2),
        0 0 80px rgba(239, 68, 68, 0.35);
}
        
       .flight-card.urgent { 
    background: rgba(239, 68, 68, 0.08);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid rgba(239, 68, 68, 0.35);
    box-shadow: 
        0 10px 35px rgba(239, 68, 68, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.7),
        inset 0 -1px 0 rgba(239, 68, 68, 0.1);
}

.flight-card.urgent::before {
    background: linear-gradient(
        135deg,
        rgba(239, 68, 68, 0.18) 0%,
        rgba(255, 255, 255, 0.12) 50%,
        rgba(239, 68, 68, 0.12) 100%
    );
}

.flight-card.urgent:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow: 
        0 16px 50px rgba(239, 68, 68, 0.35),
        inset 0 1px 0 rgba(255, 255, 255, 0.85),
        inset 0 -1px 0 rgba(239, 68, 68, 0.15);
}
        
       .flight-card.closing { 
    background: rgba(245, 158, 11, 0.08);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid rgba(245, 158, 11, 0.35);
    box-shadow: 
        0 10px 35px rgba(245, 158, 11, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.7),
        inset 0 -1px 0 rgba(245, 158, 11, 0.1);
}

.flight-card.closing::before {
    background: linear-gradient(
        135deg,
        rgba(245, 158, 11, 0.18) 0%,
        rgba(255, 255, 255, 0.12) 50%,
        rgba(245, 158, 11, 0.12) 100%
    );
}

.flight-card.closing:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow: 
        0 16px 50px rgba(245, 158, 11, 0.35),
        inset 0 1px 0 rgba(255, 255, 255, 0.85),
        inset 0 -1px 0 rgba(245, 158, 11, 0.15);
}
        
       .flight-card.open { 
    background: rgba(16, 185, 129, 0.06);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid rgba(16, 185, 129, 0.3);
    box-shadow: 
        0 8px 32px rgba(16, 185, 129, 0.18),
        inset 0 1px 0 rgba(255, 255, 255, 0.7),
        inset 0 -1px 0 rgba(16, 185, 129, 0.08);
}

.flight-card.open::before {
    background: linear-gradient(
        135deg,
        rgba(16, 185, 129, 0.15) 0%,
        rgba(255, 255, 255, 0.12) 50%,
        rgba(16, 185, 129, 0.1) 100%
    );
}

.flight-card.open:hover {
    transform: translateY(-3px) scale(1.01);
    box-shadow: 
        0 14px 45px rgba(16, 185, 129, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.85),
        inset 0 -1px 0 rgba(16, 185, 129, 0.12);
}
        .flight-card.not-open { 
    background: rgba(156, 163, 175, 0.08);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid rgba(156, 163, 175, 0.3);
    box-shadow: 
        0 8px 32px rgba(156, 163, 175, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.6),
        inset 0 -1px 0 rgba(0, 0, 0, 0.05);
    opacity: 0.75;
}

.flight-card.not-open::before {
    background: linear-gradient(
        135deg,
        rgba(156, 163, 175, 0.15) 0%,
        rgba(255, 255, 255, 0.1) 50%,
        rgba(156, 163, 175, 0.1) 100%
    );
}

.flight-card.not-open:hover {
    transform: translateY(-2px) scale(1.005);
    opacity: 0.85;
}
        
       .flight-card.closed { 
    background: rgba(107, 114, 128, 0.08);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid rgba(107, 114, 128, 0.3);
    box-shadow: 
        0 8px 32px rgba(107, 114, 128, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.5),
        inset 0 -1px 0 rgba(0, 0, 0, 0.05);
    opacity: 0.65;
}

.flight-card.closed::before {
    background: linear-gradient(
        135deg,
        rgba(107, 114, 128, 0.15) 0%,
        rgba(255, 255, 255, 0.08) 50%,
        rgba(107, 114, 128, 0.1) 100%
    );
}

.flight-card.closed:hover {
    transform: translateY(-2px) scale(1.005);
    opacity: 0.75;
}
.flight-card.extended {
    background: rgba(59, 130, 246, 0.12);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid rgba(59, 130, 246, 0.5);
    box-shadow: 
        0 12px 40px rgba(59, 130, 246, 0.3),
        inset 0 2px 0 rgba(255, 255, 255, 0.6),
        inset 0 -2px 0 rgba(59, 130, 246, 0.15),
        0 0 60px rgba(59, 130, 246, 0.25);
}

.flight-card.extended::before {
    background: linear-gradient(
        135deg,
        rgba(59, 130, 246, 0.25) 0%,
        rgba(255, 255, 255, 0.15) 50%,
        rgba(59, 130, 246, 0.2) 100%
    );
}

.flight-card.extended:hover {
    transform: translateY(-5px) scale(1.015);
    box-shadow: 
        0 20px 64px rgba(59, 130, 246, 0.4),
        inset 0 2px 0 rgba(255, 255, 255, 0.8),
        inset 0 -2px 0 rgba(59, 130, 246, 0.2),
        0 0 80px rgba(59, 130, 246, 0.35);
}
        
       .flight-card.cancelled { 
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 3px solid #dc2626;
    box-shadow: 
        0 12px 45px rgba(220, 38, 38, 0.35),
        inset 0 2px 0 rgba(255, 255, 255, 0.8),
        inset 0 -2px 0 rgba(220, 38, 38, 0.15),
        0 0 60px rgba(220, 38, 38, 0.3);
}

.flight-card.cancelled::before {
    background: linear-gradient(
        135deg,
        rgba(220, 38, 38, 0.2) 0%,
        rgba(255, 255, 255, 0.15) 50%,
        rgba(220, 38, 38, 0.15) 100%
    );
}

.flight-card.cancelled:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow: 
        0 16px 60px rgba(220, 38, 38, 0.45),
        inset 0 2px 0 rgba(255, 255, 255, 0.9),
        inset 0 -2px 0 rgba(220, 38, 38, 0.2),
        0 0 80px rgba(220, 38, 38, 0.4);
}
       
}
/* ==========================================
   DESTINATION WRAPPER & TIMER WRAPPER
   ========================================== */
.destination-glass-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    flex-shrink: 0;
    margin-bottom: 0.5rem;
}

.timer-content-wrapper {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}


/* ACTIVE/OPEN SECTION */
.active-section-card .section-left {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.active-section-card .flight-number {
    margin-bottom: 0.25rem;
}

.active-section-card .flight-number-glass {
    padding: 0.85rem 1.5rem;  /* <-- Match the global settings we set earlier */
}

.active-section-card .destination-glass {
    font-size: 2.0rem;  /* âœ… Match desktop default */
    padding: 0.85rem 1.5rem;  /* âœ… Match flight-number-glass */
}

/* Align destination and status with flight number height */
.active-section-card .destination-glass-wrapper {
    margin-bottom: 0;
    margin-top: 0;
}

.active-section-card .section-center {
    justify-content: center;  /* <-- Changed from flex-start to center */
    padding-top: 0;
}
/* âœ… FORCE ALL SECTIONS TO CENTER LIKE ACTIVE */
.urgent-section-card .section-center,
.closed-section-card .section-center,
.notopen-section-card .section-center,
.cancelled-section-card .section-center {
    justify-content: center !important;
    padding-top: 0 !important;
}

.urgent-section-card .destination-glass-wrapper,
.closed-section-card .destination-glass-wrapper,
.notopen-section-card .destination-glass-wrapper,
.cancelled-section-card .destination-glass-wrapper {
    margin-bottom: 0 !important;
    margin-top: 0 !important;
}
.active-section-card .section-right {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    padding-top: 0;
}

.active-section-card .status-badge-wrapper {
    margin-top: 0;
}

        @keyframes pulse {
            0%, 100% { 
                opacity: 1; 
                box-shadow: 
                    0 8px 32px rgba(239, 68, 68, 0.25),
                    inset 0 1px 0 rgba(255, 255, 255, 0.6),
                    inset 0 -1px 0 rgba(239, 68, 68, 0.1),
                    0 0 40px rgba(239, 68, 68, 0.3);
            }
            50% { 
                opacity: 0.9; 
                box-shadow: 
                    0 12px 48px rgba(239, 68, 68, 0.35),
                    inset 0 1px 0 rgba(255, 255, 255, 0.7),
                    inset 0 -1px 0 rgba(239, 68, 68, 0.15),
                    0 0 50px rgba(239, 68, 68, 0.5);
            }
        }
        
/* Top row - bubbles */
.section-left { 
    grid-column: 1;
    grid-row: 1;
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
}

.section-center { 
    grid-column: 2;
    grid-row: 1;
    display: flex;
    align-items: flex-start;
    justify-content: center;
}

.section-right-top {
    grid-column: 3;
    grid-row: 1;
    display: flex;
    align-items: flex-start;
    justify-content: flex-end;
}

/* Middle row - timer and info */
.section-timer {
    grid-column: 1 / -1;
    grid-row: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 1rem 0;
}

/* Bottom row - status and delete */
.section-bottom {
    grid-column: 1 / -1;
    grid-row: 3;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
}
        .active-section-card .section-right {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}

.active-section-card .section-right .permanent-delete-btn {
    width: auto;
    max-width: 100%;
    display: inline-block;
}
        .turnaround-icon {
    font-size: 1.2rem;
    margin-left: 0.5rem;
    letter-spacing: 0.3rem;
    display: inline-block;
}
        
    .flight-number { 
    font-size: 2.0rem;      /* â† Match destination */
    font-weight: 900;       /* â† Match destination */
    margin-bottom: 0.25rem;
    display: flex;
    align-items: center;
    color: #000345;
}
        .flight-number-glass {
    background: linear-gradient(135deg,
        rgba(255, 255, 255, 0.8) 0%,
        rgba(255, 255, 255, 0.6) 50%,
        rgba(255, 255, 255, 0.8) 100%);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid rgba(255, 255, 255, 0.95);
    border-radius: 0.75rem;
    font-size: 1.8rem;
    font-weight: 900;
    color: #000345;
    padding: 0.85rem 1.5rem;
    box-shadow: 
        0 4px 16px rgba(0, 3, 69, 0.08),
        inset 0 2px 4px rgba(255, 255, 255, 1),
        inset 0 -1px 3px rgba(0, 3, 69, 0.04),
        inset 1px 0 4px rgba(255, 255, 255, 0.9),
        inset -1px 0 4px rgba(0, 3, 69, 0.03);
    position: relative;
    overflow: hidden;
}
.flight-number-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg,
        transparent,
        rgba(255, 255, 255, 0.6),
        transparent);
    animation: shimmer 3s ease-in-out infinite;
}

@keyframes shimmer {
    0% { left: -100%; }
    50%, 100% { left: 200%; }
}
.destination-glass {
    background: linear-gradient(135deg,
        rgba(255, 255, 255, 0.85) 0%,
        rgba(255, 255, 255, 0.65) 50%,
        rgba(255, 255, 255, 0.85) 100%);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid rgba(255, 255, 255, 0.95);
    border-radius: 0.75rem;
    padding: 0.85rem 1.5rem;  /* âœ… MATCHED to flight-number-glass */
    box-shadow: 
        0 4px 16px rgba(0, 3, 69, 0.08),
        inset 0 2px 4px rgba(255, 255, 255, 1),
        inset 0 -1px 3px rgba(0, 3, 69, 0.04),
        inset 1px 0 4px rgba(255, 255, 255, 0.9),
        inset -1px 0 4px rgba(0, 3, 69, 0.03);
    position: relative;
    overflow: hidden;
    display: inline-flex;  /* âœ… Changed from inline-block */
    align-items: center;   /* âœ… Added */
    justify-content: center;  /* âœ… Added */
    font-size: 2.0rem;
    font-weight: 900;  /* âœ… Changed from bold to 900 to match flight number */
    color: #000345;
    flex-shrink: 0;
    white-space: nowrap;  /* âœ… Added */
}
.destination-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg,
        transparent,
        rgba(255, 255, 255, 0.7),
        transparent);
    animation: shimmer 3s ease-in-out infinite;
    animation-delay: 1s;
}
/* Close Time Bubble - matches flight number and destination style */
.close-time-glass {
    background: linear-gradient(135deg,
        rgba(255, 255, 255, 0.85) 0%,
        rgba(255, 255, 255, 0.65) 50%,
        rgba(255, 255, 255, 0.85) 100%);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid rgba(255, 255, 255, 0.95);
    border-radius: 0.75rem;
    padding: 1.1rem 1.5rem;
    box-shadow: 
        0 4px 16px rgba(0, 3, 69, 0.08),
        inset 0 2px 4px rgba(255, 255, 255, 1),
        inset 0 -1px 3px rgba(0, 3, 69, 0.04),
        inset 1px 0 4px rgba(255, 255, 255, 0.9),
        inset -1px 0 4px rgba(0, 3, 69, 0.03);
    position: relative;
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.3rem;
    font-weight: bold;
    color: #000345;
    white-space: nowrap;
}

.close-time-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg,
        transparent,
        rgba(255, 255, 255, 0.7),
        transparent);
    animation: shimmer 3s ease-in-out infinite;
    animation-delay: 1.5s;
}

.close-time-label {
    font-size: 1.5rem;
    opacity: 0.8;
    font-weight: 600;
}

.close-time-value {
    font-size: 1.55rem;
    font-weight: bold;
    font-family: monospace;
}
      .destination-glass-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    margin-bottom: 0.5rem;
}
        
     .destination { 
    font-size: 0.9rem; 
    color: #6b7280; 
    margin-top: 0.25rem;
}


        .times { 
    font-size: 1rem; 
    color: #000345; 
    font-weight: bold; 
    margin: 0.4rem 0;
}
        .times-label { font-size: 0.85rem; color: #6b7280; }
        
        .timer-label { font-size: 1rem; color: #6b7280; margin-bottom: 0.5rem; margin-top: 0.5rem; font-weight: 600; }
.timer { font-size: 4.5rem; font-weight: bold; font-family: monospace; line-height: 1; color: #000345; }
        .progress-bar {
            width: 100%;
            height: 0.5rem;
            background: rgba(0,0,0,0.1);
            border-radius: 9999px;
            overflow: hidden;
            margin-top: 0.5rem;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #14b8a6);
            transition: width 1s;
        }
        .progress-fill.urgent { background: linear-gradient(90deg, #ef4444, #ec4899); }
        .progress-fill.closing { background: linear-gradient(90deg, #eab308, #f97316); }
        
        .status-badge { font-size: 1.5rem; font-weight: bold; padding: 0.5rem 1rem; border-radius: 0.5rem; display: inline-block; position: relative; cursor: pointer; transition: all 0.2s; min-height: 44px; min-width: 44px; display: inline-flex; align-items: center; justify-content: center; }
        .status-badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .status-open { background: #10b981; color: white; }
        .status-closing { background: #f59e0b; color: white; }
        .status-urgent { background: #ef4444; color: white; }
        .status-closed { background: #6b7280; color: white; }
        .status-not-open { background: #9ca3af; color: white; }
        .status-cancelled { background: #dc2626; color: white; }
        .status-extended { background: #3b82f6; color: white; }
        
        .status-dropdown {
    position: fixed;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid #000345;
    border-radius: 0.75rem;
    box-shadow: 0 8px 32px rgba(0, 3, 69, 0.3);
    z-index: 10001;
    min-width: 250px;
    /* âœ… Add smooth animation */
    transition: opacity 0.2s ease, transform 0.2s ease;
}

/* âœ… Tablet-specific dropdown styles */
@media only screen and (min-width: 600px) and (max-width: 1024px) {
    .status-dropdown {
        /* Ensure dropdown is properly sized on tablets */
        min-width: 250px;
        max-width: 250px;
        
        /* Add extra shadow for better visibility */
        box-shadow: 0 12px 40px rgba(0, 3, 69, 0.4);
        
        /* Add subtle animation when appearing */
        animation: dropdownFadeIn 0.2s ease;
    }
    
    @keyframes dropdownFadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
}

/* âœ… Mobile-specific dropdown styles */
@media only screen and (max-width: 599px) {
    .status-dropdown {
        min-width: 220px;
        max-width: 220px;
        box-shadow: 0 12px 40px rgba(0, 3, 69, 0.4);
    }
}
/* âœ… Add arrow pointing to button (tablet/mobile only) */
@media only screen and (max-width: 1024px) {
    .status-dropdown::after {
        content: '';
        position: absolute;
        bottom: -10px; /* Below the dropdown */
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-left: 10px solid transparent;
        border-right: 10px solid transparent;
        border-top: 10px solid #000345; /* Match dropdown border color */
    }
    
    .status-dropdown::before {
        content: '';
        position: absolute;
        bottom: -8px;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-top: 8px solid rgba(255, 255, 255, 0.98); /* Match dropdown background */
        z-index: 1;
    }
}
        .status-option {
    padding: 0.75rem 1rem;
    cursor: pointer;
    transition: all 0.2s;
    color: #000345;
    border-bottom: 1px solid rgba(0, 3, 69, 0.1);
    font-weight: 500;
    user-select: none;
}

/* âœ… Tablet: Bigger touch targets */
@media only screen and (min-width: 600px) and (max-width: 1024px) {
    .status-option {
        padding: 1rem 1.25rem; /* Bigger padding for easier tapping */
        font-size: 1rem; /* Slightly larger text */
        min-height: 48px; /* Apple's recommended minimum touch target */
        display: flex;
        align-items: center;
    }
    
    .status-option:active {
        background: rgba(250, 81, 21, 0.25); /* Stronger feedback on tap */
        transform: scale(0.98); /* Subtle press effect */
    }
}

/* âœ… Mobile: Even bigger touch targets */
@media only screen and (max-width: 599px) {
    .status-option {
        padding: 1.1rem 1rem;
        font-size: 0.95rem;
        min-height: 52px;
        display: flex;
        align-items: center;
    }
}
        .status-option:last-child {
            border-bottom: none;
        }
        .status-option:hover {
            background: rgba(250, 81, 21, 0.15);
            color: #FA5115;
        }
        
        .status-badge-wrapper {
            position: relative;
            display: inline-block;
        }
        
        .cancel-reason-dropdown {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
            border: 2px solid #000345;
            border-radius: 0.75rem;
            box-shadow: 0 8px 32px rgba(0, 3, 69, 0.2);
            z-index: 10000;
            min-width: 300px;
            padding: 1.5rem;
        }
        .cancel-reason-option {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: all 0.2s;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            color: #000345;
            background: rgba(0, 3, 69, 0.03);
        }
        .cancel-reason-option:hover {
            background: rgba(250, 81, 21, 0.1);
            color: #FA5115;
        }
        .custom-reason-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #000345;
            border-radius: 0.5rem;
            margin-top: 0.5rem;
            font-family: inherit;
            background: rgba(255, 255, 255, 0.9);
        }
        .custom-reason-input:focus {
            outline: none;
            border-color: #FA5115;
        }
        
        .editable {
            cursor: text;
            padding: 0.1rem 0.3rem;
            border-radius: 0.25rem;
            transition: background 0.2s;
        }
        .editable:hover {
            background: rgba(250, 81, 21, 0.1);
        }
        .editable:focus {
            outline: 2px solid #FA5115;
            background: white;
        }
        
        .cancel-reason-display { 
            font-size: 1.2rem; 
            color: #dc2626; 
            margin-top: 0.5rem;
            font-weight: 600;
        }
        
        #loading { text-align: center; padding: 3rem; color: #6b7280; }
        
        .section-title {
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #000345;
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 3, 69, 0.3);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            z-index: 9999;
        }
        
       .comments-section {
    display: none;
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid rgba(255, 255, 255, 0.4);
    border-radius: 1.5rem;
    padding: 1.5rem;
    margin-bottom: 2rem;
    box-shadow: 
        0 8px 32px rgba(0, 3, 69, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.8),
        inset 0 -1px 0 rgba(0, 0, 0, 0.05);
    position: relative;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.comments-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 1.5rem;
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.4) 0%,
        rgba(255, 255, 255, 0.05) 50%,
        rgba(255, 255, 255, 0.2) 100%
    );
    pointer-events: none;
    z-index: 0;
}

.comments-section > * {
    position: relative;
    z-index: 1;
}

.comments-section:hover {
    transform: translateY(-2px) scale(1.005);
    box-shadow: 
        0 16px 48px rgba(0, 3, 69, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.9),
        inset 0 -1px 0 rgba(0, 0, 0, 0.08);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

.comments-section::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(
        circle,
        rgba(255, 255, 255, 0.3) 0%,
        transparent 70%
    );
    opacity: 0;
    transition: opacity 0.4s, transform 0.4s;
    pointer-events: none;
    z-index: 0;
}

.comments-section:hover::after {
    opacity: 1;
    animation: liquidDistortion 3s ease-in-out infinite;
}

@keyframes liquidDistortion {
    0%, 100% { 
        transform: translate(0, 0) scale(1);
    }
    25% { 
        transform: translate(10px, -10px) scale(1.05);
    }
    50% { 
        transform: translate(-5px, 10px) scale(0.98);
    }
    75% { 
        transform: translate(15px, 5px) scale(1.03);
    }
}
        
        .comments-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .comments-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #000345;
        }
        
        .comments-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .add-comment-btn, .delete-all-btn {
            background: #FA5115;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border: none;
            font-size: 0.9rem;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .delete-all-btn {
            background: #dc2626;
        }
        
        .add-comment-btn:hover {
            background: #e04510;
            transform: translateY(-1px);
        }
        
        .delete-all-btn:hover {
            background: #b91c1c;
            transform: translateY(-1px);
        }
        
        .comment-card {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid rgba(255, 255, 255, 0.5);
    border-radius: 0.75rem;
    padding: 1rem;
    margin-bottom: 0.75rem;
    position: relative;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 
        0 4px 16px rgba(0, 3, 69, 0.08),
        inset 0 1px 0 rgba(255, 255, 255, 0.6);
    overflow: hidden;
}


}

.comment-card:hover {
    transform: translateY(-3px) scale(1.01);
    box-shadow: 
        0 8px 24px rgba(0, 3, 69, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
    backdrop-filter: none;
    -webkit-backdrop-filter:none;
}
        
        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .comment-timestamp {
            font-size: 0.8rem;
            color: #6b7280;
            font-weight: 600;
        }
        
      .comment-delete { background: #dc2626; color: white; border: none; border-radius: 50%; width: 32px; height: 32px; font-size: 1.1rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; font-weight: bold; }
        
        .comment-delete:hover {
            background: #b91c1c;
            transform: scale(1.1);
        }
        
        .comment-text {
            color: #1f2937;
            font-size: 0.95rem;
            line-height: 1.5;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 0.25rem;
            transition: background 0.2s;
        }
        
        .comment-text:hover {
            background: rgba(250, 81, 21, 0.05);
        }
        
        .comment-text[contenteditable="true"] {
            background: white;
            border: 2px solid #FA5115;
            padding: 0.5rem;
        }
        
        .comment-input-modal {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
            border: 2px solid #000345;
            border-radius: 0.75rem;
            box-shadow: 0 8px 32px rgba(0, 3, 69, 0.2);
            z-index: 10000;
            width: 90%;
            max-width: 500px;
            padding: 1.5rem;
        }
        
        .comment-input-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #000345;
            margin-bottom: 1rem;
        }
        
        .comment-textarea {
            width: 100%;
            min-height: 100px;
            padding: 0.75rem;
            border: 2px solid #000345;
            border-radius: 0.5rem;
            font-family: inherit;
            font-size: 0.95rem;
            resize: vertical;
            margin-bottom: 1rem;
        }
        
        .comment-textarea:focus {
            outline: none;
            border-color: #FA5115;
        }
        
        .comment-input-actions {
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
        }
        
        .comment-save-btn, .comment-cancel-btn {
            padding: 0.5rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-size: 0.9rem;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .comment-save-btn {
            background: #FA5115;
            color: white;
        }
        
        .comment-cancel-btn {
            background: #6b7280;
            color: white;
        }
        
        .comment-save-btn:hover {
            background: #e04510;
        }
        
        .comment-cancel-btn:hover {
            background: #4b5563;
        }
        
        .no-comments {
            text-align: center;
            color: #6b7280;
            padding: 2rem;
            font-style: italic;
        }
        .editing-warning-modal {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
            border: 2px solid #f59e0b;
            border-radius: 0.75rem;
            box-shadow: 0 8px 32px rgba(245, 158, 11, 0.3);
            z-index: 10001;
            padding: 2rem;
            max-width: 400px;
            text-align: center;
        }
        
        .editing-warning-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #f59e0b;
            margin-bottom: 1rem;
        }
        
        .editing-warning-text {
            color: #000345;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }
        
        .editing-warning-btn {
            background: #f59e0b;
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-size: 0.9rem;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .editing-warning-btn:hover {
            background: #d97706;
        }
        
        .date-mismatch-modal {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
            border: 3px solid #f59e0b;
            border-radius: 1rem;
            box-shadow: 0 12px 48px rgba(245, 158, 11, 0.4);
            z-index: 10002;
            padding: 2.5rem;
            max-width: 500px;
            width: 90%;
        }
        
        .date-mismatch-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #f59e0b;
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .date-mismatch-text {
            color: #000345;
            margin-bottom: 1.5rem;
            line-height: 1.6;
            font-size: 1rem;
        }
        
        .date-mismatch-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }
        
        .date-mismatch-btn {
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .date-mismatch-btn.continue {
            background: #10b981;
            color: white;
        }
        
        .date-mismatch-btn.cancel {
            background: #6b7280;
            color: white;
        }
        
        .date-mismatch-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        .section-container {
    margin-bottom: 2rem;
}

.section-header {
    background: rgba(0, 3, 69, 0.9);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 0.75rem;
    padding: 1rem 1.5rem;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s;
    margin-bottom: 0.5rem;
    box-shadow: 0 4px 12px rgba(0, 3, 69, 0.3);
}

.section-header:hover {
    background: rgba(0, 3, 69, 0.95);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 3, 69, 0.4);
}

.section-header-left {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.section-header-title {
    font-size: 1.3rem;
    font-weight: bold;
    color: white;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.section-header-count {
    background: rgba(250, 81, 21, 0.9);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 600;
}

.section-toggle {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: none;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    font-size: 1.5rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s;
    font-weight: bold;
}

.section-toggle:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.1);
}

.section-content {
    overflow: visible;
    transition: max-height 0.4s ease-out, opacity 0.3s ease-out;
    max-height: 0;
    opacity: 0;
}

.section-content.expanded {
    max-height: 50000px;
    opacity: 1;
    padding-top: 0.5rem;
}

.turnaround-icon {
    font-size: 0.85rem;
    margin-left: 0.5rem;
    display: inline-flex;
    align-items: center;
    white-space: nowrap;
}
.deleted-flights-section {
    background: rgba(220, 38, 38, 0.1);
    backdrop-filter: blur(40px) saturate(180%);
    -webkit-backdrop-filter: blur(40px) saturate(180%);
    border: 2px solid rgba(220, 38, 38, 0.4);
    border-radius: 1.5rem;
    padding: 1.5rem;
    margin-bottom: 2rem;
    box-shadow: 
        0 8px 32px rgba(220, 38, 38, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

.deleted-flights-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.deleted-flights-title {
    font-size: 1.5rem;
    font-weight: bold;
    color: #dc2626;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.deleted-flight-card {
    background: rgba(255, 255, 255, 0.5);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 1px solid rgba(220, 38, 38, 0.3);
    border-radius: 0.75rem;
    padding: 1rem;
    margin-bottom: 0.75rem;
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    gap: 1rem;
    align-items: center;
}

.deleted-flight-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.deleted-flight-number {
    font-size: 1.2rem;
    font-weight: bold;
    color: #dc2626;
}

.deleted-flight-details {
    font-size: 0.9rem;
    color: #6b7280;
}

.deleted-flight-timestamp {
    font-size: 0.85rem;
    color: #9ca3af;
    font-style: italic;
}

.restore-btn {
    background: #10b981;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    border: none;
    font-size: 0.9rem;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
}

.restore-btn:hover {
    background: #059669;
    transform: translateY(-1px);
}

.permanent-delete-btn {
    background: #dc2626;
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    border: none;
    font-size: 1.0rem;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
}

.permanent-delete-btn:hover {
    background: #b91c1c;
    transform: translateY(-1px);
}

.restore-modal {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid #000345;
    border-radius: 0.75rem;
    box-shadow: 0 8px 32px rgba(0, 3, 69, 0.3);
    z-index: 10000;
    min-width: 300px;
    padding: 1.5rem;
}

.restore-modal-title {
    font-size: 1.2rem;
    font-weight: bold;
    color: #000345;
    margin-bottom: 1rem;
    text-align: center;
}

.restore-option {
    padding: 0.75rem 1rem;
    cursor: pointer;
    transition: all 0.2s;
    border-radius: 0.5rem;
    margin-bottom: 0.5rem;
    color: #000345;
    background: rgba(0, 3, 69, 0.03);
    border: 1px solid rgba(0, 3, 69, 0.1);
}

.restore-option:hover {
    background: rgba(16, 185, 129, 0.15);
    border-color: #10b981;
    color: #10b981;
}

.no-deleted-flights {
    text-align: center;
    color: #6b7280;
    padding: 2rem;
    font-style: italic;
}

.clear-all-deleted-btn {
    background: #6b7280;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    border: none;
    font-size: 0.9rem;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
}

.clear-all-deleted-btn:hover {
    background: #4b5563;
    transform: translateY(-1px);
}

.cancellation-notification {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    border: 3px solid #dc2626;
    border-radius: 1rem;
    box-shadow: 0 20px 60px rgba(220, 38, 38, 0.5);
    z-index: 10004;
    padding: 2rem;
    max-width: 500px;
    width: 90%;
}

.cancellation-notification-header {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid rgba(220, 38, 38, 0.3);
}

.cancellation-notification-body {
    margin-bottom: 1.5rem;
}

.cancellation-detail {
    display: flex;
    justify-content: space-between;
    padding: 0.75rem 0;
    border-bottom: 1px solid rgba(0, 3, 69, 0.1);
}

.cancellation-label {
    font-weight: 600;
    color: #6b7280;
}

.cancellation-value {
    font-weight: bold;
    color: #000345;
}

.cancellation-reason {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(220, 38, 38, 0.05);
    border-radius: 0.5rem;
    border: 1px solid rgba(220, 38, 38, 0.2);
}

.cancellation-value-reason {
    font-weight: bold;
    color: #dc2626;
    font-size: 1.1rem;
}

.cancellation-acknowledge-btn {
    width: 100%;
    background: #dc2626;
    color: white;
    padding: 1rem 2rem;
    border-radius: 0.75rem;
    border: none;
    font-size: 1.1rem;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
}

.cancellation-acknowledge-btn:hover {
    background: #b91c1c;
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(220, 38, 38, 0.5);
}

.comment-notification-popup {
    position: fixed;
    right: 2rem;
    bottom: 2rem;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    border: 2px solid rgba(59, 130, 246, 0.5);
    border-radius: 1rem;
    box-shadow: 0 12px 40px rgba(59, 130, 246, 0.3);
    z-index: 9999;
    padding: 1.5rem;
    max-width: 350px;
    width: 90%;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.comment-notification-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid rgba(59, 130, 246, 0.2);
}

.comment-notification-icon {
    font-size: 1.8rem;
    animation: gentlePulse 2s ease-in-out infinite;
}

@keyframes gentlePulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
}

.comment-notification-title {
    font-size: 1.1rem;
    font-weight: bold;
    color: #3b82f6;
}

.comment-notification-body {
    margin-bottom: 1rem;
}

.comment-notification-time {
    font-size: 0.85rem;
    color: #6b7280;
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.comment-notification-preview {
    color: #1f2937;
    font-size: 0.95rem;
    line-height: 1.5;
    padding: 0.75rem;
    background: rgba(59, 130, 246, 0.05);
    border-radius: 0.5rem;
    border-left: 3px solid #3b82f6;
}

.comment-notification-acknowledge {
    width: 100%;
    background: #3b82f6;
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    border: none;
    font-size: 0.95rem;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
}

.comment-notification-acknowledge:hover {
    background: #2563eb;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
}

@media (max-width: 768px) {
    .comment-notification-popup {
        right: 1rem;
        bottom: 1rem;
        max-width: calc(100% - 2rem);
    }
}
.early-open-btn {
    background: linear-gradient(135deg, #000345, #001a6e);
    box-shadow: 0 4px 12px rgba(0, 3, 69, 0.3);
}

.early-open-btn:hover {
    background: linear-gradient(135deg, #001a6e, #000345);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 3, 69, 0.5);
}
.early-open-indicator {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: #fbbf24;
    color: #000345;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    font-size: 0.9rem;
    margin-left: 0.5rem;
    animation: indicatorPulse 2s ease-in-out infinite;
    cursor: pointer;
    transition: all 0.3s;
}

.early-open-indicator:hover {
    background: #f59e0b;
    transform: scale(1.2);
}

@keyframes indicatorPulse {
    0%, 100% { 
        box-shadow: 0 0 0 0 rgba(251, 191, 36, 0.7);
    }
    50% { 
        box-shadow: 0 0 0 8px rgba(251, 191, 36, 0);
    }
}

.early-open-status-popup {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid #fbbf24;
    border-radius: 0.75rem;
    box-shadow: 0 8px 32px rgba(251, 191, 36, 0.3);
    z-index: 10000;
    padding: 2rem;
    max-width: 400px;
    width: 90%;
    text-align: center;
}

.early-open-status-title {
    font-size: 1.3rem;
    font-weight: bold;
    color: #000345;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.early-open-status-message {
    font-size: 1.1rem;
    color: #1f2937;
    margin-bottom: 1.5rem;
    line-height: 1.6;
}

.early-open-status-close {
    background: #fbbf24;
    color: #000345;
    padding: 0.75rem 2rem;
    border-radius: 0.5rem;
    border: none;
    font-size: 1rem;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
}

.early-open-status-close:hover {
    background: #f59e0b;
    transform: translateY(-2px);
}
.early-open-modal {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid #000345;
    border-radius: 0.75rem;
    box-shadow: 0 8px 32px rgba(0, 3, 69, 0.3);
    z-index: 10000;
    width: 90%;
    max-width: 500px;
    padding: 2rem;
}

.early-open-title {
    font-size: 1.3rem;
    font-weight: bold;
    color: #000345;
    margin-bottom: 1.5rem;
    text-align: center;
}

.early-open-option {
    padding: 1rem;
    margin-bottom: 1rem;
    border: 2px solid #e0e7ff;
    border-radius: 0.5rem;
    cursor: pointer;
    transition: all 0.3s;
    background: rgba(0, 3, 69, 0.03);
}

.early-open-option:hover {
    border-color: #000345;
    background: rgba(0, 3, 69, 0.1);
    transform: translateY(-2px);
}

.early-open-option-title {
    font-weight: bold;
    color: #000345;
    margin-bottom: 0.5rem;
}

.early-open-option-desc {
    font-size: 0.9rem;
    color: #6b7280;
}

.early-open-input-modal {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid #000345;
    border-radius: 0.75rem;
    box-shadow: 0 8px 32px rgba(0, 3, 69, 0.3);
    z-index: 10001;
    width: 90%;
    max-width: 400px;
    padding: 2rem;
}

.early-open-input-title {
    font-size: 1.2rem;
    font-weight: bold;
    color: #000345;
    margin-bottom: 1rem;
    text-align: center;
}

.early-open-input {
    width: 100%;
    padding: 0.75rem;
    border: 2px solid #000345;
    border-radius: 0.5rem;
    font-family: inherit;
    font-size: 1rem;
    margin-bottom: 1rem;
    text-transform: uppercase;
}

.early-open-input:focus {
    outline: none;
    border-color: #FA5115;
    box-shadow: 0 0 0 3px rgba(250, 81, 21, 0.1);
}

.early-open-actions {
    display: flex;
    gap: 0.5rem;
    justify-content: flex-end;
}

.early-open-confirm, .early-open-cancel {
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    border: none;
    font-size: 0.95rem;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
}

.early-open-confirm {
    background: #000345;
    color: white;
}

.early-open-cancel {
    background: #6b7280;
    color: white;
}

.early-open-confirm:hover {
    background: #001a6e;
}

.early-open-cancel:hover {
    background: #4b5563;
}

.early-open-status {
    background: rgba(0, 3, 69, 0.1);
    border: 1px solid #000345;
    border-radius: 0.5rem;
    padding: 0.75rem;
    margin-top: 0.5rem;
    text-align: center;
    font-size: 0.9rem;
    color: #000345;
    font-weight: 600;
}

.stop-extension-btn {
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    font-size: 1.5rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    margin: 1rem auto 0;
}

.stop-extension-btn:hover {
    background: #2563eb;
    transform: scale(1.1);
    box-shadow: 0 6px 16px rgba(59, 130, 246, 0.5);
}

.extension-info-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: #3b82f6;
    color: white;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    margin-left: 0.5rem;
}

.extension-info-icon:hover {
    background: #2563eb;
    transform: scale(1.15);
}

.extension-notification {
    position: fixed;
    top: 2rem;
    right: 2rem;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    border: 2px solid rgba(59, 130, 246, 0.5);
    border-radius: 1rem;
    box-shadow: 0 12px 40px rgba(59, 130, 246, 0.3);
    z-index: 9999;
    padding: 1.5rem;
    max-width: 350px;
    width: 90%;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.extension-notification-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
}

.extension-notification-icon {
    font-size: 1.8rem;
}

.extension-notification-title {
    font-size: 1.1rem;
    font-weight: bold;
    color: #3b82f6;
}

.extension-notification-body {
    color: #1f2937;
    font-size: 0.95rem;
    line-height: 1.5;
}

.extension-notification-close {
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    background: #dc2626;
    color: white;
    border: none;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    font-size: 1rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    font-weight: bold;
}

.extension-notification-close:hover {
    background: #b91c1c;
    transform: scale(1.1);
}

.extension-info-modal {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: 2px solid #3b82f6;
    border-radius: 0.75rem;
    box-shadow: 0 8px 32px rgba(59, 130, 246, 0.3);
    z-index: 10000;
    padding: 2rem;
    max-width: 400px;
    width: 90%;
}

.extension-info-title {
    font-size: 1.3rem;
    font-weight: bold;
    color: #3b82f6;
    margin-bottom: 1rem;
    text-align: center;
}

.extension-info-detail {
    display: flex;
    justify-content: space-between;
    padding: 0.75rem 0;
    border-bottom: 1px solid rgba(0, 3, 69, 0.1);
}

.extension-info-label {
    font-weight: 600;
    color: #6b7280;
}

.extension-info-value {
    font-weight: bold;
    color: #000345;
}

.extension-info-close-btn {
    width: 100%;
    background: #3b82f6;
    color: white;
    padding: 0.75rem 2rem;
    border-radius: 0.5rem;
    border: none;
    font-size: 1rem;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
    margin-top: 1rem;
}

.extension-info-close-btn:hover {
    background: #2563eb;
    transform: translateY(-2px);
}
#flight-selection-area {
    max-height: 300px;
    overflow-y: auto;
    margin-bottom: 1rem;
}

#flight-selection-area .early-open-option {
    margin-bottom: 0.5rem;
    transition: all 0.2s;
}

#flight-selection-area .early-open-option:hover {
    transform: translateX(5px);
}
/* iPad Mini 8.3" Optimizations */ 
@media only screen and (min-width: 744px) and (max-width: 834px) and (-webkit-min-device-pixel-ratio: 2) {
    /* Header adjustments */
    .header h1 { 
        font-size: 2.2rem; 
        padding-right: 0; 
    }
    .clock { 
        font-size: 1.3rem; 
    }
    
    /* Flight cards - keep 3 column layout but optimize spacing */
    .flight-card { 
        grid-template-columns: 1fr 1.8fr 1fr; 
        gap: 0.75rem; 
        padding: 1rem; 
        font-size: 0.95rem; 
    }
    
    /* âœ… PERFECT MATCHING: All three bubbles use same padding */
    .flight-number-glass {
        padding: 0.85rem 1.5rem !important;
        font-size: 1.8rem !important;
    }
    
    .destination-glass {
        font-size: 1.8rem !important;  /* Match flight number */
        padding: 0.85rem 1.5rem !important;  /* Match flight number */
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        font-weight: 900 !important;
    }
    
    .close-time-glass {
        padding: 0.85rem 1.5rem !important;  /* âœ… NOW MATCHES others */
        font-size: 1.3rem !important;
    }
    
    /* âœ… Force perfect centering on ALL sections */
    .destination-glass-wrapper {
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
        width: 100% !important;
        margin: 0 !important;
    }
    
    .section-center {
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
    }
    
    /* Ensure ALL section types are centered */
    .urgent-section-card .section-center,
    .closed-section-card .section-center,
    .notopen-section-card .section-center,
    .cancelled-section-card .section-center,
    .active-section-card .section-center {
        justify-content: center !important;
    }
    
    .timer { 
        font-size: 3.5rem; 
    }
    .timer-label { 
        font-size: 0.9rem; 
    }
    
    /* Button optimizations */
    .upload-btn, .save-btn, .add-flight-btn, .early-open-btn { 
        padding: 0.65rem 1.5rem; 
        font-size: 1rem; 
    }
    
    /* Status badge - bigger for touch */
    .status-badge { 
        font-size: 0.95rem; 
        padding: 0.6rem 1.2rem; 
        min-height: 44px; 
    }
    
    /* Section headers */
    .section-header-title { 
        font-size: 1.2rem; 
    }
    
    /* Search input */
    .search-input { 
        padding: 0.7rem 3rem 0.7rem 1rem; 
        font-size: 0.95rem; 
    }
    
    /* Comments section */
    .comments-title { 
        font-size: 1.3rem; 
    }
    .comment-text { 
        font-size: 0.9rem; 
    }
    
    /* Modal adjustments */
    .cancellation-notification { 
        max-width: 600px; 
        width: 85%; 
    }
    .search-results-modal { 
        max-width: 700px; 
        width: 85%; 
    }
    .add-flight-modal, .early-open-modal, .early-open-input-modal { 
        max-width: 500px; 
        width: 80%; 
    }
    
    /* Notification popups */
    .comment-notification-popup { 
        max-width: 320px; 
        right: 1.5rem; 
        bottom: 1.5rem; 
    }
    .extension-notification { 
        max-width: 320px; 
        top: 1.5rem; 
        right: 1.5rem; 
    }
    
    /* Date validation badge */
    .date-validation-badge { 
        top: 1rem; 
        right: 1rem; 
        font-size: 0.8rem; 
        padding: 0.45rem 0.9rem; 
    }
    .date-validation-badge.success-tick { 
        width: 44px; 
        height: 44px; 
        font-size: 1.4rem; 
    }
}
/* Android Tablets (7-11 inch) */
@media only screen and (min-width: 600px) and (max-width: 1024px) and (orientation: portrait) {
    .destination-glass {
        font-size: 1.8rem !important;
        padding: 0.85rem 1.5rem !important;
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
    }
    
    .destination-glass-wrapper {
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
    }
    
    .section-center {
        justify-content: center !important;
    }
}
   /* ==========================================
   PHONE OPTIMIZATIONS (iPhone & Samsung)
   ========================================== */

@media (max-width: 599px) {
    
    /* Container & Layout */
    .container {
        padding: 0.5rem;
    }
    
    body {
        padding: 0;
    }
    
    /* Header */
    .header {
        padding: 1rem;
        margin-bottom: 0.75rem;
        padding-top: 3.5rem;
    }
    
    .header h1 {
        font-size: 1.5rem;
        margin-bottom: 0.25rem;
        padding-right: 60px;
    }
    
    .header p {
        font-size: 0.8rem;
    }
    
    .clock {
        font-size: 1.1rem;
        margin: 0.25rem 0;
    }
    
    .date-badge {
        font-size: 0.75rem;
        padding: 0.4rem 0.8rem;
    }
    
    .date-validation-badge {
        top: 0.25rem;
        right: 0.25rem;
        font-size: 0.75rem;
        padding: 0.4rem 0.8rem;
    }
    
    .date-validation-badge.success-tick {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
    }
    
    /* Buttons - Stack vertically on phones */
    .upload-btn-container {
        flex-direction: column;
        gap: 0.5rem;
        margin-bottom: 1rem;
    }
    
    .upload-btn, .save-btn, .add-flight-btn, .early-open-btn {
        width: 100%;
        padding: 0.75rem;
        font-size: 0.95rem;
    }
    
    /* Search */
    .search-container {
        margin-bottom: 1rem;
    }
    
    .search-input {
        padding: 0.65rem 2.5rem 0.65rem 0.75rem;
        font-size: 0.9rem;
    }
    
    /* FLIGHT CARDS - Stack vertically on phones */
   .flight-card {
        grid-template-columns: 1fr !important;
        grid-template-rows: auto auto auto !important;
        gap: 1rem;
        padding: 1rem;
        margin-bottom: 1rem;
    }
    
    /* Stack bubbles vertically on mobile */
    .section-left,
    .section-center,
    .section-right-top {
        grid-column: 1 !important;
        justify-content: center !important;
    }
    
    .section-left {
        grid-row: 1 !important;
    }
    
    .section-center {
        grid-row: 2 !important;
    }
    
    .section-right-top {
        grid-row: 3 !important;
    }
    
    .section-timer {
        grid-column: 1 !important;
        grid-row: 4 !important;
        padding: 0.5rem 0;
    }
    
    .section-bottom {
        grid-column: 1 !important;
        grid-row: 5 !important;
        flex-direction: column;
        gap: 0.5rem;
    }
    
    /* Rearrange sections for vertical layout */
    .section-left,
    .section-center,
    .section-right {
        text-align: center;
        width: 100%;
    }
    
    .section-left {
        padding-bottom: 1rem;
        border-bottom: 2px solid rgba(0, 3, 69, 0.1);
        margin-bottom: 1rem;
    }
    
    .section-center {
        padding: 1rem 0;
        min-height: auto;
        border-bottom: 2px solid rgba(0, 3, 69, 0.1);
        margin-bottom: 1rem;
    }
    
    .section-right {
        padding-top: 0.5rem;
    }
    
    /* Flight number */
    .flight-number {
        font-size: 1.6rem;
        justify-content: center;
        margin-bottom: 0.75rem;
    }
    
    .flight-number-glass {
        padding: 0.6rem 1.5rem;
        display: inline-block;
    }
    
    /* Destination */
    .destination-glass {
        font-size: 1.6rem;
        padding: 0.6rem 1.5rem;
        display: inline-block;
    }
    
    .destination-glass-wrapper {
        margin-bottom: 0;
    }
    
    .destination {
        font-size: 0.85rem;
        text-align: center;
        margin-top: 0.5rem;
    }
    
    .turnaround-icon {
        font-size: 2rem;
        display: block;
        margin: 0.75rem 0;
        letter-spacing: 0.5rem;
    }
    
    /* Times */
    .times {
        font-size: 0.95rem;
        margin: 0.4rem 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.25rem;
    }
    
    .times-label {
        font-size: 0.8rem;
    }
    
    .editable-dep,
    .close-time {
        font-size: 1.1rem;
        font-weight: 700;
    }
    
    /* Timer - Large and centered */
    .timer {
        font-size: 3.5rem;
        line-height: 1.1;
        margin: 0.5rem 0;
    }
    
    .timer-label {
        font-size: 0.9rem;
        margin: 0.5rem 0;
        font-weight: 600;
    }
    
    /* Cancel reason display */
    .cancel-reason-display {
        font-size: 1.1rem;
        line-height: 1.4;
        padding: 0.5rem;
    }
    
    /* Status badge */
    .status-badge {
        font-size: 1rem;
        padding: 0.75rem 1.5rem;
        margin: 0.75rem auto 0.5rem;
        width: 100%;
        max-width: 300px;
        min-height: 48px;
        display: inline-flex !important;
    }
    
    /* Delete button - center it */
    .permanent-delete-btn {
        width: 100%;
        max-width: 200px;
        margin: 0.5rem auto;
        display: block;
    }
    
    /* Progress bar */
    .progress-bar {
        margin-top: 0.75rem;
    }
    
    /* Section Headers */
    .section-header {
        padding: 0.75rem 1rem;
        flex-direction: row;
        align-items: center;
        gap: 0.5rem;
    }
    
    .section-header-left {
        flex: 1;
    }
    
    .section-header-title {
        font-size: 1rem;
        flex-direction: column;
        gap: 0.25rem;
    }
    
    .section-header-title span:first-child {
        font-size: 1.3rem;
    }
    
    .section-header-count {
        font-size: 0.75rem;
        padding: 0.2rem 0.6rem;
    }
    
    .section-toggle {
        position: static;
        transform: none;
    }
    
    /* Comments Section */
    .comments-section {
        padding: 1rem;
        margin-bottom: 1.5rem;
    }
    
    .comments-title {
        font-size: 1.2rem;
    }
    
    .comments-actions {
        flex-direction: column;
        gap: 0.5rem;
        width: 100%;
    }
    
    .add-comment-btn,
    .delete-all-btn {
        width: 100%;
    }
    
    .comment-card {
        padding: 0.75rem;
        margin-bottom: 0.5rem;
    }
    
    .comment-text {
        font-size: 0.85rem;
    }
    
    /* MODALS - Full screen on phones */
    .add-flight-modal,
    .early-open-modal,
    .early-open-input-modal,
    .restore-modal,
    .comment-input-modal,
    .editing-warning-modal,
    .date-mismatch-modal,
    .extension-info-modal {
        width: 95% !important;
        max-width: 95% !important;
        padding: 1.25rem;
        max-height: 90vh;
        overflow-y: auto;
    }
    
    .cancellation-notification {
        width: 95% !important;
        max-width: 95% !important;
        padding: 1.25rem;
    }
    
    .search-results-modal {
        width: 98% !important;
        max-width: 98% !important;
        padding: 1rem;
        max-height: 90vh;
    }
    
    /* Modal titles */
    .add-flight-title,
    .early-open-title,
    .early-open-input-title,
    .restore-modal-title,
    .comment-input-title,
    .editing-warning-title,
    .date-mismatch-title,
    .extension-info-title,
    .cancellation-notification-header span {
        font-size: 1.1rem;
    }
    
    /* Form inputs */
    .form-input,
    .early-open-input,
    .custom-reason-input,
    .comment-textarea {
        padding: 0.65rem;
        font-size: 0.9rem;
    }
    
    /* Form buttons */
    .form-actions,
    .early-open-actions,
    .comment-input-actions,
    .date-mismatch-actions {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .form-save-btn,
    .form-cancel-btn,
    .early-open-confirm,
    .early-open-cancel,
    .comment-save-btn,
    .comment-cancel-btn,
    .date-mismatch-btn {
        width: 100%;
    }
    
    /* Status dropdown - full width */
    .status-dropdown {
        left: 5% !important;
        right: 5% !important;
        width: 90% !important;
        max-width: 90% !important;
    }
    
    /* Cancel reason dropdown */
    .cancel-reason-dropdown {
        width: 90%;
        max-width: 90%;
    }
    
    /* Notifications - adjust position */
    .comment-notification-popup {
        right: 0.5rem;
        bottom: 0.5rem;
        left: 0.5rem;
        max-width: calc(100% - 1rem);
    }
    
    .extension-notification {
        top: 0.5rem;
        right: 0.5rem;
        left: 0.5rem;
        max-width: calc(100% - 1rem);
    }
    
    /* Deleted flights section */
    .deleted-flights-section {
        padding: 1rem;
    }
    
    .deleted-flight-card {
        grid-template-columns: 1fr;
        gap: 0.5rem;
        padding: 0.75rem;
    }
    
    .restore-btn,
    .permanent-delete-btn {
        width: 100%;
        margin-top: 0.5rem;
    }
    
    /* Extension button */
    .stop-extension-btn {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
    }
    
    /* Early open indicator */
    .early-open-indicator {
        width: 20px;
        height: 20px;
        font-size: 0.75rem;
    }
}

/* Extra small phones (iPhone SE, small Androids) */
@media (max-width: 375px) {
    .header h1 {
        font-size: 1.3rem;
    }
    
    .timer {
        font-size: 2.5rem;
    }
    
    .flight-number {
        font-size: 1.5rem;
    }
    
    .destination-glass {
        font-size: 1.3rem;
    }
}

/* Phone Landscape Mode - Keep it compact */
@media (max-width: 915px) and (max-height: 450px) and (orientation: landscape) {
    .header {
        padding: 0.5rem 1rem;
    }
    
    .header h1 {
        font-size: 1.2rem;
    }
    
    .clock {
        font-size: 0.9rem;
    }
    
    .flight-card {
        grid-template-columns: 1fr 2fr 1fr !important;
        padding: 0.75rem;
    }
    
    .section-left,
    .section-center,
    .section-right {
        text-align: left;
        border-bottom: none;
        padding-bottom: 0;
        margin-bottom: 0;
    }
    
    .section-center {
        text-align: center;
    }
    
    .section-right {
        text-align: right;
    }
    
    .timer {
        font-size: 2.5rem;
    }
    
    .section-container {
        margin-bottom: 0.75rem;
    }
    
    .section-header {
        padding: 0.5rem 1rem;
    }
}
.connection-indicator {
    position: fixed;
    bottom: 1rem;
    left: 1rem;
    background: rgba(255, 255, 255, 0.95);
    border: 2px solid #10b981;
    border-radius: 2rem;
    padding: 0.5rem 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.85rem;
    font-weight: 600;
    color: #10b981;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    z-index: 9998;
}
/* ==========================================
   MULTI-TAB WARNING MODAL - ORIGINAL DESIGN
   ========================================== */

.multi-tab-warning-modal {
    position: fixed;
    left: 50%;
    top: 10%;
    transform: translate(-50%, 0);
    background: rgba(0, 3, 69, 0.98);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-radius: 2.5rem;
    box-shadow: 
        0 30px 90px rgba(0, 0, 0, 0.5),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    z-index: 10005;
    padding: 2rem 2.5rem;
    max-width: 550px;
    width: 90%;
    text-align: center;
    overflow: visible;
}

.multi-tab-warning-modal::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    border-radius: 2.5rem;
    background: linear-gradient(135deg, 
        transparent 0%, 
        transparent 30%,
        rgba(255, 255, 255, 0.1) 45%, 
        rgba(255, 255, 255, 0.2) 50%, 
        rgba(255, 255, 255, 0.1) 55%,
        transparent 70%,
        transparent 100%);
    pointer-events: none;
    animation: shimmer 8s linear infinite;
    z-index: -1;
    opacity: 0.6;
}

@keyframes shimmer {
    0% { 
        transform: translateX(-100%) translateY(-100%) rotate(0deg);
    }
    100% { 
        transform: translateX(100%) translateY(100%) rotate(360deg);
    }
}

.multi-tab-warning-modal > * {
    position: relative;
    z-index: 1;
}

.multi-tab-warning-icon {
    font-size: 3.5rem;
    margin-bottom: 1rem;
    display: block;
    animation: warningFloat 3s ease-in-out infinite;
    filter: drop-shadow(0 15px 30px rgba(250, 81, 21, 0.5));
}

@keyframes warningFloat {
    0%, 100% { transform: translateY(0px) scale(1); }
    50% { transform: translateY(-15px) scale(1.1); }
}

.multi-tab-warning-title {
    font-size: 1.75rem;
    font-weight: bold;
    color: white;
    margin-bottom: 1.5rem;
    text-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
    letter-spacing: 1px;
}

.multi-tab-warning-text {
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: 2rem;
    line-height: 1.8;
    font-size: 1.05rem;
}

.multi-tab-warning-text strong {
    color: #FA5115;
    font-weight: 700;
}

.multi-tab-countdown-container {
    margin: 1.5rem 0;
    padding: 1.25rem;
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 1.5rem;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.multi-tab-countdown-label {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.multi-tab-countdown {
    font-size: 3rem;
    font-weight: bold;
    color: white;
    margin: 0.5rem 0;
    font-family: monospace;
    text-shadow: 0 4px 10px rgba(250, 81, 21, 0.5);
    animation: countdownPulse 1s ease-in-out infinite;
}

@keyframes countdownPulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
}

.multi-tab-status-bar-container {
    margin: 1.5rem 0;
}

.multi-tab-status-label {
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 0.75rem;
    text-align: left;
}

.multi-tab-status-bar {
    width: 100%;
    height: 1rem;
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 1rem;
    overflow: hidden;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
}

.multi-tab-status-fill {
    height: 100%;
    width: 100%;
    background: linear-gradient(90deg, #FA5115 0%, #e04510 100%);
    border-radius: 1rem;
    transition: width 1s linear;
    box-shadow: 0 0 20px rgba(250, 81, 21, 0.6);
    position: relative;
    overflow: hidden;
}

.multi-tab-status-fill::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: statusShimmer 2s infinite;
}

@keyframes statusShimmer {
    0% { left: -100%; }
    100% { left: 200%; }
}

.multi-tab-info {
    background: rgba(250, 81, 21, 0.15);
    border: 2px solid rgba(250, 81, 21, 0.4);
    border-radius: 1rem;
    padding: 0.875rem;
    margin: 1.25rem 0;
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.9);
    box-shadow: 0 8px 20px rgba(250, 81, 21, 0.2);
}

.multi-tab-footer {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.85rem;
    margin-top: 1.5rem;
    font-style: italic;
}

/* Overlay for multi-tab warning */
.overlay.multi-tab-overlay {
    background: rgba(0, 3, 69, 0.85);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .multi-tab-warning-modal {
        padding: 2rem 1.5rem;
        max-width: 95%;
        top: 10%;
    }
    
    .multi-tab-warning-icon {
        font-size: 3rem;
    }
    
    .multi-tab-warning-title {
        font-size: 1.5rem;
    }
    
    .multi-tab-countdown {
        font-size: 2.5rem;
    }
}

/* iPad specific */
@media (min-width: 744px) and (max-width: 1024px) {
    .multi-tab-warning-modal {
        top: 15%;
        max-width: 80%;
    }
}

/* Very small screens */
@media (max-width: 480px) {
    .multi-tab-warning-modal {
        top: 5%;
        padding: 1.5rem 1rem;
    }
    
    .multi-tab-warning-title {
        font-size: 1.3rem;
    }
    
    .multi-tab-warning-text {
        font-size: 0.95rem;
    }
    
    .multi-tab-countdown {
        font-size: 2rem;
    }
}
.connection-indicator.syncing {
    border-color: #f59e0b;
    color: #f59e0b;
}

.connection-indicator.error {
    border-color: #ef4444;
    color: #ef4444;
}

.connection-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: currentColor;
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}
.connection-indicator {
    position: fixed;
    bottom: 1rem;
    left: 1rem;
    background: rgba(255, 255, 255, 0.95);
    border: 2px solid #10b981;
    border-radius: 2rem;
    padding: 0.5rem 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.85rem;
    font-weight: 600;
    color: #10b981;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    z-index: 9998;
}

.connection-indicator.syncing {
    border-color: #f59e0b;
    color: #f59e0b;
}

.connection-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: currentColor;
    animation: connectionPulse 2s ease-in-out infinite;
}

@keyframes connectionPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}
    </style>

    <style id="saved-file-style">
        /* Hide only these 3 buttons */
        .upload-btn:not(.add-comment-main-btn):not(.add-flight-btn):not(.early-open-btn) { 
            display: none !important; 
        }
        #reset-btn { display: none !important; }
        #save-html-btn { display: none !important; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="scroll-time-reference" id="scroll-time-ref"></div>
    <div class="date-validation-badge success-tick" id="date-validation-badge" style="display: flex;">âœ“</div>
    <div class="connection-indicator" id="connection-indicator" style="display: none; border-color: rgb(16, 185, 129); color: rgb(16, 185, 129); opacity: 1;">
    <span class="connection-dot"></span>
    <span class="connection-text">Synced (Cloud)</span>
</div>
    <h1>âœˆï¸ Flight Check-in Countdown</h1>
    <div class="clock" id="current-time">19:40:48</div>
    <div id="flight-date-badge" class="date-badge" style="display: inline-block;">Flight Schedule: Wednesday 7 January 2026</div>
</div>

        <div class="upload-btn-container">
            <input type="file" id="csv-upload" accept=".csv" style="display: none;">
           <button class="upload-btn" onclick="document.getElementById('csv-upload').click()">
    ðŸ“‚ Upload CSV File
</button>
<button class="upload-btn" onclick="resetToUploadScreen()" id="reset-btn" style="display: block; background: rgb(107, 114, 128);">
    ðŸ”„ Upload New CSV
</button>
           
            <button class="save-btn save-html-btn" onclick="saveAsHTML()" id="save-html-btn" style="display: block;">
    ðŸ“„ Save as HTML File
</button>
<button class="add-flight-btn" onclick="openAddFlightModal()" id="add-flight-btn" style="display: block;">
    âž• Add Flight
</button>
<button class="early-open-btn" onclick="openEarlyOpenModal()" id="early-open-btn" style="display: block;">
    â° Open Flights Earlier
    <span class="early-open-indicator" id="early-open-indicator" style="display: none;" onclick="showEarlyOpenStatus(event)">âš¡</span>
</button>
<button class="add-comment-main-btn" onclick="openCommentModalFromButton()" id="add-comment-main-btn" style="display: block;">
    ðŸ’¬ Add Comment
</button>
<button class="refresh-all-btn" onclick="forceRefreshAllDevices()" id="refresh-all-btn" style="display: block;">
    ðŸ”„ Refresh All Devices
</button>
<button class="refresh-all-btn" onclick="clearAllStoredData()" id="clear-data-btn" style="display: block; background: rgb(220, 38, 38);">
    ðŸ—‘ï¸ Clear All Stored Data
</button>
        </div>

        <div class="search-container" id="search-container" style="display: block;">
            <input type="text" class="search-input" id="search-input" placeholder="ðŸ” Search by flight number or destination (e.g., 123, BNE)..." autocomplete="off" data-sharkid="__0">
<button class="search-clear-btn" id="search-clear-btn" onclick="clearSearch()">Ã—</button>
        </div>

        <div id="loading" style="display: none;">
            <svg style="width: 4rem; height: 4rem; margin: 0 auto 1rem; opacity: 0.5;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" stroke-width="2"></circle>
                <path d="M12 6v6l4 2" stroke-width="2" stroke-linecap="round"></path>
            </svg>
            <p>Upload CSV file to display flights</p>
        </div>

        <div class="comments-section" id="comments-section" style="display: none;">
           <div class="comments-header">
    <h2 class="comments-title">ðŸ’¬ Comments</h2>
    <div class="comments-actions">
        <button class="delete-all-btn" onclick="deleteAllComments()" id="delete-all-btn">Delete All</button>
    </div>
</div>
            <div id="comments-container"></div>
        </div>

       <div id="urgent-section" class="section-container" style="display: block;">
    <div class="section-header" onclick="toggleSection('urgent')">
        <div class="section-header-left">
            <div class="section-header-title">
                <span style="font-size: 1.5rem;">âš ï¸</span>
                <span>CLOSING SOON - PRIORITY</span>
                <span id="urgent-count" class="section-header-count">2</span>
            </div>
        </div>
        <button class="section-toggle" id="urgent-toggle">âˆ’</button>
    </div>
    <div id="urgent-flights" class="section-content expanded"><div class="flight-card critical urgent-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ956</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">CNS</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">19:45</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">20:25</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer-label">CHECK-IN CLOSES IN</div>
            <div class="timer" data-flight-id="1767775211565">4:11</div>
            <div class="progress-bar">
                <div class="progress-fill urgent" data-flight-id="1767775211565" style="width: 13.333333333333334%"></div>
            </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-urgent" data-flight-id="1767775211565">ðŸš¨ CRITICAL!</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775211565)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closing urgent-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ768</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">ADL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">20:00</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">20:40</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer-label">CHECK-IN CLOSES IN</div>
            <div class="timer" data-flight-id="1767775212281">19:11</div>
            <div class="progress-bar">
                <div class="progress-fill closing" data-flight-id="1767775212281" style="width: 63.33333333333333%"></div>
            </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closing" data-flight-id="1767775212281">â±ï¸ CLOSING SOON</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775212281)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div></div>
</div>
<!-- ADD THIS NEW EXTENDED SECTION HERE -->
<div id="extended-section" class="section-container" style="display: none;">
    <div class="section-header" onclick="toggleSection('extended')">
        <div class="section-header-left">
            <div class="section-header-title">
                <span style="font-size: 1.5rem;">ðŸ”µ</span>
                <span>CHECK-IN EXTENDED</span>
                <span id="extended-count" class="section-header-count"></span>
            </div>
        </div>
        <button class="section-toggle" id="extended-toggle">âˆ’</button>
    </div>
    <div id="extended-flights" class="section-content expanded"></div>
</div>
      
       <div id="active-section" class="section-container" style="display: block;">
    <div class="section-header" onclick="toggleSection('active')">
        <div class="section-header-left">
            <div class="section-header-title">
                <span style="font-size: 1.5rem;">âœ…</span>
                <span id="active-title">Check-in Open</span>
                <span id="active-count" class="section-header-count">5</span>
            </div>
        </div>
        <button class="section-toggle" id="active-toggle">+</button>
    </div>
    <div id="active-flights" class="section-content"><div class="flight-card open active-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ537</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">20:35</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">21:15</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">OPEN</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-open" data-flight-id="1767775214889">âœ… CHECK-IN OPEN</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775214889)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card open active-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ826</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">BNE</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">20:50</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">21:30</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">OPEN</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-open" data-flight-id="1767775216708">âœ… CHECK-IN OPEN</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775216708)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card open active-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ613</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">AVV</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">21:05</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">21:45</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">OPEN</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-open" data-flight-id="1767775211145">âœ… CHECK-IN OPEN</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775211145)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card open active-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ418</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">OOL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">21:05</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">21:45</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">OPEN</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-open" data-flight-id="1767775211836">âœ… CHECK-IN OPEN</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775211836)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card open active-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ539</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">21:30</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">22:10</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">OPEN</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-open" data-flight-id="1767775214032">âœ… CHECK-IN OPEN</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775214032)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div></div>
</div>
  <div id="not-open-section" class="section-container" style="display: none;">
    <div class="section-header" onclick="toggleSection('notopen')">
        <div class="section-header-left">
            <div class="section-header-title">
                <span style="font-size: 1.5rem;">â³</span>
                <span>Check-in Not Yet Open</span>
                <span id="notopen-count" class="section-header-count"></span>
            </div>
        </div>
        <button class="section-toggle" id="notopen-toggle">+</button>
    </div>
    <div id="notopen-flights" class="section-content"></div>
</div>
   <div id="closed-section" class="section-container" style="display: block;">
    <div class="section-header" onclick="toggleSection('closed')">
        <div class="section-header-left">
            <div class="section-header-title">
                <span style="font-size: 1.5rem;">âŒ</span>
                <span id="closed-title">Check-in Closed</span>
                <span id="closed-count" class="section-header-count">65</span>
            </div>
        </div>
        <button class="section-toggle" id="closed-toggle">+</button>
    </div>
    <div id="closed-flights" class="section-content"><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ719</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">HBA</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">05:20</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">06:00</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775210703">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775210703)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ603</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">AVV</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">05:20</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">06:00</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775212636">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775212636)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ501</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">05:20</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">06:00</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775215317">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775215317)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ400</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">OOL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">05:30</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">06:10</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213655">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213655)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ747</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">LST</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">05:30</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">06:10</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775207377">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775207377)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ810</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">BNE</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">05:40</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">06:20</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775215522">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775215522)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ950</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">CNS</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">05:40</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">06:20</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775211827">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775211827)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ503</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">05:50</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">06:30</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213831">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213831)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ912</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">TSV</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">06:00</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">06:40</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775216137">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775216137)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ729</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">HBA</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">06:05</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">06:45</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775212756">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775212756)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ760</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">ADL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">06:20</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">07:00</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775208352">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775208352)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ784</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MCY</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">06:25</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">07:05</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775216415">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775216415)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ402</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">OOL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">06:40</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">07:20</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775210389">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775210389)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ456</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">BNK</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">06:40</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">07:20</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775208203">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775208203)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ605</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">AVV</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">07:30</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">08:10</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775212609">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775212609)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ507</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">07:30</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">08:10</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775215167">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775215167)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ404</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">OOL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">08:30</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">09:10</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775210600">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775210600)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ509</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">08:35</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">09:15</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775214000">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775214000)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ812</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">BNE</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">08:55</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">09:35</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775208155">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775208155)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ511</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">09:00</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">09:40</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775209013">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775209013)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ406</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">OOL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">09:35</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">10:15</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213448">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213448)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ458</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">BNK</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">09:40</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">10:20</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775209961">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775209961)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ660</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">AYQ</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">09:55</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">10:35</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775212112">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775212112)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ786</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MCY</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">10:10</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">10:50</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775216890">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775216890)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ513</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">10:10</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">10:50</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775215281">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775215281)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ762</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">ADL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">10:20</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">11:00</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775210829">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775210829)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ840</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">PPP</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">11:00</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">11:40</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213549">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213549)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ721</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">HBA</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">11:05</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">11:45</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775216871">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775216871)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ952</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">CNS</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">11:05</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">11:45</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775214742">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775214742)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ844</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">ADL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">11:10</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">11:50</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775207980">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775207980)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ986</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">PER</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">11:15</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">11:55</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775207227">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775207227)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ541</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">11:25</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">12:05</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213364">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213364)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ764</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">ADL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">11:50</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">12:30</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213390">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213390)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ515</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">11:50</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">12:30</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213516">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213516)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ890</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">HVB</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">11:55</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">12:35</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213665">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213665)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ609</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">AVV</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">11:55</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">12:35</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775215767">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775215767)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ814</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">BNE</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">12:15</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">12:55</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775216894">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775216894)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ63</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">12:15</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">12:55</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775210070">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775210070)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ517</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">12:35</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">13:15</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775214278">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775214278)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ788</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MCY</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">12:40</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">13:20</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775208708">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775208708)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ408</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">OOL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">12:45</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">13:25</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775211024">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775211024)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ723</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">HBA</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">12:50</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">13:30</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775217156">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775217156)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ816</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">BNE</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">13:10</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">13:50</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775209120">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775209120)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ519</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">13:50</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">14:30</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775212759">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775212759)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ460</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">BNK</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">14:00</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">14:40</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775209611">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775209611)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ521</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">14:30</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">15:10</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775215852">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775215852)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ954</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">CNS</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">14:45</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">15:25</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213936">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213936)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ410</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">OOL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">15:15</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">15:55</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775214361">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775214361)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ818</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">BNE</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">15:15</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">15:55</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775211618">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775211618)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ525</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">15:45</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">16:25</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775209644">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775209644)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ820</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">BNE</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">16:20</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">17:00</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775217182">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775217182)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ527</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">16:20</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">17:00</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775207693">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775207693)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ725</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">HBA</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">16:25</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">17:05</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775209919">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775209919)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ766</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">ADL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">16:45</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">17:25</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775208762">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775208762)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ529</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">16:50</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">17:30</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213525">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213525)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ414</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">OOL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">17:00</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">17:40</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775210713">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775210713)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ790</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MCY</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">17:05</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">17:45</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775209369">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775209369)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ531</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">17:20</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">18:00</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213800">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213800)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ749</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">LST</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">17:25</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">18:05</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775215778">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775215778)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ822</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">BNE</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">17:45</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">18:25</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775213804">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775213804)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ533</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">MEL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">17:50</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">18:30</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775215703">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775215703)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ611</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">AVV</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">18:05</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">18:45</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775212080">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775212080)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ416</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">OOL</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">18:20</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        <div style="font-size: rem; margin-bottom: 1.5rem;"><span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span></div>
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">19:00</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775214026">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775214026)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ988</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">PER</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">19:10</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">19:50</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775215594">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775215594)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div><div class="flight-card closed closed-section-card">
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num editable">JQ672</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display editable">DRW</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">19:40</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep editable" style="font-weight: bold; font-size: 1.3rem; color: #000345;">20:20</span>
</div>
        
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            
            <div class="timer" style="font-size: 2rem;">CLOSED </div>
        
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge status-closed" data-flight-id="1767775208864">âŒ CLOSED</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(1767775208864)">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
</div></div>
</div>
    
     <div id="cancelled-section" class="section-container" style="display: none;">
    <div class="section-header" onclick="toggleSection('cancelled')">
        <div class="section-header-left">
            <div class="section-header-title">
                <span style="font-size: 1.5rem;">ðŸš«</span>
                <span>CANCELLED FLIGHTS</span>
                <span id="cancelled-count-header" class="section-header-count"></span>
            </div>
        </div>
        <button class="section-toggle" id="cancelled-toggle">+</button>
    </div>
    <div id="cancelled-flights" class="section-content"></div>
</div>
<div class="deleted-flights-section" id="deleted-flights-section" style="display: none;">
    <div class="deleted-flights-header">
        <h2 class="deleted-flights-title">
            <span style="font-size: 1.5rem;">ðŸ—‘ï¸</span>
            <span>Deleted Flights</span>
            <span id="deleted-count" style="background: #dc2626; color: white; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.875rem;"></span>
        </h2>
        <button class="clear-all-deleted-btn" onclick="clearAllDeletedFlights()">Clear All</button>
    </div>
    <div id="deleted-flights-container">
        <div class="no-deleted-flights">No deleted flights</div>
    </div>
</div>
<script>
    // iPad-specific optimizations
(function() {
    // Detect iPad
    const isIPad = /iPad/.test(navigator.userAgent) || 
                   (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
    
   if (isIPad) {
    console.log('ðŸŽ¯ iPad detected - applying optimizations');
    
    // Keep normal timer update frequency
    window.TIMER_UPDATE_INTERVAL = 1000; // âœ… Changed back to 1 second
    window.FULL_RERENDER_INTERVAL = 60000; // 60 seconds instead of 30
        
        // Disable smooth scrolling
        document.documentElement.style.scrollBehavior = 'auto';
        
        // Reduce motion for better performance
        const style = document.createElement('style');
style.textContent = `
    * {
        transition-duration: 0.15s !important;
        animation-duration: 0.5s !important;
    }
    .flight-card {
        will-change: auto !important;
    }
    /* âœ… Slow down pulsing animation on iPad */
    @keyframes pulse {
        0%, 100% { 
            opacity: 1; 
            box-shadow: 
                0 8px 32px rgba(239, 68, 68, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.6),
                inset 0 -1px 0 rgba(239, 68, 68, 0.1),
                0 0 40px rgba(239, 68, 68, 0.3);
        }
        50% { 
            opacity: 0.9; 
            box-shadow: 
                0 12px 48px rgba(239, 68, 68, 0.35),
                inset 0 1px 0 rgba(255, 255, 255, 0.7),
                inset 0 -1px 0 rgba(239, 68, 68, 0.15),
                0 0 50px rgba(239, 68, 68, 0.5);
        }
    }
    .flight-card.critical.pulsing {
        animation: pulse 3s ease-in-out infinite !important; /* âœ… Slowed from 1.5s to 3s */
    }
`;
        document.head.appendChild(style);
    }
})();
// Workspace ONE Detection and Compatibility
const WorkspaceONE = {
    isRunning: function() {
        return navigator.userAgent.includes('VMware') || 
               navigator.userAgent.includes('AirWatch') ||
               navigator.userAgent.includes('WorkspaceONE') ||
               window.AirWatch !== undefined;
    },
    
    logCompatibility: function() {
        if (this.isRunning()) {
            console.log('ðŸ¢ === WORKSPACE ONE DETECTED ===');
            console.log('Browser:', navigator.userAgent);
            console.log('localStorage available:', typeof localStorage !== 'undefined');
            console.log('sessionStorage available:', typeof sessionStorage !== 'undefined');
            console.log('IndexedDB available:', typeof indexedDB !== 'undefined');
            console.log('================================');
        }
    },
    
    getRecommendedStorage: function() {
        if (this.isRunning()) {
            // Workspace ONE: localStorage is most reliable
            return 'localStorage';
        }
        return 'any';
    }
};

// Call on page load
WorkspaceONE.logCompatibility();
// Firebase Configuration - WORKSPACE ONE COMPATIBLE
const firebaseConfig = {
  apiKey: "AIzaSyBZvBuD9WmNCbnulHw37k2CqzNuEZyFK2o",
  authDomain: "flight-close-dashboard.firebaseapp.com",
  databaseURL: "https://flight-close-dashboard-default-rtdb.firebaseio.com",
  projectId: "flight-close-dashboard",
  storageBucket: "flight-close-dashboard.firebasestorage.app",
  messagingSenderId: "631830069348",
  appId: "1:631830069348:web:d57ceaa1c4755b1e43df71"
};


// Check if Firebase config is properly set up
function isFirebaseConfigured() {
    return firebaseConfig.apiKey && 
           !firebaseConfig.apiKey.includes('YOUR_') &&
           firebaseConfig.databaseURL &&
           !firebaseConfig.databaseURL.includes('YOUR_');
}

// Workspace ONE compatible Firebase initialization
let firebaseInitialized = false;
let firebaseDbRef = null;

try {
    if (isFirebaseConfigured()) {
        // Check if running in Workspace ONE Browser
        const isWorkspaceOne = navigator.userAgent.includes('VMware') || 
                              navigator.userAgent.includes('AirWatch') ||
                              navigator.userAgent.includes('WorkspaceONE');
        
        if (isWorkspaceOne) {
            console.log('ðŸ¢ Workspace ONE Browser detected');
            // Workspace ONE specific initialization if needed
        }
        
        firebase.initializeApp(firebaseConfig);
        firebaseInitialized = true;
        console.log('âœ… Firebase initialized successfully');
        
        if (isWorkspaceOne) {
            console.log('âœ… Firebase compatible with Workspace ONE');
        }
    } else {
        console.warn('âš ï¸ Firebase not configured - using localStorage only');
        console.log('â„¹ï¸ Replace the placeholder values in firebaseConfig to enable cloud sync');
    }
} catch (error) {
    console.error('âŒ Firebase initialization error:', error);
    console.log('ðŸ“± Falling back to localStorage (safe for Workspace ONE)');
    firebaseInitialized = false;
}

        const INTERNATIONAL_DESTINATIONS = ['NAN', 'HLZ', 'HKT', 'KIX', 'DPS', 'AKL', 'ZQN', 'ICN', 'SGN', 'RAR', 'VLI'];
        let flights = [];
        let currentTime = new Date();
        let flightDate = null;
        let activeDropdown = null;
        let comments = [];
        let isEditingComments = false;
        let deletedFlights = [];
        let searchResultsModal = null;
let isEditingField = false;
// ADD THESE TWO LINES:
let acknowledgedCancellations = new Set();
let acknowledgedComments = new Set();

        let dateValidationDismissed = false;
        // ============================================
        // AUTOMATIC LOCALSTORAGE MANAGEMENT
        // ============================================
        function cleanupOldLocalStorage() {
            try {
                console.log('ðŸ§¹ Checking localStorage for cleanup...');
                
                // Check if we need to clear old multi-tab data
                const heartbeat = localStorage.getItem(TAB_HEARTBEAT_KEY);
                if (heartbeat) {
                    const tabs = JSON.parse(heartbeat);
                    const now = Date.now();
                    
                    // If all tabs are older than 10 seconds, they're likely stale
                    const allTabsStale = tabs.every(tab => (now - tab.lastSeen) > 10000);
                    
                    if (allTabsStale) {
                        console.log('ðŸ—‘ï¸ All tabs are stale. Clearing multi-tab heartbeat data.');
                        localStorage.removeItem(TAB_HEARTBEAT_KEY);
                    }
                }
                
                // Clean up any lingering close signals
                const closeSignal = localStorage.getItem('flight_tracker_close_signal');
                if (closeSignal) {
                    const signal = JSON.parse(closeSignal);
                    const now = Date.now();
                    
                    // If close signal is older than 10 seconds, remove it
                    if (signal.timestamp && (now - signal.timestamp) > 10000) {
                        console.log('ðŸ—‘ï¸ Removing stale close signal.');
                        localStorage.removeItem('flight_tracker_close_signal');
                    }
                }
                
                // Optional: Clean up old sync data if it's too large
                const syncData = localStorage.getItem(SYNC_KEY);
                if (syncData) {
                    const sizeInMB = new Blob([syncData]).size / (1024 * 1024);
                    if (sizeInMB > 4) { // If sync data is over 4MB
                        console.log('âš ï¸ Sync data is large (' + sizeInMB.toFixed(2) + 'MB). Consider optimization.');
                    }
                }
                
                console.log('âœ… localStorage cleanup complete');
                
            } catch (e) {
                console.error('Error during localStorage cleanup:', e);
            }
        }
        
        // Run cleanup on page load
        cleanupOldLocalStorage();
        let sessionId = 'session_' + Date.now() + '_' + Math.random();
    // ============================================
// MULTI-TAB DETECTION SYSTEM
// ============================================
const TAB_HEARTBEAT_KEY = 'flight_tracker_tab_heartbeat';
const TAB_CHECK_INTERVAL = 500; // Check every 500ms
const TAB_TIMEOUT = 2000; // Consider tab dead after 2 seconds
let tabId = 'tab_' + Date.now() + '_' + Math.random();
let isClosingDueToMultiTab = false;
let heartbeatInterval = null;
let multiTabCheckInterval = null;
let hasShownMultiTabWarning = false;

// Store this tab's information
function sendHeartbeat() {
    try {
        const tabs = JSON.parse(localStorage.getItem(TAB_HEARTBEAT_KEY) || '[]');
        
        // Remove stale tabs (no heartbeat for TAB_TIMEOUT)
        const now = Date.now();
        const activeTabs = tabs.filter(tab => (now - tab.lastSeen) < TAB_TIMEOUT);
        
        // Update or add this tab
        const existingIndex = activeTabs.findIndex(tab => tab.id === tabId);
        if (existingIndex >= 0) {
            activeTabs[existingIndex].lastSeen = now;
        } else {
            console.log('âž• Registering new tab:', tabId);
            activeTabs.push({
                id: tabId,
                openedAt: now,
                lastSeen: now,
                url: window.location.href
            });
        }
        
        localStorage.setItem(TAB_HEARTBEAT_KEY, JSON.stringify(activeTabs));
        
        // Log periodically (every 10 heartbeats)
        if (!window.heartbeatCount) window.heartbeatCount = 0;
        window.heartbeatCount++;
        
        if (window.heartbeatCount % 20 === 0) {
            console.log('ðŸ’“ Heartbeat:', {
                thisTab: tabId,
                totalActiveTabs: activeTabs.length,
                tabIds: activeTabs.map(t => t.id.substring(0, 15) + '...')
            });
        }
    } catch (e) {
        console.error('Error sending heartbeat:', e);
    }
}

// Check if there are multiple tabs open
function checkForMultipleTabs() {
    if (isClosingDueToMultiTab || hasShownMultiTabWarning) return;
    
    try {
        const tabs = JSON.parse(localStorage.getItem(TAB_HEARTBEAT_KEY) || '[]');
        const now = Date.now();
        
        // Filter to only active tabs
        const activeTabs = tabs.filter(tab => (now - tab.lastSeen) < TAB_TIMEOUT);
        
        // If there's more than one active tab
        if (activeTabs.length > 1) {
            // Sort by openedAt to find the newest tab
            activeTabs.sort((a, b) => b.openedAt - a.openedAt);
            
            const newestTab = activeTabs[0];
            const isThisTabNewest = newestTab.id === tabId;
            
            console.log('âš ï¸ Multiple tabs detected!', {
                totalTabs: activeTabs.length,
                newestTabId: newestTab.id.substring(0, 15) + '...',
                thisTabId: tabId.substring(0, 15) + '...',
                isThisTabNewest: isThisTabNewest
            });
            
            // If this IS the newest tab, show warning and close the others
            if (isThisTabNewest) {
                console.log('âœ… This is the NEWEST tab. Showing warning and closing older tabs...');
                hasShownMultiTabWarning = true;
                showMultiTabWarningOnNewestTab(activeTabs);
            }
        }
    } catch (e) {
        console.error('Error checking for multiple tabs:', e);
    }
}

// Show warning modal on the NEWEST tab (the one user is looking at)
function showMultiTabWarningOnNewestTab(allTabs) {
    // Stop checking for more tabs
    if (multiTabCheckInterval) {
        clearInterval(multiTabCheckInterval);
        multiTabCheckInterval = null;
    }
    
    const overlay = document.createElement('div');
    overlay.className = 'overlay multi-tab-overlay';
    overlay.style.zIndex = '10004';
    
    const modal = document.createElement('div');
    modal.className = 'multi-tab-warning-modal';
    
    const olderTabCount = allTabs.length - 1; // Subtract this tab
    let countdown = 5;
    
    modal.innerHTML = `
        <div class="multi-tab-warning-icon">âš ï¸</div>
        <div class="multi-tab-warning-title">Multiple Tabs Detected</div>
        <div class="multi-tab-warning-text">
            We detected <strong>${allTabs.length} tabs</strong> of Flight Tracker currently open.
            <br><br>
            To prevent data conflicts, we're automatically closing the <strong>${olderTabCount} older tab${olderTabCount > 1 ? 's' : ''}</strong> for you.
        </div>
        
        <div class="multi-tab-info">
            <strong>âœ… This is your most recent tab</strong> - it will remain open and you can continue working here.
        </div>
        
        <div class="multi-tab-countdown-container">
            <div class="multi-tab-countdown-label">Closing older tabs in:</div>
            <div class="multi-tab-countdown" id="multi-tab-countdown">${countdown}</div>
        </div>
        
        <div class="multi-tab-status-bar-container">
            <div class="multi-tab-status-label">â³ Cleaning up duplicate tabs...</div>
            <div class="multi-tab-status-bar">
                <div class="multi-tab-status-fill" id="multi-tab-status-fill"></div>
            </div>
        </div>
        
        <div class="multi-tab-footer">
            The older tabs will close automatically. No action needed from you.
        </div>
    `;
    
    document.body.appendChild(overlay);
    document.body.appendChild(modal);
    
    const statusFill = document.getElementById('multi-tab-status-fill');
    const totalSeconds = countdown;
    
    // Signal to older tabs that they should close
    const closeSignal = {
        action: 'close_old_tabs',
        keepTabId: tabId,
        timestamp: Date.now()
    };
    localStorage.setItem('flight_tracker_close_signal', JSON.stringify(closeSignal));
    
    // Countdown timer with status bar
    const countdownInterval = setInterval(() => {
        countdown--;
        const countdownEl = document.getElementById('multi-tab-countdown');
        if (countdownEl) {
            countdownEl.textContent = countdown;
        }
        
        // Update status bar
        const percentage = ((totalSeconds - countdown) / totalSeconds) * 100;
        if (statusFill) {
            statusFill.style.width = percentage + '%';
        }
        
        if (countdown <= 0) {
            clearInterval(countdownInterval);
            
            // Close the modal
           // Close the modal
            if (modal && modal.parentElement) {
                modal.style.opacity = '0';
                modal.style.transform = 'translate(-50%, -20%) scale(0.95)';
                modal.style.transition = 'all 0.3s ease-out';
            }
            if (overlay && overlay.parentElement) {
                overlay.style.opacity = '0';
                overlay.style.transition = 'opacity 0.3s ease-out';
            }
            
            setTimeout(() => {
                if (modal && modal.parentElement) modal.remove();
                if (overlay && overlay.parentElement) overlay.remove();
                
                // Clean up the close signal
                localStorage.removeItem('flight_tracker_close_signal');
                
                // Resume normal operation
                hasShownMultiTabWarning = false;
                
                // Restart checking (in case user opens another tab later)
                if (!multiTabCheckInterval) {
                    multiTabCheckInterval = setInterval(checkForMultipleTabs, TAB_CHECK_INTERVAL);
                }
            }, 300);
        }
    }, 1000);
}

// Listen for close signals from the newest tab
function listenForCloseSignal() {
    window.addEventListener('storage', function(e) {
        if (e.key === 'flight_tracker_close_signal') {
            try {
                const signal = JSON.parse(e.newValue);
                
                // If the signal says to keep a different tab, this tab should close
                if (signal && signal.action === 'close_old_tabs' && signal.keepTabId !== tabId) {
                    console.log('ðŸ“¡ Received close signal from newest tab. Closing this tab...');
                    
                    isClosingDueToMultiTab = true;
                    
                    // Stop all intervals
                    if (heartbeatInterval) clearInterval(heartbeatInterval);
                    if (multiTabCheckInterval) clearInterval(multiTabCheckInterval);
                    stopUpdateIntervals();
                    
                    // Clean up Firebase
                    if (firebaseDbRef && firebaseListenerActive) {
                        firebaseDbRef.off('value');
                        firebaseListenerActive = false;
                    }
                    
                    // Remove this tab from heartbeat
                    try {
                        const tabs = JSON.parse(localStorage.getItem(TAB_HEARTBEAT_KEY) || '[]');
                        const filteredTabs = tabs.filter(tab => tab.id !== tabId);
                        localStorage.setItem(TAB_HEARTBEAT_KEY, JSON.stringify(filteredTabs));
                    } catch (err) {
                        console.error('Error removing tab from heartbeat:', err);
                    }
                    
                    // Show a brief "closing" message
                    document.body.innerHTML = `
                        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: white; color: #000345; padding: 2rem;">
                            <div style="text-align: center; padding: 3rem; background: rgba(250, 81, 21, 0.08); border: 3px solid rgba(250, 81, 21, 0.3); border-radius: 2rem; box-shadow: 0 20px 60px rgba(250, 81, 21, 0.3); max-width: 600px;">
                                <div style="font-size: 4rem; margin-bottom: 1rem; animation: checkPulse 2s ease-in-out infinite;">âœ…</div>
                                <h1 style="margin-bottom: 0.5rem; font-size: 2rem; color: #000345;">Tab Closed</h1>
                                <p style="color: #6b7280; font-size: 1rem; margin-bottom: 1rem;">This duplicate tab has been closed automatically.</p>
                                <p style="color: #FA5115; font-size: 0.9rem; font-weight: 600;">Please continue working in your most recent tab.</p>
                            </div>
                        </div>
                        <style>
                            @keyframes checkPulse {
                                0%, 100% { transform: scale(1); opacity: 1; }
                                50% { transform: scale(1.1); opacity: 0.8; }
                            }
                        </style>
                    `;
                    
                    // Try to close the window
                    setTimeout(() => {
                        window.close();
                    }, 2000);
                }
            } catch (err) {
                console.error('Error processing close signal:', err);
            }
        }
    });
}

// Start multi-tab detection
function startMultiTabDetection() {
    console.log('ðŸ” Starting multi-tab detection system');
    
    // Send heartbeat every 500ms
    sendHeartbeat(); // Initial heartbeat
    heartbeatInterval = setInterval(sendHeartbeat, TAB_CHECK_INTERVAL);
    
    // Check for multiple tabs every 500ms
    multiTabCheckInterval = setInterval(checkForMultipleTabs, TAB_CHECK_INTERVAL);
    
    // Listen for close signals from other tabs
    listenForCloseSignal();
    
    console.log('âœ… Multi-tab detection active');
}

// Clean up on page unload
window.addEventListener('beforeunload', function() {
    if (!isClosingDueToMultiTab) {
        // Normal close - remove this tab from heartbeat
        try {
            const tabs = JSON.parse(localStorage.getItem(TAB_HEARTBEAT_KEY) || '[]');
            const filteredTabs = tabs.filter(tab => tab.id !== tabId);
            localStorage.setItem(TAB_HEARTBEAT_KEY, JSON.stringify(filteredTabs));
        } catch (e) {
            console.error('Error cleaning up tab heartbeat:', e);
        }
    }
});
        const SYNC_KEY = 'flight_tracker_sync';
        const COMMENT_LOCK_KEY = 'comment_lock';
        const SAVED_DATA_KEY = 'flight_tracker_saved_data';
        const POLL_INTERVAL = 2000;
       let firebaseListenerActive = false;
     let searchQuery = '';
let activityTimer = null;
let lastActivity = Date.now();
const ACTIVITY_TIMEOUT = 1800000; // 30 minutes
const LAST_ACTIVITY = 'last_activity_time';
let backgroundRefreshTimer = null;
let earlyOpenMode = null;
let earlyOpenFlightNumber = null;
let earlyOpenHours = 3;
let extensionTimers = {}; // Track extension timers for each flight

        // Get unique Firebase path based on flight date
        function getFirebasePath(basePath) {
            if (!flightDate) return basePath;
            const dateKey = flightDate.toISOString().split('T')[0];
            return `${basePath}_${dateKey}`;
        }

        // Initialize Firebase database reference
        function initializeFirebaseRef() {
            if (!firebaseInitialized || !flightDate) return;
            
            const dataPath = getFirebasePath('flight_tracker_data');
            firebaseDbRef = firebase.database().ref(dataPath);
            console.log(`ðŸ“ Firebase path set to: ${dataPath}`);
        }

        function updateTime() {
            currentTime = new Date();
            document.getElementById('current-time').textContent = 
                currentTime.toLocaleTimeString('en-AU', { hour12: false });
        }
        setInterval(updateTime, 1000);
        updateTime();

        function toggleSection(sectionName) {
            const content = document.getElementById(`${sectionName}-flights`);
            const toggle = document.getElementById(`${sectionName}-toggle`);
            
            content.classList.add('user-interacted');
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                toggle.textContent = '+';
            } else {
                content.classList.add('expanded');
                toggle.textContent = 'âˆ’';
            }
        }

        function openAddFlightModal() {
            closeAllDropdowns();
            
            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            
            const modal = document.createElement('div');
            modal.className = 'add-flight-modal';
            
            modal.innerHTML = `
                <div class="add-flight-title">âž• Add New Flight</div>
                <div class="add-flight-form">
                    <div class="form-group">
                        <label class="form-label">Flight Number *</label>
                        <input type="text" class="form-input" id="new-flight-number" placeholder="e.g., VA123" autocomplete="off">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Destination *</label>
                        <input type="text" class="form-input" id="new-flight-destination" placeholder="e.g., BNE, SYD, MEL" autocomplete="off" maxlength="3" style="text-transform: uppercase;">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Departure Time *</label>
                        <input type="time" class="form-input" id="new-flight-time">
                        <div class="form-note">Check-in will automatically close 40 minutes before this time</div>
                    </div>
                    <div class="form-actions">
                        <button class="form-cancel-btn" onclick="closeAddFlightModal()">Cancel</button>
                        <button class="form-save-btn" onclick="saveNewFlight()">Add Flight</button>
                    </div>
                </div>
            `;
            
            overlay.onclick = closeAddFlightModal;
            
            document.body.appendChild(overlay);
            document.body.appendChild(modal);
            
            document.getElementById('new-flight-number').focus();
        }

        function closeAddFlightModal() {
            const overlay = document.querySelector('.overlay');
            const modal = document.querySelector('.add-flight-modal');
            if (overlay) overlay.remove();
            if (modal) modal.remove();
        }

        function saveNewFlight() {
            const flightNumber = document.getElementById('new-flight-number').value.trim().toUpperCase();
            const destination = document.getElementById('new-flight-destination').value.trim().toUpperCase();
            const departureTime = document.getElementById('new-flight-time').value;
            
            if (!flightNumber) {
                alert('Please enter a flight number');
                document.getElementById('new-flight-number').focus();
                return;
            }
            
            if (!destination) {
                alert('Please enter a destination');
                document.getElementById('new-flight-destination').focus();
                return;
            }
            
            if (destination.length !== 3) {
                alert('Destination must be 3 letters (e.g., BNE, SYD, MEL)');
                document.getElementById('new-flight-destination').focus();
                return;
            }
            
            if (!departureTime) {
                alert('Please select a departure time');
                document.getElementById('new-flight-time').focus();
                return;
            }
            
            const newFlight = {
                id: Date.now(),
                flightNumber: flightNumber,
                destination: destination,
                departureTime: departureTime,
                originalDepartureTime: departureTime,
                isDelayed: false,
                isTurnaround: false,
              inboundFlight: '',
                manualStatus: null,
                cancelReason: null,
                isAdhoc: true,
                extensionStartTime: null,
                extensionDuration: null
            };
            
          flights.push(newFlight);
    
    closeAddFlightModal();
      // ADD THIS - Clear cache for new flight
    debouncedSync();
    updateDisplay();
            
            alert(`âœ… Flight ${flightNumber} to ${destination} added successfully!`);
        }

        function loadSavedData() {
            try {
                const savedData = localStorage.getItem(SAVED_DATA_KEY);
                if (savedData) {
                    const parsed = JSON.parse(savedData);
                   flights = parsed.flights || [];
comments = parsed.comments || [];
deletedFlights = parsed.deletedFlights || [];
earlyOpenMode = parsed.earlyOpenMode || null;
earlyOpenFlightNumber = parsed.earlyOpenFlightNumber || null;
earlyOpenHours = parsed.earlyOpenHours || 3;
flightDate = parsed.flightDate ? new Date(parsed.flightDate) : null;
                    dateValidationDismissed = true;
                    
                    if (flights.length > 0) {
                        const dateBadge = document.getElementById('flight-date-badge');
                        dateBadge.textContent = `Flight Schedule: ${flightDate.toLocaleDateString('en-AU', { 
                            weekday: 'long', 
                            year: 'numeric', 
                            month: 'long', 
                            day: 'numeric' 
                        })}`;
                        dateBadge.style.display = 'inline-block';
                        
                        
                        
                       
                        document.getElementById('save-html-btn').style.display = 'block';
                        document.getElementById('add-flight-btn').style.display = 'block';
                        document.getElementById('early-open-btn').style.display = 'block';
                        document.getElementById('refresh-all-btn').style.display = 'block';
                        updateDateValidationBadge();
                        updateDisplay();
                        startUpdateIntervals();
                        renderComments();
                        // Show comments section only if there are comments

document.getElementById('add-comment-main-btn').style.display = 'block';
                        renderDeletedFlights();
                        updateEarlyOpenIndicator();
                        document.getElementById('search-container').style.display = 'block';
                        
                        initializeFirebaseRef();
                        (async function() {
                            await debouncedSync();
                            setupFirebaseListener();
                        })();
                    }
                }
            } catch (e) {
                console.error('Error loading saved data:', e);
            }
        }

       

   function saveAsHTML() {
    // Create filename directly from flight date
    let fileName = 'Flight Tracker';
    
    if (flightDate) {
        const day = flightDate.getDate().toString().padStart(2, '0');
        const month = (flightDate.getMonth() + 1).toString().padStart(2, '0');
        const year = flightDate.getFullYear();
        fileName = `Flight Close_${day}-${month}-${year}`;
    }
    
    // âœ… STEP 1: Filter out cancelled flights before saving
    console.log('ðŸ’¾ Preparing to save HTML file...');
    console.log('ðŸ“Š Total flights:', flights.length);
    
    // Count how many are cancelled
    const cancelledCount = flights.filter(f => f.manualStatus === 'cancelled').length;
    console.log('ðŸš« Cancelled flights:', cancelledCount);
    
    // Create filtered array WITHOUT cancelled flights
    const flightsToSave = flights.filter(f => {
        const isCancelled = f.manualStatus === 'cancelled';
        
        if (isCancelled) {
            console.log('   Excluding cancelled flight:', f.flightNumber, 'to', f.destination);
        }
        
        return !isCancelled; // Keep only non-cancelled flights
    });
    
    console.log('âœ… Flights to save:', flightsToSave.length);
    console.log('ðŸ“‰ Excluded:', flights.length - flightsToSave.length, 'cancelled flights');
     // âœ… OPTIONAL: Warn user if cancelled flights are being excluded
    if (cancelledCount > 0) {
        const shouldContinue = confirm(
            `â„¹ï¸ NOTICE: ${cancelledCount} cancelled flight${cancelledCount > 1 ? 's' : ''} will NOT be saved in the HTML file.\n\n` +
            `This is intentional - cancelled flights won't appear when you open this file later.\n\n` +
            `Flights being excluded:\n${flights.filter(f => f.manualStatus === 'cancelled').map(f => `â€¢ ${f.flightNumber} to ${f.destination}`).join('\n')}\n\n` +
            `Continue saving?`
        );
        
        if (!shouldContinue) {
            console.log('âŒ User cancelled HTML save');
            return; // Exit function without saving
        }
    }
    // âœ… STEP 2: Prepare data to embed (using filtered flights)
    const dataToEmbed = {
        flights: flightsToSave,  // âœ… Use filtered array instead of all flights
        comments: comments,
        deletedFlights: deletedFlights,
        earlyOpenMode: earlyOpenMode,
        earlyOpenFlightNumber: earlyOpenFlightNumber,
        earlyOpenHours: earlyOpenHours,
        flightDate: flightDate,
        savedTimestamp: Date.now()
    };
    
    // Get current HTML
    let htmlContent = document.documentElement.outerHTML;
    
    // Embed the data
    const dataScript = `const EMBEDDED_DATA = ${JSON.stringify(dataToEmbed)};`;
    htmlContent = htmlContent.replace(
        'const EMBEDDED_DATA = null;',
        dataScript
    );
    
    // Add CSS to hide only the 3 buttons
    const hideStyle = `
    <style id="saved-file-style">
        /* Hide only these 3 buttons */
        .upload-btn:not(.add-comment-main-btn):not(.add-flight-btn):not(.early-open-btn) { 
            display: none !important; 
        }
        #reset-btn { display: none !important; }
        #save-html-btn { display: none !important; }
    </style>
`;
    
    htmlContent = htmlContent.replace('</head>', hideStyle + '</head>');
    
    // Save the file
    const blob = new Blob([htmlContent], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `${fileName}.html`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    
    alert('âœ… HTML file saved!');
}

       // Debounce sync to prevent hammering Firebase
let syncTimeout;
let syncQueue = [];
let lastSyncTime = 0;
const MIN_SYNC_INTERVAL = 2000; // Minimum 2 seconds between syncs

function debouncedSync() {
    clearTimeout(syncTimeout);
    
    // Don't sync if editing
    if (isEditingField || activeDropdown) {
        console.log('â¸ï¸ Sync delayed - user interaction');
        syncTimeout = setTimeout(debouncedSync, 1000);
        return;
    }
    
    const now = Date.now();
    const timeSinceLastSync = now - lastSyncTime;
    
    // If we just synced recently, wait longer
    if (timeSinceLastSync < MIN_SYNC_INTERVAL) {
        syncTimeout = setTimeout(() => {
            syncData();
            lastSyncTime = Date.now();
        }, MIN_SYNC_INTERVAL - timeSinceLastSync + 500);
    } else {
        // Normal debounce
        syncTimeout = setTimeout(() => {
            syncData();
            lastSyncTime = Date.now();
        }, 500);
    }
}
async function syncData() {
    // CRITICAL: If user is actively editing, wait
    if (isEditingField) {
        console.log('â¸ï¸ Delaying sync - user is editing');
        return;
    }
    
    // Remove any duplicate flights by ID before syncing
const seenIds = new Set();
flights = flights.filter(flight => {
    if (seenIds.has(flight.id)) {
        console.warn('âš ï¸ Removing duplicate flight:', flight.flightNumber, flight.id);
        return false;
    }
    seenIds.add(flight.id);
    return true;
});

// Remove any flights with invalid data
flights = flights.filter(flight => {
    if (!flight.flightNumber || !flight.destination || !flight.departureTime) {
        console.warn('âš ï¸ Removing invalid flight:', flight);
        return false;
    }
    return true;
});
    const indicator = document.getElementById('connection-indicator');
    
    // Show syncing indicator
    if (indicator) {
        indicator.style.display = 'flex';
        indicator.className = 'connection-indicator syncing';
        const textEl = indicator.querySelector('.connection-text');
        if (textEl) textEl.textContent = 'Syncing...';
    }
    
    const timestamp = Date.now();
    
    const data = {
        flights: flights,
        comments: comments,
        deletedFlights: deletedFlights,
        earlyOpenMode: earlyOpenMode,
        earlyOpenFlightNumber: earlyOpenFlightNumber,
        earlyOpenHours: earlyOpenHours,
        timestamp: timestamp,
        sessionId: sessionId
    };
    
    // Store timestamp locally to track our last update
    localStorage.setItem('last_local_update', timestamp.toString());
    
    try {
        // WORKSPACE ONE: Always save to localStorage first (most reliable)
        try {
            localStorage.setItem(SYNC_KEY, JSON.stringify(data));
            console.log('âœ… Data saved to localStorage (Workspace ONE compatible)');
        } catch (lsError) {
            console.error('âŒ localStorage error:', lsError);
            // Workspace ONE: Handle quota exceeded
            if (lsError.name === 'QuotaExceededError') {
                console.log('ðŸ“¦ localStorage quota exceeded, clearing old data...');
                // Clear old sync data but keep auth
                const authValue = localStorage.getItem(AUTH_KEY);
                const activityValue = localStorage.getItem(LAST_ACTIVITY);
                localStorage.clear();
                if (authValue) localStorage.setItem(AUTH_KEY, authValue);
                if (activityValue) localStorage.setItem(LAST_ACTIVITY, activityValue);
                // Retry save
                localStorage.setItem(SYNC_KEY, JSON.stringify(data));
                console.log('âœ… Data saved after clearing old data');
            }
        }
        
        let firebaseSuccess = false;
        
        // If Firebase is enabled AND properly configured, sync there too
        if (firebaseInitialized && firebaseDbRef) {
            try {
                await firebaseDbRef.set(data);
                console.log('âœ… Data synced to Firebase (Workspace ONE compatible)');
                firebaseSuccess = true;
            } catch (fbError) {
                console.warn('âš ï¸ Firebase sync failed, localStorage only:', fbError);
                // Workspace ONE: Firebase might be blocked by corporate policy
                console.log('â„¹ï¸ This is normal in corporate environments (Workspace ONE)');
                firebaseSuccess = false;
            }
        } else {
            console.log('ðŸ’¾ Synced to localStorage only (Firebase not configured)');
        }
        
        // Show success indicator
        if (indicator) {
            const textEl = indicator.querySelector('.connection-text');
            indicator.className = 'connection-indicator';
            indicator.style.borderColor = '#10b981';
            indicator.style.color = '#10b981';
            if (textEl) {
                textEl.textContent = firebaseSuccess ? 'Synced (Cloud)' : 'Synced (Local)';
            }
            
            // Hide after 2 seconds
            setTimeout(() => {
                indicator.style.opacity = '0';
                setTimeout(() => {
                    indicator.style.display = 'none';
                    indicator.style.opacity = '1';
                }, 300);
            }, 2000);
        }
        
      
        
    } catch (e) {
        console.error('âŒ Error syncing data:', e);
        
        // Show error indicator
        if (indicator) {
            const textEl = indicator.querySelector('.connection-text');
            indicator.className = 'connection-indicator error';
            indicator.style.borderColor = '#ef4444';
            indicator.style.color = '#ef4444';
            if (textEl) textEl.textContent = 'Sync Failed';
            
            setTimeout(() => {
                indicator.style.display = 'none';
            }, 3000);
        }
    }
}
function broadcastRefreshSignal() {
    const refreshSignal = {
        action: 'force_refresh',
        timestamp: Date.now(),
        fromSession: sessionId
    };
    
    try {
        localStorage.setItem('force_refresh_signal', JSON.stringify(refreshSignal));
        console.log('ðŸ“¡ Broadcast refresh signal to all devices');
        
        // Clear signal after 1 second
        setTimeout(() => {
            localStorage.removeItem('force_refresh_signal');
        }, 1000);
    } catch (e) {
        console.error('Error broadcasting refresh:', e);
    }
}
function showRefreshingAnimation() {
    // Remove any existing refresh overlays
    const existing = document.getElementById('refreshing-overlay');
    if (existing) existing.remove();
    
    // Create full-screen refreshing overlay
    const overlay = document.createElement('div');
    overlay.id = 'refreshing-overlay';
    overlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(37, 99, 235, 0.98));
        z-index: 99999;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: white;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    `;
    
    overlay.innerHTML = `
        <div style="text-align: center;">
            <div style="font-size: 5rem; margin-bottom: 1.5rem; animation: spin 2s linear infinite;">ðŸ”„</div>
            <div style="font-size: 2rem; font-weight: bold; margin-bottom: 1rem;">Refreshing All Devices</div>
            <div style="font-size: 1.2rem; opacity: 0.9; margin-bottom: 2rem;" id="refresh-status">Syncing data...</div>
            <div style="width: 400px; height: 8px; background: rgba(255,255,255,0.3); border-radius: 10px; overflow: hidden; margin: 0 auto;">
                <div id="refresh-progress" style="width: 0%; height: 100%; background: white; border-radius: 10px; transition: width 0.5s ease;"></div>
            </div>
        </div>
        <style>
            @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
        </style>
    `;
    
    document.body.appendChild(overlay);
    
    // Animate progress bar
    setTimeout(() => {
        document.getElementById('refresh-progress').style.width = '30%';
    }, 500);
    
    setTimeout(() => {
        document.getElementById('refresh-status').textContent = 'Broadcasting to devices...';
        document.getElementById('refresh-progress').style.width = '60%';
    }, 2000);
    
    setTimeout(() => {
        document.getElementById('refresh-status').textContent = 'Preparing reload...';
        document.getElementById('refresh-progress').style.width = '90%';
    }, 4000);
}
async function forceRefreshAllDevices() {
    // Confirm action
    if (!confirm('This will refresh ALL devices using this file (computers, iPads, phones, etc). Continue?')) {
        return;
    }
    
    console.log('ðŸ”„ FORCING REFRESH ON ALL DEVICES');
    
    // Show refreshing animation on THIS device
    showRefreshingAnimation();
    
    // CRITICAL: Stop all intervals to prevent conflicts
    if (heartbeatInterval) {
        clearInterval(heartbeatInterval);
        console.log('â¸ï¸ Stopped heartbeat');
    }
    if (multiTabCheckInterval) {
        clearInterval(multiTabCheckInterval);
        console.log('â¸ï¸ Stopped multi-tab check');
    }
    stopUpdateIntervals();
    
    try {
        // STEP 1: Force complete sync to Firebase with current state
        console.log('ðŸ“¤ Step 1: Syncing current state to Firebase...');
        
        const timestamp = Date.now();
        const completeState = {
            flights: flights,
            comments: comments,
            deletedFlights: deletedFlights,
            earlyOpenMode: earlyOpenMode,
            earlyOpenFlightNumber: earlyOpenFlightNumber,
            earlyOpenHours: earlyOpenHours,
            timestamp: timestamp,
            sessionId: sessionId
        };
        
        // Save to localStorage first
        localStorage.setItem(SYNC_KEY, JSON.stringify(completeState));
        localStorage.setItem('last_local_update', timestamp.toString());
        
        // Then to Firebase if available
        if (firebaseInitialized && firebaseDbRef) {
            await firebaseDbRef.set(completeState);
            console.log('âœ… State synced to Firebase');
            
            // Wait for Firebase to propagate (important!)
            await new Promise(resolve => setTimeout(resolve, 1500));
        }
        
        // STEP 2: Create unique refresh signal
        console.log('ðŸ“¡ Step 2: Broadcasting refresh signal...');
        
        const refreshSignal = {
            action: 'force_reload_all',
            timestamp: Date.now(),
            fromSession: sessionId,
            triggerCount: Math.random(),
            stateTimestamp: timestamp  // âœ… Link to the state we just saved
        };
        
        // Send via Firebase
        if (firebaseInitialized) {
            const forceRefreshRef = firebase.database().ref(getFirebasePath('force_refresh_trigger'));
            await forceRefreshRef.set(refreshSignal);
            console.log('âœ… Firebase refresh signal sent');
        }
        
        // Send via localStorage (for same-device tabs)
        localStorage.setItem('force_reload_all_signal', JSON.stringify(refreshSignal));
        console.log('âœ… localStorage refresh signal sent');
        
        // STEP 3: Wait for signals to propagate to other devices
        console.log('â³ Step 3: Waiting for signal propagation (3 seconds)...');
        await new Promise(resolve => setTimeout(resolve, 3000));
        
        // STEP 4: Clean up before reload
        console.log('ðŸ§¹ Step 4: Cleaning up...');
        try {
            localStorage.removeItem(TAB_HEARTBEAT_KEY);
            console.log('âœ… Heartbeat data cleared');
        } catch (e) {
            console.error('Error cleaning heartbeat:', e);
        }
        
        // STEP 5: Hard reload THIS device
        console.log('ðŸ”„ Step 5: Reloading this device NOW...');
        
        // Clear cache and force reload
        if ('caches' in window) {
            caches.keys().then(names => {
                names.forEach(name => caches.delete(name));
            });
        }
        
        location.reload(true); // true = force reload from server
        
    } catch (e) {
        console.error('âŒ Error during force refresh:', e);
        
        // Remove refreshing overlay
        const overlay = document.getElementById('refreshing-overlay');
        if (overlay) overlay.remove();
        
        alert('Error sending refresh signal: ' + e.message + '\n\nPlease check your connection and try again.');
        
        // Restart intervals if refresh failed
        startMultiTabDetection();
        startUpdateIntervals();
    }
}
window.addEventListener('storage', function(e) {
    // Handle force reload signal via localStorage
    if (e.key === 'force_reload_all_signal' && e.newValue) {
        try {
            const signal = JSON.parse(e.newValue);
            
            // Only reload if signal is from a different session
            if (signal && signal.fromSession !== sessionId) {
                console.log('ðŸ”„ RECEIVED FORCE RELOAD SIGNAL (localStorage)');
                console.log('ðŸ“¡ Signal from session:', signal.fromSession.substring(0, 20) + '...');
                
                // Stop all intervals
                if (heartbeatInterval) clearInterval(heartbeatInterval);
                if (multiTabCheckInterval) clearInterval(multiTabCheckInterval);
                stopUpdateIntervals();
                
                // Clean up heartbeat
                localStorage.removeItem(TAB_HEARTBEAT_KEY);
                
                // Show notification
                showReloadNotification();
                
                // Reload after 1.5 seconds
                setTimeout(() => {
                    console.log('ðŸ”„ Reloading page now...');
                    location.reload(true);
                }, 1500);
            } else {
                console.log('â­ï¸ Ignoring reload signal from same session');
            }
        } catch (err) {
            console.error('âŒ Error processing force reload signal:', err);
        }
    }
    
    // Handle regular sync updates
    if (e.key === SYNC_KEY && e.newValue) {
        console.log('ðŸ“¥ Received sync update from another device');
        loadSyncData();
    }
    
    // Handle refresh signal (non-reload version)
    if (e.key === 'force_refresh_signal' && e.newValue) {
        try {
            const signal = JSON.parse(e.newValue);
            
            if (signal && signal.fromSession !== sessionId) {
                console.log('ðŸ“¡ Received refresh signal from another device');
                
                // Force immediate reload of data (don't reload page)
                setTimeout(() => {
                    loadSyncData();
                    updateDisplay();
                    renderComments();
                    renderDeletedFlights();
                }, 100);
            }
        } catch (err) {
            console.error('Error processing refresh signal:', err);
        }
    }
});

function showReloadNotification() {
    // Remove any existing refresh overlays
    const existing = document.getElementById('refreshing-overlay');
    if (existing) existing.remove();
    
    // Create full-screen refreshing overlay
    const overlay = document.createElement('div');
    overlay.id = 'refreshing-overlay';
    overlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.95), rgba(5, 150, 105, 0.98));
        z-index: 99999;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: white;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        animation: fadeIn 0.3s ease-in;
    `;
    
    overlay.innerHTML = `
        <div style="text-align: center;">
            <div style="font-size: 5rem; margin-bottom: 1.5rem; animation: spin 2s linear infinite;">ðŸ”„</div>
            <div style="font-size: 2rem; font-weight: bold; margin-bottom: 1rem;">Refresh Triggered</div>
            <div style="font-size: 1.2rem; opacity: 0.9; margin-bottom: 0.5rem;">Another device requested a refresh</div>
            <div style="font-size: 1rem; opacity: 0.8;">Reloading now...</div>
            <div style="width: 300px; height: 8px; background: rgba(255,255,255,0.3); border-radius: 10px; overflow: hidden; margin: 2rem auto 0;">
                <div style="width: 100%; height: 100%; background: white; border-radius: 10px; animation: progressBar 1.5s ease-in-out infinite;"></div>
            </div>
        </div>
        <style>
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
            @keyframes progressBar {
                0% { transform: translateX(-100%); }
                100% { transform: translateX(100%); }
            }
        </style>
    `;
    
    document.body.appendChild(overlay);
}
// Listen for refresh signals
window.addEventListener('storage', function(e) {
    if (e.key === 'force_refresh_signal') {
        try {
            const signal = JSON.parse(e.newValue);
            
            if (signal && signal.fromSession !== sessionId) {
                console.log('ðŸ“¡ Received refresh signal from another device');
                
                // Force immediate reload of data
                setTimeout(() => {
                    loadSyncData();
                    updateDisplay();
                    renderComments();
                    renderDeletedFlights();
                }, 100);
            }
        } catch (err) {
            console.error('Error processing refresh signal:', err);
        }
    }
});
   function setupFirebaseListener() {
    if (!firebaseInitialized || !firebaseDbRef) {
        return;
    }
    
    // CRITICAL: Always remove old listener first
    if (firebaseListenerActive) {
        firebaseDbRef.off('value');
        console.log('ðŸ§¹ Cleaned up old Firebase listener');
    }
    
    console.log('ðŸŽ§ Setting up Firebase realtime listener...');
    
  firebaseDbRef.on('value', async (snapshot) => {
    const remoteData = snapshot.val();
    
    if (!remoteData) {
        console.log('ðŸ”­ No remote data found');
        return;
    }
    
    // CRITICAL: Always apply remote data if timestamp is newer
    const localTimestamp = localStorage.getItem('last_local_update') || 0;
    const remoteTimestamp = remoteData.timestamp || 0;
    
    if (remoteData.sessionId === sessionId && remoteTimestamp <= localTimestamp) {
        console.log('â­•ï¸ Skipping - this is our own older update');
        return;
    }
    
    console.log('ðŸ”¥ Applying remote update from', remoteData.sessionId === sessionId ? 'this device' : 'another device');
        
        if (isEditingField || activeDropdown || checkCommentLock()) {
            console.log('â¸» User is editing, will sync later');
            return;
        }
        
        const scrollPosition = window.scrollY;
        
        const sectionStates = {
            urgent: document.getElementById('urgent-flights')?.classList.contains('expanded'),
            extended: document.getElementById('extended-flights')?.classList.contains('expanded'),
            active: document.getElementById('active-flights')?.classList.contains('expanded'),
            closed: document.getElementById('closed-flights')?.classList.contains('expanded'),
            notopen: document.getElementById('notopen-flights')?.classList.contains('expanded'),
            cancelled: document.getElementById('cancelled-flights')?.classList.contains('expanded')
        };
        
        // CRITICAL: Merge remote data properly, preserving local active extensions
        const remoteFlights = remoteData.flights || [];
        const localExtendedFlights = flights.filter(f => f.manualStatus === 'extended' && f.extensionStartTime);
        
        // Update flights but preserve local extension states if they're newer
        flights = remoteFlights.map(remoteFlight => {
            const localVersion = localExtendedFlights.find(f => f.id === remoteFlight.id);
            
            // If we have a local extended version that's still active, keep using it
            if (localVersion && localVersion.extensionStartTime) {
                const now = Date.now();
                const localExtensionAge = now - localVersion.extensionStartTime;
                
                // If local extension is less than 1 hour old, keep it
                if (localExtensionAge < 3600000) {
                    console.log('âœ… Preserving local extension for', localVersion.flightNumber);
                    return localVersion;
                }
            }
            
            return remoteFlight;
        });
        
        comments = remoteData.comments || [];
        deletedFlights = remoteData.deletedFlights || [];
        earlyOpenMode = remoteData.earlyOpenMode || null;
        earlyOpenFlightNumber = remoteData.earlyOpenFlightNumber || null;
        earlyOpenHours = remoteData.earlyOpenHours || 3;
        
        updateDisplay();
        renderComments();
        renderDeletedFlights();
        updateEarlyOpenIndicator();
        
        Object.keys(sectionStates).forEach(section => {
            const content = document.getElementById(`${section}-flights`);
            const toggle = document.getElementById(`${section}-toggle`);
            
            if (content && toggle) {
                if (sectionStates[section]) {
                    content.classList.add('expanded');
                    toggle.textContent = 'âˆ’';
                } else {
                    content.classList.remove('expanded');
                    toggle.textContent = '+';
                }
            }
        });
        
        window.scrollTo(0, scrollPosition);
        
        await checkAndNotifyCancellations();
        await checkAndNotifyComments();
        
        console.log('âœ… Display updated with remote data');
    }, (error) => {
        console.error('âŒ Firebase listener error:', error);
        firebaseListenerActive = false;
    });
    
    firebaseListenerActive = true;
    console.log('âœ… Firebase realtime listener active');
function setupFirebaseListener() {
    // ... existing code ...
    
    // ============================================
    // ADD THIS NEW CODE HERE (before the final closing brace)
    // ============================================
    
    // Listen for force refresh signals via Firebase
    if (firebaseInitialized) {
        const forceRefreshRef = firebase.database().ref(getFirebasePath('force_refresh_trigger'));
        
        forceRefreshRef.on('value', (snapshot) => {
            const refreshData = snapshot.val();
            
            if (!refreshData) return;
            
            // Only reload if signal is from a different session and is recent (within 10 seconds)
            const now = Date.now();
            const signalAge = now - refreshData.timestamp;
            
            if (refreshData.fromSession !== sessionId && signalAge < 10000) {
                console.log('ðŸ”„ RECEIVED FIREBASE REFRESH SIGNAL');
                console.log('ðŸ“¡ Signal from session:', refreshData.fromSession.substring(0, 20) + '...');
                console.log('â±ï¸ Signal age:', signalAge + 'ms');
                console.log('ðŸŽ¯ Trigger count:', refreshData.triggerCount);
                
                // CRITICAL: Stop all intervals before reload
                if (heartbeatInterval) {
                    clearInterval(heartbeatInterval);
                    console.log('â¹ï¸ Stopped heartbeat');
                }
                if (multiTabCheckInterval) {
                    clearInterval(multiTabCheckInterval);
                    console.log('â¹ï¸ Stopped multi-tab check');
                }
                stopUpdateIntervals();
                console.log('â¹ï¸ Stopped update intervals');
                
                // Clean up Firebase listener
                if (firebaseDbRef && firebaseListenerActive) {
                    firebaseDbRef.off('value');
                    firebaseListenerActive = false;
                    console.log('â¹ï¸ Stopped Firebase listener');
                }
                
                // Clear heartbeat data
                try {
                    localStorage.removeItem(TAB_HEARTBEAT_KEY);
                    console.log('ðŸ§¹ Cleared heartbeat data');
                } catch (e) {
                    console.error('Error clearing heartbeat:', e);
                }
                
                // Show notification
                showReloadNotification();
                
                // Reload after 1.5 seconds
                setTimeout(() => {
                    console.log('ðŸ”„ Reloading page from Firebase signal...');
                    location.reload(true); // true = hard reload
                }, 1500);
            } else if (signalAge >= 10000) {
                console.log('â­ï¸ Ignoring old refresh signal (age: ' + signalAge + 'ms)');
            } else {
                console.log('â­ï¸ Ignoring refresh signal from same session');
            }
        });
        
        console.log('âœ… Firebase force refresh listener active');
    }
    
    // ============================================
    // END OF NEW CODE
    // ============================================
    
    firebaseListenerActive = true;
    console.log('âœ… Firebase realtime listener active');
}
       
   }


  

        function loadSyncData() {
            try {
                const data = localStorage.getItem(SYNC_KEY);
                if (data) {
                    const parsed = JSON.parse(data);
                    if (parsed.sessionId !== sessionId) {
                        flights = parsed.flights || [];
comments = parsed.comments || [];
deletedFlights = parsed.deletedFlights || [];
earlyOpenMode = parsed.earlyOpenMode || null;
earlyOpenFlightNumber = parsed.earlyOpenFlightNumber || null;
earlyOpenHours = parsed.earlyOpenHours || 3;
                        if (flights.length > 0) {
                            updateDisplay();
                            renderComments();
                            renderDeletedFlights();
                        }
                    }
                }
            } catch (e) {
                console.error('Error loading sync data:', e);
            }
        }

        function checkCommentLock() {
            try {
                const lock = localStorage.getItem(COMMENT_LOCK_KEY);
                if (lock) {
                    const lockData = JSON.parse(lock);
                    if (Date.now() - lockData.timestamp < 30000 && lockData.sessionId !== sessionId) {
                        return true;
                    }
                }
            } catch (e) {
                console.error('Error checking comment lock:', e);
            }
            return false;
        }

        function setCommentLock(isLocked) {
            try {
                if (isLocked) {
                    localStorage.setItem(COMMENT_LOCK_KEY, JSON.stringify({
                        sessionId: sessionId,
                        timestamp: Date.now()
                    }));
                } else {
                    const lock = localStorage.getItem(COMMENT_LOCK_KEY);
                    if (lock) {
                        const lockData = JSON.parse(lock);
                        if (lockData.sessionId === sessionId) {
                            localStorage.removeItem(COMMENT_LOCK_KEY);
                        }
                    }
                }
            } catch (e) {
                console.error('Error setting comment lock:', e);
            }
        }

        function showEditingWarning() {
            closeAllDropdowns();
            
            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            
            const modal = document.createElement('div');
            modal.className = 'editing-warning-modal';
            
            modal.innerHTML = `
                <div class="editing-warning-title">âš ï¸ Comments Being Edited</div>
                <div class="editing-warning-text">
                    Another user is currently editing the comments section. Please wait a moment and try again.
                </div>
                <button class="editing-warning-btn" onclick="closeEditingWarning()">OK</button>
            `;
            
            document.body.appendChild(overlay);
            document.body.appendChild(modal);
        }

        function closeEditingWarning() {
            const overlay = document.querySelector('.overlay');
            const modal = document.querySelector('.editing-warning-modal');
            if (overlay) overlay.remove();
            if (modal) modal.remove();
        }

   window.addEventListener('storage', function(e) {
    if (e.key === SYNC_KEY) {
        loadSyncData();
    }
});
 
        function compareDates(date1, date2) {
            return date1.getFullYear() === date2.getFullYear() &&
                   date1.getMonth() === date2.getMonth() &&
                   date1.getDate() === date2.getDate();
        }

        function showDateMismatchModal(csvDate, today) {
            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            
            const modal = document.createElement('div');
            modal.className = 'date-mismatch-modal';
            
            modal.innerHTML = `
                <div class="date-mismatch-title">âš ï¸ Date Mismatch Warning</div>
                <div class="date-mismatch-text">
                    <strong>Please note:</strong> The date in the CSV file does not match today's date.<br><br>
                    <strong>CSV Date:</strong> ${csvDate.toLocaleDateString('en-AU', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}<br>
                    <strong>Today's Date:</strong> ${today.toLocaleDateString('en-AU', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}<br><br>
                    Do you wish to continue?
                </div>
                <div class="date-mismatch-actions">
                    <button class="date-mismatch-btn cancel" onclick="cancelDateMismatch()">Cancel</button>
                    <button class="date-mismatch-btn continue" onclick="acceptDateMismatch()">Continue</button>
                </div>
            `;
            
            document.body.appendChild(overlay);
            document.body.appendChild(modal);
        }

        function cancelDateMismatch() {
            const overlay = document.querySelector('.overlay');
            const modal = document.querySelector('.date-mismatch-modal');
            if (overlay) overlay.remove();
            if (modal) modal.remove();
            
            flights = [];
            flightDate = null;
            document.getElementById('loading').style.display = 'block';
            document.getElementById('comments-section').style.display = 'none';
            document.getElementById('date-validation-badge').style.display = 'none';
            document.getElementById('flight-date-badge').style.display = 'none';
        }

        function acceptDateMismatch() {
            const overlay = document.querySelector('.overlay');
            const modal = document.querySelector('.date-mismatch-modal');
            if (overlay) overlay.remove();
            if (modal) modal.remove();
            
            dateValidationDismissed = true;
            updateDateValidationBadge();
            updateDisplay();
            
            (async function() {
                await debouncedSync();
                setupFirebaseListener();
            })();
        }

      function updateDateValidationBadge() {
    const badge = document.getElementById('date-validation-badge');
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    
    if (!flightDate) {
        badge.style.display = 'none';
        return;
    }
    
    const csvDateOnly = new Date(flightDate);
    csvDateOnly.setHours(0, 0, 0, 0);
    
    if (compareDates(csvDateOnly, today)) {
        // Just show a tick for matching dates
        badge.textContent = 'âœ“';
        badge.className = 'date-validation-badge success-tick';
        badge.style.display = 'flex';
    } else {
        // Show warning for non-matching dates
        badge.textContent = 'âš  CSV date does not match today';
        badge.className = 'date-validation-badge warning';
        badge.style.display = 'block';
    }
}

        document.getElementById('csv-upload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;

            Papa.parse(file, {
                complete: function(results) {processCSV(results.data);
            },
            skipEmptyLines: true
        });
    });

    function extractDateAndTime(dateTimeString) {
        const cleaned = dateTimeString.trim();
        
        const hasAMPM = /AM|PM/i.test(cleaned);
        
        if (hasAMPM) {
            const parts = cleaned.split(' ');
            if (parts.length < 3) return null;
            
            const datePart = parts[0];
            const timePart = parts[1];
            const meridiem = parts[2].toUpperCase();
            
            const dateComponents = datePart.split('/');
            if (dateComponents.length !== 3) return null;
            
            const day = parseInt(dateComponents[0], 10);
            const month = parseInt(dateComponents[1], 10);
            let year = parseInt(dateComponents[2], 10);
            
            if (year < 100) year = 2000 + year;
            
            const timeComponents = timePart.split(':');
            if (timeComponents.length < 2) return null;
            
            let hours = parseInt(timeComponents[0], 10);
            const minutes = parseInt(timeComponents[1], 10);
            
            if (meridiem === 'PM' && hours !== 12) {
                hours += 12;
            } else if (meridiem === 'AM' && hours === 12) {
                hours = 0;
            }
            
            if (isNaN(hours) || isNaN(minutes)) return null;
            if (hours < 0 || hours > 23) return null;
            if (minutes < 0 || minutes > 59) return null;
            
            const timeString = String(hours).padStart(2, '0') + ':' + String(minutes).padStart(2, '0');
            
            return {
                date: new Date(year, month - 1, day),
                time: timeString
            };
        } else {
            const parts = cleaned.split(' ');
            if (parts.length < 2) return null;
            
            const datePart = parts[0];
            const timePart = parts[1];
            
            const dateComponents = datePart.split('/');
            if (dateComponents.length !== 3) return null;
            
            const day = parseInt(dateComponents[0], 10);
            const month = parseInt(dateComponents[1], 10);
            let year = parseInt(dateComponents[2], 10);
            
            if (year < 100) year = 2000 + year;
            
            const timeComponents = timePart.split(':');
            if (timeComponents.length < 2) return null;
            
            const hours = parseInt(timeComponents[0], 10);
            const minutes = parseInt(timeComponents[1], 10);
            
            if (isNaN(hours) || isNaN(minutes)) return null;
            if (hours < 0 || hours > 23) return null;
            if (minutes < 0 || minutes > 59) return null;
            
            const timeString = String(hours).padStart(2, '0') + ':' + String(minutes).padStart(2, '0');
            
            return {
                date: new Date(year, month - 1, day),
                time: timeString
            };
        }
    }

    function processCSV(data) {
        flights = [];
        flightDate = null;
        dateValidationDismissed = false;
        
        for (let i = 1; i < data.length; i++) {
            const row = data[i];
            
            const flightNumber = row[14] ? row[14].trim() : '';
            if (!flightNumber) continue;
            
            const destination = row[15] ? row[15].trim().toUpperCase() : '';
            if (!destination) continue;
            
            // âœ… Make international destination check case-insensitive and more robust
if (INTERNATIONAL_DESTINATIONS.includes(destination.toUpperCase())) {
    console.log(`Filtered out international flight to ${destination}`);
    continue;
}
            
            const columnU = row[20] ? row[20].trim() : '';
            if (!columnU) continue;
            
            const departureInfo = extractDateAndTime(columnU);
            if (!departureInfo) {
                console.log('Failed to parse columnU:', columnU);
                continue;
            }

            const hourCheck = parseInt(departureInfo.time.split(':')[0], 10);
            if (hourCheck >= 12) {
                console.log('=== AFTERNOON FLIGHT ===');
                console.log('Flight:', flightNumber, 'Destination:', destination);
                console.log('Column U raw:', columnU);
                console.log('Extracted time:', departureInfo.time);
                console.log('Hour parsed as:', hourCheck);
                console.log('========================');
            }
            
            if (!flightDate) {
                flightDate = departureInfo.date;
                const dateBadge = document.getElementById('flight-date-badge');
                dateBadge.textContent = `Flight Schedule: ${flightDate.toLocaleDateString('en-AU', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                })}`;
                dateBadge.style.display = 'inline-block';
            }
            // âœ… CLEAR OLD CANCELLED FLIGHTS - Fresh start with new CSV
console.log('ðŸ†• New CSV loaded - clearing any old cancelled flight data');

// Check if we're loading a different date than what's saved
const savedData = localStorage.getItem(SAVED_DATA_KEY);
if (savedData) {
    try {
        const parsed = JSON.parse(savedData);
        const savedDate = parsed.flightDate ? new Date(parsed.flightDate) : null;
        
        if (savedDate) {
            const savedDateKey = savedDate.toISOString().split('T')[0];
            const newDateKey = flightDate.toISOString().split('T')[0];
            
            if (savedDateKey !== newDateKey) {
                console.log('ðŸ“… Date changed from', savedDateKey, 'to', newDateKey);
                console.log('ðŸ§¹ Clearing old data for fresh start');
                
                // Clear localStorage completely for fresh start
                localStorage.removeItem(SAVED_DATA_KEY);
                localStorage.removeItem(SYNC_KEY);
                localStorage.removeItem('last_local_update');
                
                // Reset deleted flights and comments for new date
                deletedFlights = [];
                comments = [];
            }
        }
    } catch (e) {
        console.error('Error checking saved date:', e);
    }
}
            
            const columnV = row[21] ? row[21].trim() : '';
            const delayedInfo = columnV ? extractDateAndTime(columnV) : null;
            
            let actualDepartureTime = departureInfo.time;
            let isDelayed = false;
            
            if (delayedInfo) {
                const diffMinutes = calculateTimeDifference(departureInfo.time, delayedInfo.time);
                if (diffMinutes > 45) {
                    actualDepartureTime = delayedInfo.time;
                    isDelayed = true;
                }
            }
            
            const inboundFlight = row[0] ? row[0].trim() : '';
            const isTurnaround = inboundFlight !== '';
            
    // Generate truly unique ID using timestamp + random component
const uniqueId = Date.now() + Math.floor(Math.random() * 10000) + i;

flights.push({
    id: uniqueId,
    flightNumber,
    destination,
    departureTime: actualDepartureTime,
    originalDepartureTime: departureInfo.time,
    isDelayed,
    isTurnaround,
    inboundFlight,
    manualStatus: null,
    cancelReason: null,
    extensionStartTime: null,
    extensionDuration: null,
    isAdhoc: false  // Mark as CSV flight (not manually added)
});
        }
        
      
        

document.getElementById('save-html-btn').style.display = 'block';
document.getElementById('add-flight-btn').style.display = 'block';
document.getElementById('search-container').style.display = 'block';
document.getElementById('reset-btn').style.display = 'block';
document.getElementById('early-open-btn').style.display = 'block';
document.getElementById('add-comment-main-btn').style.display = 'block';
document.getElementById('refresh-all-btn').style.display = 'block';
document.getElementById('clear-data-btn').style.display = 'block';

        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const csvDateOnly = new Date(flightDate);
        csvDateOnly.setHours(0, 0, 0, 0);
        // âœ… CRITICAL: Remove any flights not in the CSV
console.log('ðŸ” Validating flights against CSV data...');

// Get all flight numbers from the CSV we just loaded
const csvFlightNumbers = new Set(flights.map(f => f.flightNumber.toUpperCase()));

// Check if there are any stored flights that aren't in this CSV
const storedFlights = localStorage.getItem(SYNC_KEY);
if (storedFlights) {
    try {
        const parsed = JSON.parse(storedFlights);
        if (parsed.flights) {
            const orphanedFlights = parsed.flights.filter(f => 
                !csvFlightNumbers.has(f.flightNumber.toUpperCase()) && 
                !f.isAdhoc  // Keep manually added flights
            );
            
            if (orphanedFlights.length > 0) {
                console.log('âš ï¸ Found', orphanedFlights.length, 'orphaned flights from old data:');
                orphanedFlights.forEach(f => {
                    console.log('  - Removing:', f.flightNumber, f.manualStatus || 'no status');
                });
            }
        }
    } catch (e) {
        console.error('Error checking stored flights:', e);
    }
}

// Ensure ONLY CSV flights + manually added flights exist
flights = flights.filter(f => 
    csvFlightNumbers.has(f.flightNumber.toUpperCase()) || f.isAdhoc
);

console.log('âœ… Flight validation complete. Total flights:', flights.length);
        initializeFirebaseRef();
        
        // Apply date-based status ONLY on initial CSV load
        if (csvDateOnly < today) {
            console.log('ðŸ“… CSV date is in the past - setting all flights to closed');
            flights.forEach(flight => {
                if (!flight.manualStatus && !flight.isAdhoc) {
                    flight.manualStatus = 'closed';
                }
            });
        } else if (csvDateOnly > today) {
            console.log('ðŸ“… CSV date is in the future - setting all flights to not-open');
            flights.forEach(flight => {
                if (!flight.manualStatus && !flight.isAdhoc) {
                    flight.manualStatus = 'not-open';
                }
            });
        }
        
        if (!compareDates(csvDateOnly, today)) {
            showDateMismatchModal(flightDate, today);
        } else {
            dateValidationDismissed = true;
            updateDateValidationBadge();
            updateDisplay();
            startUpdateIntervals();
        }
        
        (async function() {
            await syncData();
            setupFirebaseListener();
        })();
    }

    function calculateTimeDifference(time1, time2) {
        const [h1, m1] = time1.split(':').map(Number);
        const [h2, m2] = time2.split(':').map(Number);
        
        const minutes1 = h1 * 60 + m1;
        const minutes2 = h2 * 60 + m2;
        
        return Math.abs(minutes2 - minutes1);
    }

    function calculateTimeRemaining(flight) {
    if (flight.manualStatus === 'cancelled') {
    // Calculate the original close time so departure time is still visible
    const today = new Date();
    let timeForCheckIn;
    if (flight.isDelayed) {
        timeForCheckIn = flight.departureTime;
    } else if (flight.originalDepartureTime) {
        timeForCheckIn = flight.originalDepartureTime;
    } else {
        timeForCheckIn = flight.departureTime;
    }
    
    const [hours, minutes] = timeForCheckIn.split(':').map(Number);
    const departure = new Date(today.getFullYear(), today.getMonth(), today.getDate(), hours, minutes);
    const checkinClose = new Date(departure.getTime() - 40 * 60000);
    
    return {
        status: 'cancelled',
        display: 'CANCELLED',
        closeTime: checkinClose, // Keep this so departure time displays
        totalMinutes: -1,
        percentage: 0
    };
}

        // Handle extended status
        // Handle extended status - MUST come before other checks
// Handle extended status - MUST come before other checks
if (flight.manualStatus === 'extended') {
    const today = new Date();
    
    // Get the correct time to use for calculations
    let timeForCheckIn;
    if (flight.isDelayed) {
        timeForCheckIn = flight.departureTime;
    } else if (flight.originalDepartureTime) {
        timeForCheckIn = flight.originalDepartureTime;
    } else {
        timeForCheckIn = flight.departureTime;
    }
    
    const [hours, minutes] = timeForCheckIn.split(':').map(Number);
    const departure = new Date(today.getFullYear(), today.getMonth(), today.getDate(), hours, minutes);
    const originalCheckinClose = new Date(departure.getTime() - 40 * 60000);
    
    // CRITICAL: Initialize extension start time if not set
    // CRITICAL: Initialize extension start time if not set
    if (!flight.extensionStartTime) {
        flight.extensionStartTime = originalCheckinClose.getTime();
        console.log('ðŸ”µ Extension start time initialized for', flight.flightNumber);
        
        // IMPORTANT: Sync immediately but DON'T use debounced
        // This was causing the freeze - debounce was delaying the critical update
        setTimeout(() => {
            syncData();
        }, 0);
    }
    
const extensionStarted = new Date(flight.extensionStartTime);

    // CRITICAL: Always use fresh current time, not the global one
    const now = new Date();
    const diffToClose = originalCheckinClose - now;
    const timeSinceExtension = now - extensionStarted;
    
    // If check-in hasn't closed yet, show normal countdown
    if (diffToClose > 0) {
        const totalMinutes = Math.floor(diffToClose / 60000);
        const m = totalMinutes;
        const s = Math.floor((diffToClose % 60000) / 1000);
        
        let displayTime = `${m}:${s.toString().padStart(2, '0')}`;
        
        // Determine sub-status but keep in extended section
        let subStatus = 'extended';
        if (totalMinutes <= 5) {
            subStatus = 'extended-critical';
        } else if (totalMinutes <= 15) {
            subStatus = 'extended-urgent';
        } else if (totalMinutes <= 30) {
            subStatus = 'extended-closing';
        }
        
        const percentage = Math.min((totalMinutes / 30) * 100, 100);
        
        return {
            status: subStatus,
            display: displayTime,
            closeTime: originalCheckinClose,
            totalMinutes,
            percentage,
            extensionMinutes: 0,
            isWaitingForExtension: true
        };
    }
    
    // Check-in has closed, now show extension countdown
    const extensionMinutes = Math.floor(timeSinceExtension / 60000);
    const extensionSeconds = Math.floor((timeSinceExtension % 60000) / 1000);
    
    // Auto-close after 1 hour of extension
    if (extensionMinutes >= 60) {
        flight.extensionDuration = 60;
        flight.manualStatus = 'closed';
        console.log('â±ï¸ Auto-closing', flight.flightNumber, 'after 60 minutes of extension');
        debouncedSync();
        return {
            status: 'closed',
            display: 'CLOSED',
            closeTime: originalCheckinClose,
            totalMinutes: -1,
            percentage: 0
        };
    }
    
    // Return extension info with proper formatting
    // Debug logging for extension
    if (extensionMinutes % 10 === 0 && extensionSeconds === 0) { // Log every 10 minutes on the minute
        console.log('ðŸ”µ Extension timer:', flight.flightNumber, '+' + extensionMinutes + ' minutes');
    }

    // Return extension info with proper formatting
    return {
        status: 'extended',
        display: `+${extensionMinutes}:${extensionSeconds.toString().padStart(2, '0')}`,
        closeTime: originalCheckinClose,
        totalMinutes: -extensionMinutes,
        percentage: 100,
        extensionMinutes: extensionMinutes,
        isWaitingForExtension: false
    };
}

        const today = new Date();

        let timeForCheckIn;
        if (flight.isDelayed) {
            timeForCheckIn = flight.departureTime;
        } else if (flight.originalDepartureTime) {
            timeForCheckIn = flight.originalDepartureTime;
        } else {
            timeForCheckIn = flight.departureTime;
        }

        const [hours, minutes] = timeForCheckIn.split(':').map(Number);
        const departure = new Date(today.getFullYear(), today.getMonth(), today.getDate(), hours, minutes);

        const checkinClose = new Date(departure.getTime() - 40 * 60000);
        const diffToClose = checkinClose - currentTime;
        const diffToDeparture = departure - currentTime;
        
        if (diffToClose < 0 && !flight.manualStatus) {
            return { 
                status: 'closed', 
                display: 'CLOSED', 
                closeTime: checkinClose, 
                totalMinutes: -1,
                percentage: 0
            };
        }
        
       const minutesToDeparture = Math.floor(diffToDeparture / 60000);

let shouldOpenEarly = false;

if (earlyOpenMode === 'flight' && earlyOpenFlightNumber) {
    const targetFlight = flights.find(f => f.flightNumber.toUpperCase() === earlyOpenFlightNumber.toUpperCase());
    if (targetFlight) {
        const [targetH, targetM] = targetFlight.departureTime.split(':').map(Number);
        const [currentH, currentM] = (flight.isDelayed ? flight.departureTime : flight.originalDepartureTime || flight.departureTime).split(':').map(Number);
        
        const targetMinutes = targetH * 60 + targetM;
        const currentMinutes = currentH * 60 + currentM;
        
        if (currentMinutes <= targetMinutes) {
            shouldOpenEarly = true;
        }
    }
} else if (earlyOpenMode === 'hours') {
    const earlyOpenMinutes = earlyOpenHours * 60;
    if (minutesToDeparture <= earlyOpenMinutes) {
        shouldOpenEarly = true;
    }
}

const openThreshold = shouldOpenEarly ? (earlyOpenMode === 'hours' ? earlyOpenHours * 60 : 999999) : 180;

if (minutesToDeparture > openThreshold && !flight.manualStatus) {
    return {
        status: 'not-open',
        display: 'NOT OPEN',
        closeTime: checkinClose,
        totalMinutes: Math.floor(diffToClose / 60000),
        percentage: 0
    };
}
        const totalMinutes = Math.floor(diffToClose / 60000);
        
  if (flight.manualStatus === 'urgent' || flight.manualStatus === 'closing' || totalMinutes <= 30) {
    const m = totalMinutes;
    const s = Math.floor((diffToClose % 60000) / 1000);
    
    let status = 'open';
    if (flight.manualStatus) {
        status = flight.manualStatus;
    } else {
        status = totalMinutes <= 5 ? 'critical' : (totalMinutes <= 15 ? 'urgent' : 'closing');
    }
    
    let displayTime = `${m}:${s.toString().padStart(2, '0')}`;
            
            if (totalMinutes <= 15 || flight.manualStatus === 'urgent' || flight.manualStatus === 'closing') {
                displayTime = `${m}:${s.toString().padStart(2, '0')}`;
            }
            
            const percentage = Math.min((totalMinutes / 30) * 100, 100);
            
            return {
                status,
                display: displayTime,
                closeTime: checkinClose,
                totalMinutes,
                percentage
            };
        }
        
        return {
            status: 'open',
            display: 'OPEN',
            closeTime: checkinClose,
            totalMinutes,
            percentage: 100
        };
    }

 function makeEditable(element, flight, field, listeners) {
    element.classList.add('editable');
    
    const clickHandler = function(e) {
        e.stopPropagation();
        
        // Prevent editing if already editing somewhere else
        if (isEditingField) {
            return;
        }
        
        isEditingField = true;
        element.contentEditable = true;
        element.focus();
        
        const range = document.createRange();
        range.selectNodeContents(element);
        const selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        
        console.log('âœï¸ Started editing', field, 'for flight', flight.flightNumber);
    };
    
    const blurHandler = function() {
        const newValue = element.textContent.trim();
        const oldValue = flight[field];
        
        console.log('ðŸ’¾ Saving edit:', field, 'from', oldValue, 'to', newValue);
        
        if (newValue && newValue !== oldValue) {
            if (field === 'departureTime') {
                const timeRegex = /^([0-1]?[0-9]|2[0-3]):([0-5][0-9])$/;
                if (!timeRegex.test(newValue)) {
                    alert('Invalid time format. Please use HH:MM (e.g., 09:30)');
                    element.textContent = oldValue;
                    element.contentEditable = false;
                    isEditingField = false;
                    return;
                }
                
                if (!flight.originalDepartureTime) {
                    flight.originalDepartureTime = flight.departureTime;
                }
                
                const diffMinutes = calculateTimeDifference(flight.originalDepartureTime, newValue);
                
                if (diffMinutes > 45) {
                    flight.departureTime = newValue;
                    flight.isDelayed = true;
                    console.log('â° Flight marked as delayed');
                } else {
                    flight.departureTime = newValue;
                    flight.isDelayed = false;
                    flight.originalDepartureTime = newValue;
                    console.log('â° Flight time updated (not delayed)');
                }
                
                // CRITICAL: If flight is extended, update extension start time
                if (flight.manualStatus === 'extended') {
                    const today = new Date();
                    const [hours, minutes] = newValue.split(':').map(Number);
                    const departure = new Date(today.getFullYear(), today.getMonth(), today.getDate(), hours, minutes);
                    const checkinClose = new Date(departure.getTime() - 40 * 60000);
                    flight.extensionStartTime = checkinClose.getTime();
                    console.log('ðŸ”µ Updated extension start time due to departure change');
                }
            } else {
                flight[field] = newValue;
                console.log('âœ… Updated', field, 'to', newValue);
            }
            
            // Sync and update immediately
            debouncedSync();
            
            // Force immediate display update
            setTimeout(() => {
                updateDisplay();
            }, 100);
        } else {
            // Restore original value if no change
            element.textContent = oldValue;
        }
        
        element.contentEditable = false;
        isEditingField = false;
        console.log('âœ… Finished editing', field);
    };
    
    const keydownHandler = function(e) {
        if (e.key === 'Enter') {
            e.preventDefault();
            element.blur();
        }
        if (e.key === 'Escape') {
            element.textContent = flight[field];
            element.blur();
        }
    };
    
    element.addEventListener('click', clickHandler);
    element.addEventListener('blur', blurHandler);
    element.addEventListener('keydown', keydownHandler);
    
    // Track all listeners if array provided
    if (listeners) {
        listeners.push({ element, event: 'click', handler: clickHandler });
        listeners.push({ element, event: 'blur', handler: blurHandler });
        listeners.push({ element, event: 'keydown', handler: keydownHandler });
    }
}

    function closeAllDropdowns() {
        if (activeDropdown) {
            activeDropdown.style.display = 'none';
            activeDropdown = null;
            
            const criticalCards = document.querySelectorAll('.flight-card.critical');
            criticalCards.forEach(c => c.classList.add('pulsing'));
        }
        const overlay = document.querySelector('.overlay');
        if (overlay) overlay.remove();
    }

    function deleteFlight(flightId) {
        const flight = flights.find(f => f.id === flightId);
        if (!flight) return;
        
        if (confirm(`Are you sure you want to delete flight ${flight.flightNumber} to ${flight.destination}?`)) {
            deletedFlights.push({
                ...flight,
                deletedAt: new Date()
            });
            
            flights = flights.filter(f => f.id !== flightId);
    
      // ADD THIS - Clear cache for deleted flight
    debouncedSync();
    updateDisplay();
    renderDeletedFlights();
        }
    }

    function showRestoreModal(deletedFlight) {
        closeAllDropdowns();
        
        const overlay = document.createElement('div');
        overlay.className = 'overlay';
        
        const modal = document.createElement('div');
        modal.className = 'restore-modal';
        
        modal.innerHTML = `
            <div class="restore-modal-title">Restore Flight ${deletedFlight.flightNumber}</div>
            <div style="margin-bottom: 1rem; text-align: center; color: #6b7280;">Select status to restore with:</div>
            <div class="restore-option" onclick="restoreFlight(${deletedFlight.id}, null)">âœ… Automatic (Based on Time)</div>
            <div class="restore-option" onclick="restoreFlight(${deletedFlight.id}, 'open')">âœ… Check-in Open</div>
            <div class="restore-option" onclick="restoreFlight(${deletedFlight.id}, 'closing')">â±ï¸ Closing Soon</div>
            <div class="restore-option" onclick="restoreFlight(${deletedFlight.id}, 'urgent')">âš ï¸ Urgent Closing</div>
            <div class="restore-option" onclick="restoreFlight(${deletedFlight.id}, 'closed')">âŒ Closed</div>
            <div class="restore-option" onclick="restoreFlight(${deletedFlight.id}, 'cancelled')">ðŸš« Cancelled</div>
        `;
        
        overlay.onclick = function() {
            modal.remove();
            overlay.remove();
        };
        
        document.body.appendChild(overlay);
        document.body.appendChild(modal);
    }

    async function restoreFlight(flightId, status) {
    const deletedFlight = deletedFlights.find(f => f.id === flightId);
    if (!deletedFlight) return;
    
    const { deletedAt, ...restoredFlight } = deletedFlight;
    
    // CRITICAL: Completely reset flight state
    restoredFlight.manualStatus = status;
    restoredFlight.extensionStartTime = null;
    restoredFlight.extensionDuration = null;
    
    // If restoring to extended, set it up properly
    if (status === 'extended') {
        const today = new Date();
        const [hours, minutes] = (restoredFlight.isDelayed ? restoredFlight.departureTime : restoredFlight.originalDepartureTime || restoredFlight.departureTime).split(':').map(Number);
        const departure = new Date(today.getFullYear(), today.getMonth(), today.getDate(), hours, minutes);
        const checkinClose = new Date(departure.getTime() - 40 * 60000);
        restoredFlight.extensionStartTime = checkinClose.getTime();
    }
        
        if (status === 'cancelled') {
            const overlay = document.querySelector('.overlay');
            const modal = document.querySelector('.restore-modal');
            if (overlay) overlay.remove();
            if (modal) modal.remove();
            
flights.push(restoredFlight);
            deletedFlights = deletedFlights.filter(f => f.id !== flightId);
            
              // ADD THIS - Clear cache for restored flight
            setTimeout(() => showCancelReasonDropdown(restoredFlight), 100);
} else {
    flights.push(restoredFlight);
    deletedFlights = deletedFlights.filter(f => f.id !== flightId);
    
    const overlay = document.querySelector('.overlay');
    const modal = document.querySelector('.restore-modal');
    if (overlay) overlay.remove();
    if (modal) modal.remove();
}

// CRITICAL: Clear cache and force sync
renderedFlightCache.clear();
await syncData();

// Broadcast to other devices
broadcastRefreshSignal();

// Wait for sync to complete
await new Promise(resolve => setTimeout(resolve, 500));

updateDisplay();
renderDeletedFlights();

console.log('âœ… Flight restored and synced:', restoredFlight.flightNumber);
    }

    function permanentlyDeleteFlight(flightId) {
        const deletedFlight = deletedFlights.find(f => f.id === flightId);
        if (!deletedFlight) return;
        
        if (confirm(`Permanently delete flight ${deletedFlight.flightNumber}? This cannot be undone!`)) {
            deletedFlights = deletedFlights.filter(f => f.id !== flightId);
            debouncedSync();
            renderDeletedFlights();
        }
    }

    function clearAllDeletedFlights() {
        if (deletedFlights.length === 0) return;
        
        if (confirm(`Permanently delete all ${deletedFlights.length} deleted flights? This cannot be undone!`)) {
            deletedFlights = [];
            debouncedSync();
            renderDeletedFlights();
        }
    }

    function renderDeletedFlights() {
        const section = document.getElementById('deleted-flights-section');
        const container = document.getElementById('deleted-flights-container');
        const countBadge = document.getElementById('deleted-count');
        
        if (deletedFlights.length === 0) {
            section.style.display = 'none';
            return;
        }
        
        section.style.display = 'block';
        countBadge.textContent = deletedFlights.length;
        container.innerHTML = '';
        
        const sorted = [...deletedFlights].sort((a, b) => b.deletedAt - a.deletedAt);
        
        sorted.forEach(flight => {
            const card = document.createElement('div');
            card.className = 'deleted-flight-card';
            
            const deletedTime = new Date(flight.deletedAt).toLocaleString('en-AU', {
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                hour12: false
            });
            
            card.innerHTML = `
                <div class="deleted-flight-info">
                    <div class="deleted-flight-number">${flight.flightNumber}</div>
                    <div class="deleted-flight-details">to ${flight.destination} â€¢ Departure: ${flight.departureTime}</div>
                    <div class="deleted-flight-timestamp">Deleted: ${deletedTime}</div>
                </div>
                <button class="restore-btn" onclick="showRestoreModal(deletedFlights.find(f => f.id === ${flight.id}))">
                    â†©ï¸ Restore
                </button>
                <button class="permanent-delete-btn" onclick="permanentlyDeleteFlight(${flight.id})">
                    ðŸ—‘ï¸ Delete Forever
                </button>
            `;
            
            container.appendChild(card);
        });
    }

function showCancelReasonDropdown(flight) {
    closeAllDropdowns();

    const overlay = document.createElement('div');
    overlay.className = 'overlay';
    
    const dropdown = document.createElement('div');
    dropdown.className = 'cancel-reason-dropdown';
    
    const title = document.createElement('div');
    title.textContent = 'Select Cancellation Reason:';
    title.style.fontWeight = 'bold';
    title.style.marginBottom = '1rem';
    title.style.fontSize = '1.1rem';
    title.style.color = '#000345';
    dropdown.appendChild(title);
    
    const reasons = [
        'Engineering',
        'Crewing',
        'Operational Requirements',
        'Weather',
        'ATC Staff Shortage',
        'Aircraft Damage',
        'Other'
    ];
    
    reasons.forEach(reason => {
        const option = document.createElement('div');
        option.className = 'cancel-reason-option';
        option.textContent = reason;
        
        option.onclick = async function(e) {
            e.stopPropagation();
            if (reason === 'Other') {
                const inputDiv = document.createElement('div');
                inputDiv.style.marginTop = '1rem';
                inputDiv.innerHTML = '<div style="font-weight:bold;margin-bottom:0.5rem;color:#000345;">Enter custom reason:</div>';
                
                const input = document.createElement('input');
                input.type = 'text';
                input.className = 'custom-reason-input';
                input.placeholder = 'Type reason and press Enter...';
                input.onkeydown = async function(e) {
                    if (e.key === 'Enter') {
                        flight.cancelReason = input.value || 'Other';
                        dropdown.remove();
                        overlay.remove();
                        
                        // CRITICAL FIX: Clear cache and sync
                        renderedFlightCache.clear();
                        await syncData();
                        broadcastRefreshSignal();
                        updateDisplay();
                    }
                };
                inputDiv.appendChild(input);
                dropdown.appendChild(inputDiv);
                input.focus();
            } else {
                flight.cancelReason = reason;
                dropdown.remove();
                overlay.remove();
                
                // CRITICAL FIX: Clear cache and sync immediately
                renderedFlightCache.clear();
                await syncData();
                broadcastRefreshSignal();
                updateDisplay();
            }
        };
        dropdown.appendChild(option);
    });
    
    overlay.onclick = function() {
        dropdown.remove();
        overlay.remove();
    };
    
    document.body.appendChild(overlay);
    document.body.appendChild(dropdown);
}
    // Store event listeners so we can clean them up
// Store event listeners so we can clean them up
const flightCardListeners = new WeakMap();

function cleanupFlightCard(card) {
    const listeners = flightCardListeners.get(card);
    if (listeners) {
        listeners.forEach(({ element, event, handler }) => {
            element.removeEventListener(event, handler);
        });
        flightCardListeners.delete(card);
    }
}
 function renderFlight(flight) {
    const timeInfo = calculateTimeRemaining(flight);
    const card = document.createElement('div');
    
    const listeners = [];
    
    let effectiveStatus = flight.manualStatus || timeInfo.status;

    let sectionClass = '';
    if (effectiveStatus === 'critical' || effectiveStatus === 'urgent' || effectiveStatus === 'closing') {
        sectionClass = 'urgent-section-card';
    } else if (effectiveStatus === 'open') {
        sectionClass = 'active-section-card';
    } else if (effectiveStatus === 'not-open') {
        sectionClass = 'notopen-section-card';
    } else if (effectiveStatus === 'closed') {
        sectionClass = 'closed-section-card';
    } else if (effectiveStatus === 'cancelled') {
        sectionClass = 'cancelled-section-card';
    } else if (effectiveStatus === 'extended' || effectiveStatus.startsWith('extended-')) {
        sectionClass = 'active-section-card'; // Use active styling for extended
    }

    card.className = `flight-card ${effectiveStatus} ${sectionClass}`;
    
    let statusText = 'CHECK-IN OPEN';
    let statusClass = 'status-open';
    let centerContent = '';
    
    if (effectiveStatus === 'cancelled') {
        statusText = 'ðŸš« CANCELLED';
        statusClass = 'status-cancelled';
        centerContent = `
            <div class="timer-label">CANCELLATION REASON</div>
            <div class="cancel-reason-display">${flight.cancelReason || 'Not specified'}</div>
        `;
    } else if (effectiveStatus === 'critical') {
        statusText = 'ðŸš¨ CRITICAL!';
        statusClass = 'status-urgent';
        centerContent = `
            <div class="timer-label">CHECK-IN CLOSES IN</div>
            <div class="timer" data-flight-id="${flight.id}">${timeInfo.display}</div>
            <div class="progress-bar">
                <div class="progress-fill urgent" data-flight-id="${flight.id}" style="width: ${timeInfo.percentage}%"></div>
            </div>
        `;
        // Add pulsing for critical
        if (!activeDropdown) {
            setTimeout(() => {
                if (card.parentElement) card.classList.add('pulsing');
            }, 10);
        }
    } else if (effectiveStatus === 'urgent') {
        statusText = 'âš ï¸ URGENT CLOSING!';
        statusClass = 'status-urgent';
        centerContent = `
            <div class="timer-label">CHECK-IN CLOSES IN</div>
            <div class="timer" data-flight-id="${flight.id}">${timeInfo.display}</div>
            <div class="progress-bar">
                <div class="progress-fill urgent" data-flight-id="${flight.id}" style="width: ${timeInfo.percentage}%"></div>
            </div>
        `;
    } else if (effectiveStatus === 'closing') {
        statusText = 'â±ï¸ CLOSING SOON';
        statusClass = 'status-closing';
        centerContent = `
            <div class="timer-label">CHECK-IN CLOSES IN</div>
            <div class="timer" data-flight-id="${flight.id}">${timeInfo.display}</div>
            <div class="progress-bar">
                <div class="progress-fill closing" data-flight-id="${flight.id}" style="width: ${timeInfo.percentage}%"></div>
            </div>
        `;
    } else if (effectiveStatus === 'open') {
        statusText = 'âœ… CHECK-IN OPEN';
        statusClass = 'status-open';
        centerContent = `
            <div class="timer" style="font-size: 2rem;">OPEN</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
        `;
    } else if (effectiveStatus === 'not-open') {
        statusText = 'â³ 3 HOURS FROM DEPARTURE';
        statusClass = 'status-not-open';
        centerContent = `
            <div class="timer" style="font-size: 1.5rem;">NOT OPEN</div>
        `;
    } else if (effectiveStatus === 'extended' || effectiveStatus.startsWith('extended-')) {
        statusText = 'ðŸ”µ CHECK-IN EXTENDED';
        statusClass = 'status-extended';
        
        const extensionInfo = '';
        const stopButton = !flight.extensionDuration && !timeInfo.isWaitingForExtension ? 
            `<button class="stop-extension-btn" onclick="stopExtension(${flight.id})" title="Stop Extension">â¹ï¸</button>` : '';
        
        let progressClass = '';
        if (effectiveStatus === 'extended-critical') {
            progressClass = 'urgent';
        } else if (effectiveStatus === 'extended-urgent') {
            progressClass = 'urgent';
        } else if (effectiveStatus === 'extended-closing') {
            progressClass = 'closing';
        }
        
        centerContent = `
            <div class="timer-label">CHECK-IN EXTENDED ${extensionInfo}</div>
            <div class="timer" data-flight-id="${flight.id}">${timeInfo.display}</div>
            <div class="progress-bar">
                <div class="progress-fill ${progressClass}" data-flight-id="${flight.id}" style="width: ${timeInfo.percentage}%; background: linear-gradient(90deg, #3b82f6, #60a5fa);"></div>
            </div>
            ${stopButton}
        `;
    } else if (effectiveStatus === 'closed') {
        statusText = 'âŒ CLOSED';
        statusClass = 'status-closed';
        
       const extensionInfo = '';
        
        centerContent = `
            <div class="timer" style="font-size: 2rem;">CLOSED ${extensionInfo}</div>
        `;
    }
    
    const turnaroundIcon = flight.isTurnaround ? 
        `<span class="turnaround-icon" style="font-size: 2.4rem; letter-spacing: 0.5rem;">ðŸ›¬ðŸ›«</span>` : '';

    const delayedInfo = flight.isDelayed ? 
        `<div style="font-size: 0.75rem; color: #f59e0b;">âš ï¸ Delayed from ${flight.originalDepartureTime}</div>` : '';

   const closeTimeDisplay = timeInfo.closeTime ? 
    timeInfo.closeTime.toLocaleTimeString('en-AU', { hour: '2-digit', minute: '2-digit', hour12: false }) : 
    '--:--';

card.innerHTML = `
    <!-- TOP ROW: Three bubbles -->
    <div class="section-left">
        <div class="flight-number-glass">
            <span class="editable-flight-num">${flight.flightNumber}</span>
        </div>
    </div>
    
    <div class="section-center">
        <div class="destination-glass">
            <span class="dest-display">${flight.destination}</span>
        </div>
    </div>
    
    <div class="section-right-top">
        <div class="close-time-glass">
            <span class="close-time-label">Closes:</span>
            <span class="close-time-value">${closeTimeDisplay}</span>
        </div>
    </div>
    
    <!-- MIDDLE ROW: Timer and flight info -->
    <div class="section-timer">
        ${turnaroundIcon ? `<div style="font-size: rem; margin-bottom: 1.5rem;">${turnaroundIcon}</div>` : ''}
        <div style="font-size: 1.5rem; color: #6b7280; margin-bottom: 0.5rem; font-weight: bold;">
    Departure: <span class="editable-dep" style="font-weight: bold; font-size: 1.3rem; color: #000345;">${flight.departureTime}</span>
</div>
        ${delayedInfo}
        <div class="timer-content-wrapper" style="margin-top: 0.5rem;">
            ${centerContent}
        </div>
    </div>
    
    <!-- BOTTOM ROW: Status badge and delete button -->
    <div class="section-bottom">
        <div class="status-badge-wrapper">
            <div class="status-badge ${statusClass}" data-flight-id="${flight.id}">${statusText}</div>
        </div>
        <button class="permanent-delete-btn" onclick="deleteFlight(${flight.id})">
            ðŸ—‘ï¸ Delete
        </button>
    </div>
`;
    
    const flightNumEl = card.querySelector('.editable-flight-num');
    const destEl = card.querySelector('.dest-display');
    const depEl = card.querySelector('.editable-dep');

    if (flightNumEl) makeEditable(flightNumEl, flight, 'flightNumber', listeners);
    if (destEl) makeEditable(destEl, flight, 'destination', listeners);
    if (depEl) makeEditable(depEl, flight, 'departureTime', listeners);
    
    const statusBadgeWrapper = card.querySelector('.status-badge-wrapper');
    const statusBadge = card.querySelector('.status-badge');
    const dropdown = document.createElement('div');
    dropdown.className = 'status-dropdown';
    dropdown.style.display = 'none';
    
    const statuses = [
        { value: 'auto', label: 'Automatic (Based on Time)' },
        { value: 'open', label: 'âœ… Check-in Open' },
        { value: 'closing', label: 'â±ï¸ Closing Soon' },
        { value: 'urgent', label: 'âš ï¸ Urgent Closing' },
        { value: 'extended', label: 'ðŸ”µ Extend Check-In' },
        { value: 'closed', label: 'âŒ Closed' },
        { value: 'cancelled', label: 'ðŸš« Cancelled' }
    ];
    
    statuses.forEach(status => {
        const option = document.createElement('div');
        option.className = 'status-option';
        option.textContent = status.label;
        
const optionClickHandler = async function(e) {
    e.stopPropagation();
    e.preventDefault();
    
    console.log('ðŸŽ¯ Status change requested:', status.value, 'for flight', flight.flightNumber);
    
    // CRITICAL: Close dropdown FIRST to prevent UI conflicts
    closeAllDropdowns();
    
    // Update the flight status
    if (status.value === 'auto') {
        flight.manualStatus = null;
        flight.cancelReason = null;
        flight.extensionStartTime = null;
        flight.extensionDuration = null;
    } else if (status.value === 'cancelled') {
        flight.manualStatus = 'cancelled';
        
        // CRITICAL FIX: Clear cache immediately
        renderedFlightCache.clear();
        
        // Update display FIRST (shows "CANCELLED" status immediately)
        console.log('ðŸ”„ Updating display for cancellation...');
        updateDisplay();
        
        // THEN sync to Firebase (async, doesn't block)
        console.log('ðŸ“¡ Syncing cancellation to Firebase...');
        await syncData();
        
        // Broadcast to other devices
        broadcastRefreshSignal();
        
        // NOW show cancel reason modal (after sync)
        setTimeout(() => {
            showCancelReasonDropdown(flight);
        }, 100);
        
        console.log('âœ… Cancellation synced - reason dialog opened');
        return; // Exit early since we opened the cancel reason dialog
        
    } else if (status.value === 'extended') {
        const today = new Date();
        const [hours, minutes] = (flight.isDelayed ? flight.departureTime : flight.originalDepartureTime || flight.departureTime).split(':').map(Number);
        const departure = new Date(today.getFullYear(), today.getMonth(), today.getDate(), hours, minutes);
        const checkinClose = new Date(departure.getTime() - 40 * 60000);
        
        flight.manualStatus = 'extended';
        flight.extensionStartTime = checkinClose.getTime();
        flight.cancelReason = null;
        flight.extensionDuration = null;
        
        console.log('ðŸ”µ Extension activated for flight', flight.flightNumber, 'at', new Date(checkinClose.getTime()).toLocaleTimeString());
    } else {
        flight.manualStatus = status.value;
        flight.cancelReason = null;
        flight.extensionStartTime = null;
        flight.extensionDuration = null;
    }
    
    // CRITICAL FIX: Clear cache BEFORE updating display
    console.log('ðŸ§¹ Clearing render cache...');
    renderedFlightCache.clear();
    
    // Update display FIRST (prevents frozen timers)
    console.log('ðŸ”„ Updating display immediately...');
    updateDisplay();
    console.log('âœ… Display updated on THIS device');
    
    // THEN sync to Firebase (async, doesn't block UI)
    console.log('ðŸ“¡ Syncing to Firebase...');
    await syncData();
    console.log('âœ… Synced to Firebase');
    
    // Broadcast to other devices AFTER sync completes
    broadcastRefreshSignal();
    console.log('ðŸ“¡ Broadcast sent to other devices');
    
    console.log('âœ… Status change complete for flight', flight.flightNumber);
};
        
        // Use touchstart for better mobile support
        option.addEventListener('touchstart', optionClickHandler);
        option.addEventListener('click', optionClickHandler);
        listeners.push({ element: option, event: 'touchstart', handler: optionClickHandler });
        listeners.push({ element: option, event: 'click', handler: optionClickHandler });
        
        dropdown.appendChild(option);
    });
    
    document.body.appendChild(dropdown);
    
const statusClickHandler = function(e) {
        e.stopPropagation();
        e.preventDefault();
        
        // Close any other open dropdowns first
        if (activeDropdown && activeDropdown !== dropdown) {
            closeAllDropdowns();
        }
        
        // If this dropdown is already open, close it
        if (dropdown.style.display === 'block') {
            closeAllDropdowns();
        } else {
            // Stop pulsing animation on critical cards while dropdown is open
            const criticalCards = document.querySelectorAll('.flight-card.critical');
            criticalCards.forEach(c => c.classList.remove('pulsing'));
            
            // Get button position and size
            const rect = statusBadge.getBoundingClientRect();
            
            // Show the dropdown
            dropdown.style.display = 'block';

            // ============================================
            // DEVICE DETECTION
            // ============================================
            const screenWidth = window.innerWidth;
            const isTablet = screenWidth >= 600 && screenWidth <= 1024;
            const isMobile = screenWidth < 600;
            const isDesktop = screenWidth > 1024;
            
            console.log('ðŸ“± Device type:', isTablet ? 'Tablet' : (isMobile ? 'Mobile' : 'Desktop'));
            console.log('ðŸ“ Screen width:', screenWidth);
            
            // ============================================
            // TABLET & MOBILE POSITIONING (600px - 1024px)
            // ============================================
            if (isTablet || isMobile) {
                console.log('âœ… Using tablet/mobile positioning');
                
                // Set dropdown width
                const dropdownWidth = 250; // Fixed width for consistency
                dropdown.style.width = `${dropdownWidth}px`;
                
                // Calculate center of the button
                const buttonCenterX = rect.left + (rect.width / 2);
                
                // Calculate where dropdown should start (centered on button)
                const dropdownLeft = buttonCenterX - (dropdownWidth / 2);
                
                // Prevent dropdown from going off left edge
                const minLeft = 10; // 10px margin from left edge
                
                // Prevent dropdown from going off right edge
                const maxLeft = screenWidth - dropdownWidth - 10; // 10px margin from right edge
                
                // Apply constraints
                const finalLeft = Math.max(minLeft, Math.min(dropdownLeft, maxLeft));
                
                // Set horizontal position
                dropdown.style.left = `${finalLeft}px`;
                dropdown.style.right = 'auto'; // Clear any right positioning
                
                // ============================================
                // VERTICAL POSITIONING (Always above button)
                // ============================================
                
                // Calculate space above button
                const spaceAbove = rect.top;
                
                // Position dropdown above button (with 8px gap)
                dropdown.style.bottom = `${window.innerHeight - rect.top + 8}px`;
                dropdown.style.top = 'auto'; // Clear any top positioning
                
                // Add visual indicator that dropdown is centered on button
                dropdown.style.transformOrigin = 'bottom center';
                
                console.log('ðŸ“ Dropdown positioned:', {
                    left: finalLeft,
                    bottom: window.innerHeight - rect.top + 8,
                    width: dropdownWidth,
                    buttonCenter: buttonCenterX,
                    spaceAbove: spaceAbove
                });
                
            } 
            // ============================================
            // DESKTOP POSITIONING (> 1024px)
            // ============================================
            else if (isDesktop) {
                console.log('âœ… Using desktop positioning');
                
                const dropdownHeight = 300;
                const spaceBelow = window.innerHeight - rect.bottom;
                const spaceAbove = rect.top;

                // Decide if dropdown should go above or below button
                if (spaceBelow < dropdownHeight && spaceAbove > spaceBelow) {
                    // Not enough space below, and more space above - put it above
                    dropdown.style.bottom = `${window.innerHeight - rect.top + 8}px`;
                    dropdown.style.top = 'auto';
                } else {
                    // Default: Put it below
                    dropdown.style.top = `${rect.bottom + 8}px`;
                    dropdown.style.bottom = 'auto';
                }

                // Position to the right of the button (desktop has more space)
                dropdown.style.right = `${window.innerWidth - rect.right}px`;
                dropdown.style.left = 'auto';
                dropdown.style.width = 'auto'; // Let it size naturally
            }
            
            // Mark this as the active dropdown
            activeDropdown = dropdown;
        }
    };
    
    // Use both touchstart and click for compatibility
    statusBadge.addEventListener('touchstart', statusClickHandler);
    statusBadge.addEventListener('click', statusClickHandler);
    listeners.push({ element: statusBadge, event: 'touchstart', handler: statusClickHandler });
    listeners.push({ element: statusBadge, event: 'click', handler: statusClickHandler });
    
    flightCardListeners.set(card, listeners);
    
    return card;
}
// Cache for rendered flights to avoid unnecessary re-renders
let renderedFlightCache = new Map();

function shouldUpdateFlight(flight) {
    const cached = renderedFlightCache.get(flight.id);
    if (!cached) return true;
    
    // Check if any relevant data changed
    return cached.flightNumber !== flight.flightNumber ||
           cached.destination !== flight.destination ||
           cached.departureTime !== flight.departureTime ||
           cached.manualStatus !== flight.manualStatus ||
           cached.cancelReason !== flight.cancelReason ||
           cached.extensionStartTime !== flight.extensionStartTime;
}

function updateFlightCache(flight) {
    renderedFlightCache.set(flight.id, {
        flightNumber: flight.flightNumber,
        destination: flight.destination,
        departureTime: flight.departureTime,
        manualStatus: flight.manualStatus,
        cancelReason: flight.cancelReason,
        extensionStartTime: flight.extensionStartTime
    });
}
    function updateDisplay() {
    if (!dateValidationDismissed) return;
    
    // CRITICAL: Don't modify flight statuses based on date here
    // Date logic should only run on initial CSV load
    console.log('ðŸ”„ Display update - preserving current statuses');
    
    // Close any open dropdowns to prevent conflicts
    closeAllDropdowns();
    
    // Remove pulsing from all cards before re-render
    document.querySelectorAll('.flight-card.pulsing').forEach(c => c.classList.remove('pulsing'));
    
    updateDateValidationBadge();
    
    const sorted = flights.sort((a, b) => {
        const timeA = calculateTimeRemaining(a).totalMinutes;
        const timeB = calculateTimeRemaining(b).totalMinutes;
        return timeA - timeB;
    });

    const cancelled = sorted.filter(f => {
        return f.manualStatus === 'cancelled';
    });

    const urgent = sorted.filter(f => {
        if (f.manualStatus === 'cancelled') return false;
        const time = calculateTimeRemaining(f);
        const effectiveStatus = f.manualStatus || time.status;
        if (f.manualStatus === 'extended') return false;
        return effectiveStatus === 'urgent' || effectiveStatus === 'closing' || effectiveStatus === 'critical';
    });

    const extended = sorted.filter(f => {
        if (f.manualStatus === 'cancelled') return false;
        const time = calculateTimeRemaining(f);
        const effectiveStatus = f.manualStatus || time.status;
        return f.manualStatus === 'extended' || effectiveStatus === 'extended' || effectiveStatus === 'extended-critical' || effectiveStatus === 'extended-urgent' || effectiveStatus === 'extended-closing';
    });

    const active = sorted.filter(f => {
        if (f.manualStatus === 'cancelled') return false;
        const time = calculateTimeRemaining(f);
        const effectiveStatus = f.manualStatus || time.status;
        if (f.manualStatus === 'extended') return false;
        return effectiveStatus === 'open';
    });

    const notOpen = sorted.filter(f => {
        if (f.manualStatus === 'cancelled') return false;
        const time = calculateTimeRemaining(f);
        const effectiveStatus = f.manualStatus || time.status;
        return effectiveStatus === 'not-open';
    });

    const closed = sorted.filter(f => {
        if (f.manualStatus === 'cancelled') return false;
        const time = calculateTimeRemaining(f);
        const effectiveStatus = f.manualStatus || time.status;
        return effectiveStatus === 'closed';
    });

    const urgentSection = document.getElementById('urgent-section');
    const urgentFlights = document.getElementById('urgent-flights');

    if (urgent.length > 0) {
        urgentSection.style.display = 'block';
        document.getElementById('urgent-count').textContent = urgent.length;
        
        const existingIds = Array.from(urgentFlights.querySelectorAll('.flight-card'))
            .map(card => parseInt(card.querySelector('.status-badge').getAttribute('data-flight-id')));
        const newIds = urgent.map(f => f.id);
        
        const needsUpdate = existingIds.length !== newIds.length || 
                            !existingIds.every((id, index) => id === newIds[index]) ||
                            urgent.some(f => shouldUpdateFlight(f));
        
        if (needsUpdate) {
            Array.from(urgentFlights.children).forEach(cleanupFlightCard);
            
            urgentFlights.innerHTML = '';
            urgent.forEach(flight => {
                const card = renderFlight(flight);
                urgentFlights.appendChild(card);
                updateFlightCache(flight);
            });
        }
    } else {
        urgentSection.style.display = 'none';
    }

    const activeContent = document.getElementById('active-flights');
    const closedContent = document.getElementById('closed-flights');
    const notOpenContent = document.getElementById('notopen-flights');
    const cancelledContent = document.getElementById('cancelled-flights');
    const extendedContent = document.getElementById('extended-flights');
    
    if (extendedContent && !extendedContent.classList.contains('user-interacted')) {
        extendedContent.classList.add('expanded');
        document.getElementById('extended-toggle').textContent = 'âˆ’';
    }

    if (activeContent && !activeContent.classList.contains('user-interacted')) {
        activeContent.classList.remove('expanded');
        document.getElementById('active-toggle').textContent = '+';
    }
    if (closedContent && !closedContent.classList.contains('user-interacted')) {
        closedContent.classList.remove('expanded');
        document.getElementById('closed-toggle').textContent = '+';
    }
    if (notOpenContent && !notOpenContent.classList.contains('user-interacted')) {
        notOpenContent.classList.remove('expanded');
        document.getElementById('notopen-toggle').textContent = '+';
    }
    if (cancelledContent && !cancelledContent.classList.contains('user-interacted')) {
        cancelledContent.classList.remove('expanded');
        document.getElementById('cancelled-toggle').textContent = '+';
    }

    const activeSection = document.getElementById('active-section');
    const activeFlights = document.getElementById('active-flights');

    const extendedSection = document.getElementById('extended-section');
    const extendedFlights = document.getElementById('extended-flights');

    if (extended.length > 0) {
        extendedSection.style.display = 'block';
        document.getElementById('extended-count').textContent = extended.length;
        
        Array.from(extendedFlights.children).forEach(cleanupFlightCard);
        
        extendedFlights.innerHTML = '';
        extended.forEach(flight => {
            const card = renderFlight(flight);
            extendedFlights.appendChild(card);
        });
    } else {
        extendedSection.style.display = 'none';
    }

    if (active.length > 0) {
        activeSection.style.display = 'block';
        document.getElementById('active-count').textContent = `${active.length}`;
        
        Array.from(activeFlights.children).forEach(cleanupFlightCard);
        
        activeFlights.innerHTML = '';
        active.forEach(flight => {
            const card = renderFlight(flight);
            activeFlights.appendChild(card);
        });
    } else {
        activeSection.style.display = 'none';
    }

    const closedSection = document.getElementById('closed-section');
    const closedFlights = document.getElementById('closed-flights');
    
    if (closed.length > 0) {
        closedSection.style.display = 'block';
        document.getElementById('closed-count').textContent = `${closed.length}`;
        
        Array.from(closedFlights.children).forEach(cleanupFlightCard);
        
        closedFlights.innerHTML = '';
        closed.forEach(flight => {
            const card = renderFlight(flight);
            closedFlights.appendChild(card);
        });
    } else {
        closedSection.style.display = 'none';
    }
    
    const notOpenSection = document.getElementById('not-open-section');
    const notOpenFlights = document.getElementById('notopen-flights');
    
    if (notOpen.length > 0) {
        notOpenSection.style.display = 'block';
        document.getElementById('notopen-count').textContent = `${notOpen.length}`;
        
        Array.from(notOpenFlights.children).forEach(cleanupFlightCard);
        
        notOpenFlights.innerHTML = '';
        notOpen.forEach(flight => {
            const card = renderFlight(flight);
            notOpenFlights.appendChild(card);
        });
    } else {
        notOpenSection.style.display = 'none';
    }

    const cancelledSection = document.getElementById('cancelled-section');
    const cancelledFlights = document.getElementById('cancelled-flights');
    
    if (cancelled.length > 0) {
        cancelledSection.style.display = 'block';
        document.getElementById('cancelled-count-header').textContent = `${cancelled.length}`;
        
        Array.from(cancelledFlights.children).forEach(cleanupFlightCard);
        
        cancelledFlights.innerHTML = '';
        cancelled.forEach(flight => {
            const card = renderFlight(flight);
            cancelledFlights.appendChild(card);
        });
    } else {
        cancelledSection.style.display = 'none';
    }

    document.getElementById('loading').style.display = 
        flights.length === 0 ? 'block' : 'none';
}
        
function searchFlights(query) {
    console.log('=== SEARCH DEBUG ===');
    console.log('Search query:', query);
    console.log('Total flights:', flights.length);
    
    if (!query || query.trim() === '') {
        return [];
    }
    
    const searchTerm = query.trim().toUpperCase();
    console.log('Search term (uppercase):', searchTerm);
    
    const results = flights.filter(flight => {
        const flightNum = flight.flightNumber.toUpperCase();
        const dest = flight.destination.toUpperCase();
        
        // Extract just the numbers from flight number (e.g., "JQ788" -> "788")
        const flightNumOnly = flightNum.replace(/[^0-9]/g, '');
        
        // Extract just the numbers from search term
        const searchNumOnly = searchTerm.replace(/[^0-9]/g, '');
        
        console.log('Checking flight:', flightNum, 'to', dest, '(numbers only:', flightNumOnly + ')');
        
        // Check multiple match types
        const directFlightMatch = flightNum.includes(searchTerm); // Exact match: "JQ788" includes "JQ788"
        const numberMatch = searchNumOnly && flightNumOnly.includes(searchNumOnly); // Number match: "788" in "788"
        const destMatch = dest.includes(searchTerm); // Destination match: "BNE" includes "BNE"
        const prefixMatch = searchTerm.replace(/^JQ/i, '') && flightNum === ('JQ' + searchTerm.replace(/^JQ/i, '')); // "788" -> "JQ788"
        
        // NEW: Partial flight number match (e.g., "78" matches "JQ788")
        const partialFlightMatch = searchNumOnly && flightNumOnly.startsWith(searchNumOnly);
        
        const matched = directFlightMatch || numberMatch || destMatch || prefixMatch || partialFlightMatch;
        
        if (matched) {
            console.log('âœ“ MATCH FOUND:', flightNum, '->', 
                'directMatch:', directFlightMatch, 
                'numberMatch:', numberMatch, 
                'destMatch:', destMatch, 
                'prefixMatch:', prefixMatch,
                'partialMatch:', partialFlightMatch);
        }
        
        return matched;
    });
    
    console.log('Total results found:', results.length);
    console.log('===================');
    
    return results;
}
        function highlightMatch(text, query) {
            if (!query) return text;
            const regex = new RegExp(`(${query})`, 'gi');
            return text.replace(regex, '<span class="search-highlight">$1</span>');
        }
        
       function showSearchResults(results, query) {
      // ADD THIS - Clear cache since search renders new cards
    
    closeAllDropdowns();
    
    if (searchResultsModal) {
        searchResultsModal.remove();
    }
            
            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            
            const modal = document.createElement('div');
            modal.className = 'search-results-modal';
            searchResultsModal = modal;
            
            const header = document.createElement('div');
            header.className = 'search-results-header';
            
            const title = document.createElement('div');
            title.className = 'search-results-title';
            title.innerHTML = `Search Results for: <span class="search-highlight">${query}</span> (${results.length} found)`;
            
            const closeBtn = document.createElement('button');
            closeBtn.className = 'search-results-close';
            closeBtn.textContent = 'Ã—';
            closeBtn.onclick = closeSearchResults;
            
            header.appendChild(title);
            header.appendChild(closeBtn);
            modal.appendChild(header);
            
            const content = document.createElement('div');
            content.className = 'search-results-content';
            
            if (results.length === 0) {
                content.innerHTML = '<div class="no-results">No flights found matching your search.</div>';
            } else {
            results.forEach(flight => {
    const flightCard = renderFlight(flight);
    
    // Find and highlight flight number
    const flightNumEl = flightCard.querySelector('.editable-flight-num');
    if (flightNumEl) {
        flightNumEl.innerHTML = highlightMatch(flight.flightNumber, query);
    }
    
    // Find and highlight destination
    const destEl = flightCard.querySelector('.dest-display');
    if (destEl) {
        destEl.innerHTML = highlightMatch(flight.destination, query);
    }
    
    content.appendChild(flightCard);
});
            }
            
            modal.appendChild(content);
            
            overlay.onclick = closeSearchResults;
            
            document.body.appendChild(overlay);
            document.body.appendChild(modal);
        }
        
        function closeSearchResults() {
            const overlay = document.querySelector('.overlay');
            if (searchResultsModal) {
                searchResultsModal.remove();
                searchResultsModal = null;
            }
            if (overlay) overlay.remove();
        }
        
        function clearSearch() {
            const searchInput = document.getElementById('search-input');
            const clearBtn = document.getElementById('search-clear-btn');
            searchInput.value = '';
            clearBtn.style.display = 'none';
            searchQuery = '';
            closeSearchResults();
        }
        
      function initializeSearch() {
    const searchInput = document.getElementById('search-input');
    const clearBtn = document.getElementById('search-clear-btn');
    
    searchInput.addEventListener('input', function(e) {
        const query = e.target.value.trim();
        searchQuery = query;
        
        if (query.length > 0) {
            clearBtn.style.display = 'flex';
        } else {
            clearBtn.style.display = 'none';
            closeSearchResults();
            return;
        }
        
        // CHANGED: Search immediately for 1+ characters instead of waiting for 3
        if (query.length >= 1) {
            const results = searchFlights(query);
            showSearchResults(results, query);
        }
    });
    
    searchInput.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            clearSearch();
        }
    });
}
        
        function openCommentModal() {
            if (checkCommentLock()) {
                showEditingWarning();
                return;
            }
            
            setCommentLock(true);
            closeAllDropdowns();
            
            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            
            const modal = document.createElement('div');
            modal.className = 'comment-input-modal';
            
            modal.innerHTML = `
                <div class="comment-input-title">Add New Comment</div>
                <textarea class="comment-textarea" placeholder="Enter your comment here..." id="new-comment-text"></textarea>
                <div class="comment-input-actions">
                    <button class="comment-cancel-btn" onclick="closeCommentModal()">Cancel</button>
                    <button class="comment-save-btn" onclick="saveComment()">Save Comment</button>
                </div>
            `;
            
            overlay.onclick = function() {
                setCommentLock(false);
                modal.remove();
                overlay.remove();
            };
            
            document.body.appendChild(overlay);
            document.body.appendChild(modal);
            document.getElementById('new-comment-text').focus();
        }
        
        function closeCommentModal() {
            setCommentLock(false);
            const overlay = document.querySelector('.overlay');
            const modal = document.querySelector('.comment-input-modal');
            if (overlay) overlay.remove();
            if (modal) modal.remove();
        }
        function openCommentModalFromButton() {
    // Show the comments section
    document.getElementById('comments-section').style.display = 'block';
    
    // Then open the modal
    openCommentModal();
}
        function saveComment() {
    const text = document.getElementById('new-comment-text').value.trim();
    if (!text) {
        setCommentLock(false);
        return;
    }
    
    const comment = {
        id: Date.now(),
        text: text,
        timestamp: new Date()
    };
    
    comments.push(comment);
    
    // Show the comments section
    document.getElementById('comments-section').style.display = 'block';
    
    setCommentLock(false);
    closeCommentModal();
    debouncedSync();
    renderComments();
}
       function deleteComment(id) {
    if (checkCommentLock()) {
        showEditingWarning();
        return;
    }
    
    if (!confirm('Delete this comment?')) {
        return;
    }
    
    setCommentLock(true);
    comments = comments.filter(c => c.id !== id);
    setCommentLock(false);
    debouncedSync();
    renderComments(); // This will auto-hide section if no comments remain
}
       function deleteAllComments() {
    if (checkCommentLock()) {
        showEditingWarning();
        return;
    }
    
    if (comments.length === 0) {
        return;
    }
    
    if (confirm('Are you sure you want to delete all comments?')) {
        setCommentLock(true);
        comments = [];
        setCommentLock(false);
        debouncedSync();
        renderComments(); // This will auto-hide section
    }
}
        
        function editComment(id) {
            if (checkCommentLock()) {
                showEditingWarning();
                return;
            }
            
            setCommentLock(true);
            const comment = comments.find(c => c.id === id);
            if (!comment) {
                setCommentLock(false);
                return;
            }
            
            const commentElement = document.querySelector(`[data-comment-id="${id}"] .comment-text`);
            commentElement.contentEditable = true;
            commentElement.focus();
            
            const saveEdit = function() {
                comment.text = commentElement.textContent.trim();
                commentElement.contentEditable = false;
                commentElement.removeEventListener('blur', saveEdit);
                commentElement.removeEventListener('keydown', handleEnter);
                setCommentLock(false);
                debouncedSync();
            };
            
            const handleEnter = function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    commentElement.blur();
                }
            };
            
            commentElement.addEventListener('blur', saveEdit);
            commentElement.addEventListener('keydown', handleEnter);
        }
        
     function renderComments() {
    const container = document.getElementById('comments-container');
    const deleteAllBtn = document.getElementById('delete-all-btn');
    const commentsSection = document.getElementById('comments-section');
    
    if (comments.length === 0) {
        container.innerHTML = '';
        commentsSection.style.display = 'none'; // Hide entire section
    } else {
        commentsSection.style.display = 'block'; // Show entire section
        deleteAllBtn.style.display = 'block';
        container.innerHTML = '';
        
        const sortedComments = [...comments].sort((a, b) => b.timestamp - a.timestamp);
        
        sortedComments.forEach(comment => {
            const card = document.createElement('div');
            card.className = 'comment-card';
            card.setAttribute('data-comment-id', comment.id);
            
            const timestamp = new Date(comment.timestamp).toLocaleString('en-AU', {
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                hour12: false
            });
            
            card.innerHTML = `
                <div class="comment-header">
                    <div class="comment-timestamp">${timestamp}</div>
                    <button class="comment-delete" onclick="deleteComment(${comment.id})">Ã—</button>
                </div>
                <div class="comment-text" onclick="editComment(${comment.id})">${comment.text}</div>
            `;
            
            container.appendChild(card);
        });
    }
}
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.status-badge') && !e.target.closest('.status-dropdown')) {
                closeAllDropdowns();
            }
        });

function updateOnlyTimers() {
    // CRITICAL: Update global current time first
    currentTime = new Date();
    
    flights.forEach(flight => {
        // Find timer elements using data-flight-id attribute for reliability
        const timerEl = document.querySelector(`.timer[data-flight-id="${flight.id}"]`);
        const progressFill = document.querySelector(`.progress-fill[data-flight-id="${flight.id}"]`);
        
        if (!timerEl) return; // Flight not in DOM
        
        const timeInfo = calculateTimeRemaining(flight);
        
        // Only update if showing dynamic countdown
        if (timeInfo.display !== 'OPEN' && 
            timeInfo.display !== 'CLOSED' && 
            timeInfo.display !== 'NOT OPEN' && 
            timeInfo.display !== 'CANCELLED') {
            
            timerEl.textContent = timeInfo.display;
            
            if (progressFill) {
                progressFill.style.width = timeInfo.percentage + '%';
            }
        }
    });
}

// Store interval IDs globally so we can clear them
let timerUpdateInterval = null;
let fullRerenderInterval = null;

function startUpdateIntervals() {
    stopUpdateIntervals();
    
    const timerInterval = window.TIMER_UPDATE_INTERVAL || 1000;
    const rerenderInterval = window.FULL_RERENDER_INTERVAL || 30000;
    
    timerUpdateInterval = setInterval(() => {
        if (flights.length > 0 && dateValidationDismissed && !isEditingField) {
            updateOnlyTimers();
        }
    }, timerInterval);

    fullRerenderInterval = setInterval(() => {
        if (flights.length > 0 && dateValidationDismissed && !isEditingField) {
            updateDisplay();
        }
    }, rerenderInterval);
}
function stopUpdateIntervals() {
    if (timerUpdateInterval) {
        clearInterval(timerUpdateInterval);
        timerUpdateInterval = null;
    }
    if (fullRerenderInterval) {
        clearInterval(fullRerenderInterval);
        fullRerenderInterval = null;
    }
}
function stopUpdateIntervals() {
    if (timerUpdateInterval) {
        clearInterval(timerUpdateInterval);
        timerUpdateInterval = null;
    }
    if (fullRerenderInterval) {
        clearInterval(fullRerenderInterval);
        fullRerenderInterval = null;
    }
}

// ========== ADD ALL THREE FUNCTIONS HERE ==========

// Track user activity
function recordActivity() {
    lastActivity = Date.now();
    localStorage.setItem(LAST_ACTIVITY, lastActivity.toString());
}

// Set up activity tracking
function setupActivityTracking() {
    const events = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart', 'click'];
    
    events.forEach(event => {
        document.addEventListener(event, recordActivity, { passive: true });
    });
    
    // Check for inactivity every minute
    activityTimer = setInterval(() => {
        const now = Date.now();
        const timeSinceActivity = now - lastActivity;
        
        // If inactive for 30 minutes, do a background sync
        if (timeSinceActivity > ACTIVITY_TIMEOUT) {
            console.log('â° Inactive for 30 minutes - refreshing data in background');
            backgroundRefresh();
            lastActivity = now; // Reset timer
        }
    }, 60000); // Check every minute
}

// Background refresh without blank screen
async function backgroundRefresh() {
    console.log('ðŸ”„ Starting background refresh...');
    
    // Don't refresh if user is actively editing
    if (isEditingField || activeDropdown || checkCommentLock()) {
        console.log('â¸ï¸ User is editing - skipping background refresh');
        return;
    }
    
    try {
        // Save current scroll position and section states
        const scrollPosition = window.scrollY;
        const sectionStates = {
            urgent: document.getElementById('urgent-flights')?.classList.contains('expanded'),
            extended: document.getElementById('extended-flights')?.classList.contains('expanded'),
            active: document.getElementById('active-flights')?.classList.contains('expanded'),
            closed: document.getElementById('closed-flights')?.classList.contains('expanded'),
            notopen: document.getElementById('notopen-flights')?.classList.contains('expanded'),
            cancelled: document.getElementById('cancelled-flights')?.classList.contains('expanded')
        };
        
        // Force a full re-render
        updateDisplay();
        renderComments();
        renderDeletedFlights();
        
        // Restore section states
        Object.keys(sectionStates).forEach(section => {
            const content = document.getElementById(`${section}-flights`);
            const toggle = document.getElementById(`${section}-toggle`);
            
            if (content && toggle) {
                if (sectionStates[section]) {
                    content.classList.add('expanded');
                    toggle.textContent = 'âˆ’';
                } else {
                    content.classList.remove('expanded');
                    toggle.textContent = '+';
                }
            }
        });
        
        // Restore scroll position
        window.scrollTo(0, scrollPosition);
        
        console.log('âœ… Background refresh complete');
    } catch (error) {
        console.error('âŒ Background refresh error:', error);
    }
}

// Set up periodic background refresh
function setupBackgroundRefresh() {
    // Refresh every 5 minutes regardless of activity
    backgroundRefreshTimer = setInterval(() => {
        console.log('ðŸ”„ Periodic background refresh (5 min)');
        backgroundRefresh();
    }, 300000); // 5 minutes
}
// âœ… SAFETY CHECK: Clear orphaned data on page load
(function cleanupOrphanedData() {
    try {
        const syncData = localStorage.getItem(SYNC_KEY);
        const savedData = localStorage.getItem(SAVED_DATA_KEY);
        
        // If we have sync data but no flight date, clear everything
        if (syncData && !flightDate && !EMBEDDED_DATA) {
            console.log('ðŸ§¹ Clearing orphaned sync data (no flight date)');
            localStorage.removeItem(SYNC_KEY);
            localStorage.removeItem(SAVED_DATA_KEY);
            localStorage.removeItem('last_local_update');
        }
        
        // Check for very old data (more than 7 days old)
        if (syncData) {
            const parsed = JSON.parse(syncData);
            if (parsed.timestamp) {
                const age = Date.now() - parsed.timestamp;
                const sevenDays = 7 * 24 * 60 * 60 * 1000;
                
                if (age > sevenDays) {
                    console.log('ðŸ§¹ Clearing old sync data (older than 7 days)');
                    localStorage.removeItem(SYNC_KEY);
                    localStorage.removeItem(SAVED_DATA_KEY);
                }
            }
        }
    } catch (e) {
        console.error('Error during cleanup:', e);
    }
})();
if (EMBEDDED_DATA !== null) {
    // Mark this as a saved HTML file
    document.body.classList.add('saved-html');
    console.log('ðŸ“„ Loaded from saved HTML file - hiding validation badge');
    flights = EMBEDDED_DATA.flights || [];
    comments = EMBEDDED_DATA.comments || [];
    deletedFlights = EMBEDDED_DATA.deletedFlights || [];
    earlyOpenMode = EMBEDDED_DATA.earlyOpenMode || null;
    earlyOpenFlightNumber = EMBEDDED_DATA.earlyOpenFlightNumber || null;
    earlyOpenHours = EMBEDDED_DATA.earlyOpenHours || 3;
    flightDate = EMBEDDED_DATA.flightDate ? new Date(EMBEDDED_DATA.flightDate) : null;
    dateValidationDismissed = true;
    
    // ============================================
    // CRITICAL FIX: Proper date-based status logic
    // ============================================
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    const csvDateOnly = flightDate ? new Date(flightDate) : today;
    csvDateOnly.setHours(0, 0, 0, 0);
    
    console.log('ðŸ“… Loading embedded data - Date check:', {
        today: today.toDateString(),
        csvDate: csvDateOnly.toDateString(),
        isSameDay: today.getTime() === csvDateOnly.getTime()
    });
    
    // RULE 1: If CSV date matches TODAY â†’ Don't touch any statuses (let time logic handle it)
    if (today.getTime() === csvDateOnly.getTime()) {
        console.log('âœ… Date matches today - using real-time calculations');
        
        // Only clean up expired extensions
        flights.forEach(flight => {
            if (flight.manualStatus === 'extended' && flight.extensionStartTime) {
                const now = Date.now();
                const extensionAge = now - flight.extensionStartTime;
                
                // If extension is over 1 hour old, close it
                if (extensionAge >= 3600000) {
                    console.log('â±ï¸ Closing expired extension for:', flight.flightNumber);
                    flight.manualStatus = 'closed';
                    flight.extensionDuration = 60;
                }
            }
        });
    }
    // RULE 2: If CSV date is in the PAST â†’ Auto-close all non-manually-managed flights
    else if (csvDateOnly < today) {
        console.log('ðŸ“… Date is in the PAST - auto-closing flights');
        flights.forEach(flight => {
            // Only auto-close if:
            // - No manual status set, OR
            // - Manual status is 'open' or 'not-open' (auto-assigned statuses)
            // PRESERVE: 'cancelled', 'extended', 'closed' (if manually set)
            if (!flight.manualStatus || 
                flight.manualStatus === 'open' || 
                flight.manualStatus === 'not-open') {
                flight.manualStatus = 'closed';
                console.log('ðŸ”’ Auto-closed past flight:', flight.flightNumber);
            }
        });
    }
    // RULE 3: If CSV date is in the FUTURE â†’ Set all to 'not-open'
    else if (csvDateOnly > today) {
        console.log('ðŸ“… Date is in the FUTURE - setting flights to not-open');
        flights.forEach(flight => {
            if (!flight.manualStatus || 
                flight.manualStatus === 'open' || 
                flight.manualStatus === 'closed') {
                flight.manualStatus = 'not-open';
                console.log('ðŸ”’ Set future flight to not-open:', flight.flightNumber);
            }
        });
    }
            
            document.getElementById('csv-upload').style.display = 'none';
            document.querySelector('.upload-btn').style.display = 'none';
            
            if (flights.length > 0) {
                const dateBadge = document.getElementById('flight-date-badge');
                dateBadge.textContent = `Flight Schedule: ${flightDate.toLocaleDateString('en-AU', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                })}`;
                dateBadge.style.display = 'inline-block';
                
                
                
               document.getElementById('save-html-btn').style.display = 'block';
document.getElementById('add-flight-btn').style.display = 'block';
document.getElementById('early-open-btn').style.display = 'block';
document.getElementById('reset-btn').style.display = 'block';
document.getElementById('add-comment-main-btn').style.display = 'block';
document.getElementById('refresh-all-btn').style.display = 'block';
updateDateValidationBadge();
                updateDisplay();
                startUpdateIntervals();
                renderComments();
                // Show comments section only if there are comments

                renderDeletedFlights();
                updateEarlyOpenIndicator();  // â† ADD THIS LINE
                document.getElementById('search-container').style.display = 'block';
            }
            
            (async function() {
                if (firebaseInitialized && flightDate) {
                    console.log('ðŸ”„ Initializing Firebase for embedded data...');
                    
                    initializeFirebaseRef();
                    
                    await debouncedSync();
                    
                    setupFirebaseListener();
                    
                    await checkAndNotifyCancellations();
                    await checkAndNotifyComments();
                    
                    console.log('âœ… Firebase sync initialized for saved HTML');
                } else {
                    if (!firebaseInitialized) {
                        console.warn('âš ï¸ Firebase not initialized - check your config');
                    }
                    if (!flightDate) {
                        console.warn('âš ï¸ No flight date found - cannot initialize Firebase');
                    }
                    console.warn('âš ï¸ Multi-device sync disabled');
                }
            })();
            
        } else {
    loadSavedData();
}

loadSyncData();
initializeSearch();

// Start multi-tab detection
startMultiTabDetection();

// Start activity tracking and background refresh
setupActivityTracking();
setupBackgroundRefresh();
console.log('âœ… Activity tracking and background refresh initialized');

// Force an immediate check after a short delay
setTimeout(() => {
    console.log('ðŸ” Running immediate multi-tab check...');
    checkForMultipleTabs();
}, 1000);

// Run periodic cleanup every 30 seconds
setInterval(() => {
    cleanupOldLocalStorage();
}, 30000);
// Reset function to go back to upload screen
function resetToUploadScreen() {
    if (confirm('Are you sure you want to reset? All unsaved changes will be lost.')) {
        // ============================================
        // STOP ALL TIMERS FIRST (prevents memory leak)
        // ============================================
        stopUpdateIntervals();
        
        // Clean up Firebase listener if active
        if (firebaseListenerActive && firebaseDbRef) {
            firebaseDbRef.off('value');
            firebaseListenerActive = false;
            console.log('ðŸ§¹ Firebase listener cleaned up on reset');
        }
        
        // Clear the render cache
        renderedFlightCache.clear();
        
        // ============================================
        // NOW clear all data
        // ============================================
        flights = [];
        comments = [];
        deletedFlights = [];
        flightDate = null;
        dateValidationDismissed = false;
        acknowledgedCancellations.clear();
        acknowledgedComments.clear();
        earlyOpenMode = null;
        earlyOpenFlightNumber = null;
        earlyOpenHours = 3;
        
        // Hide all sections
        document.getElementById('urgent-section').style.display = 'none';
        document.getElementById('active-section').style.display = 'none';
        document.getElementById('not-open-section').style.display = 'none';
        document.getElementById('closed-section').style.display = 'none';
        document.getElementById('cancelled-section').style.display = 'none';
        document.getElementById('deleted-flights-section').style.display = 'none';
        document.getElementById('comments-section').style.display = 'none';
        document.getElementById('add-comment-main-btn').style.display = 'none';
        
        // Hide buttons
        document.getElementById('save-html-btn').style.display = 'none';
        document.getElementById('add-flight-btn').style.display = 'none';
        document.getElementById('reset-btn').style.display = 'none';
        document.getElementById('search-container').style.display = 'none';
        document.getElementById('early-open-btn').style.display = 'none';
        document.getElementById('refresh-all-btn').style.display = 'none';
        
        // Hide badges
        document.getElementById('flight-date-badge').style.display = 'none';
        document.getElementById('date-validation-badge').style.display = 'none';
        
        // Show loading screen
        document.getElementById('loading').style.display = 'block';
        
        // Reset file input
        document.getElementById('csv-upload').value = '';
        
        // Close any open dropdowns
        closeAllDropdowns();
        
        console.log('ðŸ”„ Reset to upload screen');
    }
}
function openEarlyOpenModal() {
    closeAllDropdowns();
    
    const overlay = document.createElement('div');
    overlay.className = 'overlay';
    
    const modal = document.createElement('div');
    modal.className = 'early-open-modal';
    
    let currentStatus = '';
    if (earlyOpenMode === 'flight' && earlyOpenFlightNumber) {
        currentStatus = `<div class="early-open-status">âœ“ Currently opening until flight: ${earlyOpenFlightNumber}</div>`;
    } else if (earlyOpenMode === 'hours') {
        currentStatus = `<div class="early-open-status">âœ“ Currently opening flights ${earlyOpenHours} hours early</div>`;
    // Add escape key support
const handleEscape = function(e) {
    if (e.key === 'Escape') {
        closeEarlyOpenModal();
        document.removeEventListener('keydown', handleEscape);
    }
};
document.addEventListener('keydown', handleEscape);}
    
   modal.innerHTML = `
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
        <div class="early-open-title" style="margin: 0;">â° Open Flights Earlier</div>
        <button class="search-results-close" onclick="closeEarlyOpenModal()" style="position: static;">Ã—</button>
    </div>
    ${currentStatus}
        <div class="early-open-option" onclick="selectEarlyOpenOption('flight')">
            <div class="early-open-option-title">Option 1: Open Until Specific Flight</div>
            <div class="early-open-option-desc">Enter a flight number to open all flights up to that departure, regardless of time</div>
        </div>
        <div class="early-open-option" onclick="selectEarlyOpenOption('hours')">
            <div class="early-open-option-title">Option 2: Open X Hours Early</div>
            <div class="early-open-option-desc">Set how many hours before departure flights should open (minimum 2 hours)</div>
        </div>
        <div class="early-open-option" onclick="clearEarlyOpen()" style="border-color: #dc2626; background: rgba(220, 38, 38, 0.05);">
            <div class="early-open-option-title" style="color: #dc2626;">Reset to Default</div>
            <div class="early-open-option-desc">Return to normal 3-hour opening logic</div>
        </div>
    `;
    
    overlay.onclick = function(e) {
    if (e.target === overlay) {
        closeEarlyOpenModal();
    }
};

document.body.appendChild(overlay);
document.body.appendChild(modal);
}

function closeEarlyOpenModal() {
    const overlay = document.querySelector('.overlay');
    const modal = document.querySelector('.early-open-modal');
    if (overlay) overlay.remove();
    if (modal) modal.remove();
    
    // Remove escape key listener if it exists
    document.removeEventListener('keydown', arguments.callee.escapeHandler);
}

function selectEarlyOpenOption(option) {
    closeEarlyOpenModal();
    
    const overlay = document.createElement('div');
    overlay.className = 'overlay';
    
    const modal = document.createElement('div');
    modal.className = 'early-open-input-modal';
    
   if (option === 'flight') {
    modal.innerHTML = `
        <div class="early-open-input-title">Enter Flight Number or Destination</div>
        <input type="text" class="early-open-input" id="early-open-flight-input" placeholder="e.g., 788, JQ788, or BNE" autocomplete="off">
        <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 1rem;">
            All flights up to and including this flight will be opened, regardless of time
        </div>
        <div id="flight-selection-area"></div>
        <div class="early-open-actions">
            <button class="early-open-cancel" onclick="closeEarlyOpenInputModal()">Cancel</button>
            <button class="early-open-confirm" onclick="confirmEarlyOpenFlight()">Confirm</button>
        </div>
    `;
    } else {
        modal.innerHTML = `
            <div class="early-open-input-title">How Many Hours Early?</div>
            <input type="number" class="early-open-input" id="early-open-hours-input" min="2" max="24" value="${earlyOpenHours}" autocomplete="off">
            <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 1rem;">
                Minimum: 2 hours | Maximum: 24 hours<br>
                All flights will open this many hours before departure
            </div>
            <div class="early-open-actions">
                <button class="early-open-cancel" onclick="closeEarlyOpenInputModal()">Cancel</button>
                <button class="early-open-confirm" onclick="confirmEarlyOpenHours()">Confirm</button>
            </div>
        `;
    }
    
   overlay.onclick = function(e) {
    if (e.target === overlay) {
        closeEarlyOpenInputModal();
    }
};

document.body.appendChild(overlay);
document.body.appendChild(modal);
    
   // Add escape key support
    const handleEscape = function(e) {
        if (e.key === 'Escape') {
            closeEarlyOpenInputModal();
            document.removeEventListener('keydown', handleEscape);
        }
    };
    document.addEventListener('keydown', handleEscape);
    
    if (option === 'flight') {
    const input = document.getElementById('early-open-flight-input');
    input.focus();
    
    // Add live search functionality
    input.addEventListener('input', function(e) {
        searchAndDisplayFlightOptions(e.target.value);
    });
    
    input.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
            confirmEarlyOpenFlight();
        }
    });
} else {
    const input = document.getElementById('early-open-hours-input');
    input.focus();
    input.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
            confirmEarlyOpenHours();
        }
    });
}
}
function searchAndDisplayFlightOptions(searchTerm) {
    const selectionArea = document.getElementById('flight-selection-area');
    if (!selectionArea) return;
    
    if (!searchTerm || searchTerm.length < 2) {
        selectionArea.innerHTML = '';
        return;
    }
    
    const upperSearch = searchTerm.toUpperCase();
    const cleanSearch = upperSearch.startsWith('JQ') ? upperSearch.substring(2) : upperSearch;
    
    const matchingFlights = flights.filter(f => {
        const flightNum = f.flightNumber.toUpperCase().replace('JQ', '');
        const dest = f.destination.toUpperCase();
        return flightNum.includes(cleanSearch) || dest.includes(cleanSearch);
    }).sort((a, b) => {
        return a.departureTime.localeCompare(b.departureTime);
    });
    
    if (matchingFlights.length === 0) {
        selectionArea.innerHTML = '<div style="color: #6b7280; padding: 0.5rem; text-align: center; font-size: 0.9rem;">No matching flights found</div>';
        return;
    }
    
    if (matchingFlights.length === 1) {
        selectionArea.innerHTML = `
            <div style="background: rgba(16, 185, 129, 0.1); border: 1px solid #10b981; border-radius: 0.5rem; padding: 0.75rem; margin-bottom: 1rem;">
                <div style="color: #10b981; font-weight: 600; margin-bottom: 0.25rem;">âœ“ Flight Found</div>
                <div style="color: #000345; font-weight: bold;">${matchingFlights[0].flightNumber} to ${matchingFlights[0].destination}</div>
                <div style="color: #6b7280; font-size: 0.85rem;">Departs: ${matchingFlights[0].departureTime}</div>
            </div>
        `;
        return;
    }
    
    let html = '<div style="margin-bottom: 1rem;"><div style="font-weight: 600; color: #000345; margin-bottom: 0.5rem;">Multiple flights found - select one:</div>';
    
    matchingFlights.forEach(flight => {
        html += `
            <div class="early-open-option" onclick="selectSpecificFlight('${flight.flightNumber}')" style="padding: 0.5rem; margin-bottom: 0.5rem; cursor: pointer;">
                <div style="font-weight: bold; color: #000345;">${flight.flightNumber} to ${flight.destination}</div>
                <div style="font-size: 0.85rem; color: #6b7280;">Departs: ${flight.departureTime}</div>
            </div>
        `;
    });
    
    html += '</div>';
    selectionArea.innerHTML = html;
}

function selectSpecificFlight(flightNumber) {
    document.getElementById('early-open-flight-input').value = flightNumber.replace('JQ', '');
    searchAndDisplayFlightOptions(flightNumber.replace('JQ', ''));
}
function closeEarlyOpenInputModal() {
    const overlay = document.querySelector('.overlay');
    const modal = document.querySelector('.early-open-input-modal');
    if (overlay) overlay.remove();
    if (modal) modal.remove();
    
    // Remove escape key listener if it exists
    document.removeEventListener('keydown', arguments.callee.escapeHandler);
}
async function confirmEarlyOpenFlight() {
    let input = document.getElementById('early-open-flight-input').value.trim().toUpperCase();
    
    if (!input) {
        alert('Please enter a flight number or destination');
        return;
    }
    
    // Remove JQ prefix if user typed it
    if (input.startsWith('JQ')) {
        input = input.substring(2);
    }
    
    // Try to find flight by number first
    let flight = flights.find(f => f.flightNumber.toUpperCase().replace('JQ', '') === input);
    
    // If not found by number, try by destination
    if (!flight) {
        const matchingFlights = flights.filter(f => f.destination.toUpperCase() === input);
        
        if (matchingFlights.length === 0) {
            alert(`No flight found matching "${input}"`);
            return;
        }
        
        if (matchingFlights.length > 1) {
            alert('Multiple flights found. Please select one from the list below.');
            return;
        }
        
        flight = matchingFlights[0];
    }
    
    earlyOpenMode = 'flight';
    earlyOpenFlightNumber = flight.flightNumber;
    
 closeEarlyOpenInputModal();
    
    // CRITICAL: Sync to Firebase immediately
    console.log('ðŸ”„ Syncing early open mode to Firebase...');
    await syncData();
    
    // Broadcast to other devices
    broadcastRefreshSignal();
    
    updateDisplay();
    updateEarlyOpenIndicator();
    
    alert(`âœ“ All flights up to ${flight.flightNumber} (${flight.destination}) departing at ${flight.departureTime} will now be opened early`);
}
async function confirmEarlyOpenHours() {
    const input = parseInt(document.getElementById('early-open-hours-input').value);
    
    if (isNaN(input) || input < 2) {
        alert('Please enter a number of at least 2 hours');
        return;
    }
    
    if (input > 24) {
        alert('Maximum is 24 hours');
        return;
    }
    
    earlyOpenMode = 'hours';
    earlyOpenHours = input;
    
   closeEarlyOpenInputModal();
    
    // CRITICAL: Sync to Firebase immediately
    console.log('ðŸ”„ Syncing early open mode to Firebase...');
    await syncData();
    
    // Broadcast to other devices
    broadcastRefreshSignal();
    
    updateDisplay();
    updateEarlyOpenIndicator();
    
    alert(`âœ“ All flights will now open ${input} hours before their departure time`);
}
async function clearEarlyOpen() {
    earlyOpenMode = null;
    earlyOpenFlightNumber = null;
    earlyOpenHours = 3;
    
   closeEarlyOpenModal();
    
    // CRITICAL: Sync to Firebase immediately
    console.log('ðŸ”„ Clearing early open mode on Firebase...');
    await syncData();
    
    // Broadcast to other devices
    broadcastRefreshSignal();
    
    updateDisplay();
    updateEarlyOpenIndicator();
    
    alert('âœ“ Reset to default 3-hour opening logic');
}
function showEarlyOpenStatus(event) {
    event.stopPropagation();
    closeAllDropdowns();
    
    const overlay = document.createElement('div');
    overlay.className = 'overlay';
    
    const popup = document.createElement('div');
    popup.className = 'early-open-status-popup';
    
    let statusMessage = '';
    
    if (earlyOpenMode === 'flight' && earlyOpenFlightNumber) {
        const flight = flights.find(f => f.flightNumber.toUpperCase() === earlyOpenFlightNumber.toUpperCase());
        if (flight) {
            statusMessage = `Flights are currently opening up to and including flight <strong>${earlyOpenFlightNumber}</strong> to <strong>${flight.destination}</strong>, departing at <strong>${flight.departureTime}</strong>`;
        } else {
            statusMessage = `Flights are currently opening up to flight <strong>${earlyOpenFlightNumber}</strong>`;
        }
    } else if (earlyOpenMode === 'hours') {
        statusMessage = `Flights are currently opening <strong>${earlyOpenHours} hours</strong> before their departure time`;
    }
    
    popup.innerHTML = `
        <div class="early-open-status-title">
            <span>âš¡</span>
            <span>Early Opening Active</span>
        </div>
        <div class="early-open-status-message">
            ${statusMessage}
        </div>
        <button class="early-open-status-close" onclick="closeEarlyOpenStatusPopup()">Got it</button>
    `;
    
    overlay.onclick = closeEarlyOpenStatusPopup;
    
    document.body.appendChild(overlay);
    document.body.appendChild(popup);
}

function closeEarlyOpenStatusPopup() {
    const overlay = document.querySelector('.overlay');
    const popup = document.querySelector('.early-open-status-popup');
    if (overlay) overlay.remove();
    if (popup) popup.remove();
}

function updateEarlyOpenIndicator() {
    const indicator = document.getElementById('early-open-indicator');
    if (!indicator) return;
    
    if (earlyOpenMode === 'flight' || earlyOpenMode === 'hours') {
        indicator.style.display = 'inline-flex';
    } else {
        indicator.style.display = 'none';
    }
}
async function stopExtension(flightId) {
    const flight = flights.find(f => f.id === flightId);
    if (!flight || flight.manualStatus !== 'extended') return;
    
    const timeInfo = calculateTimeRemaining(flight);
    const extensionMinutes = timeInfo.extensionMinutes || 0;
    
    flight.extensionDuration = extensionMinutes;
    flight.manualStatus = 'closed';
    
    // CRITICAL FIX: Clear cache BEFORE display update
    renderedFlightCache.clear();
    
    // Update display FIRST
    console.log('ðŸ”„ Updating display for extension stop...');
    updateDisplay();
    
    // THEN sync to Firebase
    console.log('ðŸ“¡ Syncing extension stop to Firebase...');
    await syncData();
    
    // Broadcast to other devices
    broadcastRefreshSignal();
    
    console.log(`âœ… Extension stopped for ${flight.flightNumber} - ${extensionMinutes} minutes`);
}
// ========== CLEANUP ON PAGE UNLOAD ==========
window.addEventListener('beforeunload', function() {
    console.log('ðŸ§¹ Page unloading - cleaning up resources');
    
    // Clean up multi-tab detection
    if (heartbeatInterval) {
        clearInterval(heartbeatInterval);
    }
    if (multiTabCheckInterval) {
        clearInterval(multiTabCheckInterval);
    }
    
    // Clean up Firebase listener
    if (firebaseDbRef && firebaseListenerActive) {
        firebaseDbRef.off('value');
        firebaseListenerActive = false;
        console.log('âœ… Firebase listener cleaned up');
    }
    
    // Clear all timers
    if (activityTimer) {
        clearTimeout(activityTimer);
    }
    if (backgroundRefreshTimer) {
        clearInterval(backgroundRefreshTimer);
    }
    if (syncTimeout) {
        clearTimeout(syncTimeout);
    }
    
    console.log('âœ… All resources cleaned up on page unload');
});
// ========== FINAL INITIALIZATION CHECK ==========
console.log('ðŸš€ Flight Tracker Initialized');
console.log('âœ… Firebase:', firebaseInitialized ? 'Connected' : 'Local only');
console.log('âœ… Multi-tab detection:', 'Active');
console.log('âœ… Activity tracking:', 'Active');
console.log('âœ… Background refresh:', 'Active');
console.log('âœ… Early open mode:', earlyOpenMode || 'Default (3 hours)');
console.log('=====================================');
   // ========== SCROLL TIME REFERENCE ==========
(function() {
    const scrollTimeRef = document.getElementById('scroll-time-ref');
    if (!scrollTimeRef) return;
    
    let scrollTimeout;
    let isScrolling = false;
    
    // Update time in the reference
    function updateScrollTime() {
        const now = new Date();
        scrollTimeRef.textContent = now.toLocaleTimeString('en-AU', { 
            hour12: false,
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit'
        });
    }
    
    // Show on scroll
    function handleScroll() {
        const scrollY = window.scrollY || window.pageYOffset;
        
        // Only show if scrolled past header (more than 150px)
        if (scrollY > 150) {
            if (!isScrolling) {
                isScrolling = true;
                scrollTimeRef.classList.add('visible');
                updateScrollTime();
            }
            
            // Clear existing timeout
            clearTimeout(scrollTimeout);
            
            // Hide after 3 seconds of no scrolling
            scrollTimeout = setTimeout(() => {
                scrollTimeRef.classList.remove('visible');
                isScrolling = false;
            }, 3000);
        } else {
            // At top of page - hide immediately
            scrollTimeRef.classList.remove('visible');
            isScrolling = false;
            clearTimeout(scrollTimeout);
        }
    }
    
    // Efficient scroll listener with throttling
    let ticking = false;
    window.addEventListener('scroll', function() {
        if (!ticking) {
            window.requestAnimationFrame(function() {
                handleScroll();
                ticking = false;
            });
            ticking = true;
        }
    }, { passive: true });
    
    // Update time every second when visible
    setInterval(function() {
        if (scrollTimeRef.classList.contains('visible')) {
            updateScrollTime();
        }
    }, 1000);
    
    console.log('âœ… Scroll time reference initialized');
})();
    // ============================================
// MANUAL CLEAR ALL DATA FUNCTION
// ============================================
async function clearAllStoredData() {
    // STEP 1: First confirmation
    if (!confirm('âš ï¸ WARNING: This will permanently delete ALL stored data including:\n\nâ€¢ All flight statuses (open, closed, extended, cancelled)\nâ€¢ All comments you\'ve added\nâ€¢ All deleted flights\nâ€¢ Early open settings\nâ€¢ Everything for this date\n\nThis action CANNOT be undone!\n\nAre you sure you want to continue?')) {
        console.log('âŒ User cancelled clear data operation');
        return; // User clicked "Cancel"
    }
    
    // STEP 2: Second confirmation (safety check)
    if (!confirm('âš ï¸ FINAL WARNING!\n\nThis will clear data on ALL devices using this file.\n\nAre you ABSOLUTELY SURE you want to delete everything?')) {
        console.log('âŒ User cancelled clear data operation (2nd confirmation)');
        return; // User clicked "Cancel" again
    }
    
    // STEP 3: Determine what date we're clearing
    const currentDate = flightDate ? flightDate.toISOString().split('T')[0] : 'unknown';
    
    console.log('ðŸ—‘ï¸ ============================================');
    console.log('ðŸ—‘ï¸ CLEARING ALL STORED DATA FOR:', currentDate);
    console.log('ðŸ—‘ï¸ ============================================');
    
    try {
        // STEP 4: Clear localStorage for this specific date
        console.log('ðŸ“¦ Step 1/4: Clearing localStorage...');
        
        const keysToRemove = [];
        
        // Loop through ALL localStorage keys
        for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            
            // Skip if key is null/undefined
            if (!key) continue;
            
            // Check if key is related to this date OR general flight tracker data
            if (key.includes(currentDate) || 
                key.includes('flight_tracker') ||
                key.includes('comment_lock') ||
                key.includes('last_local_update')) {
                keysToRemove.push(key);
            }
        }
        
        console.log('   Found', keysToRemove.length, 'localStorage keys to remove:');
        keysToRemove.forEach(key => {
            console.log('   - Removing:', key);
            localStorage.removeItem(key);
        });
        
        console.log('âœ… localStorage cleared');
        
        // STEP 5: Clear Firebase for this date
        if (firebaseInitialized && firebaseDbRef) {
            console.log('â˜ï¸ Step 2/4: Clearing Firebase...');
            
            try {
                // Clear main data
                await firebaseDbRef.remove();
                console.log('âœ… Firebase main data cleared');
                
                // Clear refresh trigger
                const forceRefreshRef = firebase.database().ref(getFirebasePath('force_refresh_trigger'));
                await forceRefreshRef.remove();
                console.log('âœ… Firebase refresh trigger cleared');
                
            } catch (fbError) {
                console.error('âš ï¸ Firebase clear error (may not have permissions):', fbError);
            }
        } else {
            console.log('â„¹ï¸ Firebase not initialized - skipping cloud clear');
        }
        
       // STEP 6: Reset application state in memory
console.log('ðŸ”„ Step 3/4: Resetting application state...');

flights = [];
comments = [];
deletedFlights = [];
earlyOpenMode = null;
earlyOpenFlightNumber = null;
earlyOpenHours = 3;

// Clear caches - FIXED to check if they exist first
if (typeof acknowledgedCancellations !== 'undefined') acknowledgedCancellations.clear();
if (typeof acknowledgedComments !== 'undefined') acknowledgedComments.clear();
if (typeof renderedFlightCache !== 'undefined') renderedFlightCache.clear();

console.log('âœ… Application state reset');
        // STEP 7: Broadcast to other devices
        console.log('ðŸ“¡ Step 4/4: Broadcasting clear signal to other devices...');
        
        const clearSignal = {
            action: 'clear_all_data',
            date: currentDate,
            timestamp: Date.now(),
            fromSession: sessionId
        };
        
        localStorage.setItem('clear_data_signal', JSON.stringify(clearSignal));
        
        // Send via Firebase too
        if (firebaseInitialized) {
            try {
                const clearSignalRef = firebase.database().ref(getFirebasePath('clear_data_signal'));
                await clearSignalRef.set(clearSignal);
                console.log('âœ… Clear signal sent via Firebase');
            } catch (e) {
                console.error('âš ï¸ Could not send clear signal via Firebase:', e);
            }
        }
        
        console.log('âœ… Clear signal broadcast');
        
        // STEP 8: Show success and reload
        console.log('ðŸ—‘ï¸ ============================================');
        console.log('ðŸ—‘ï¸ ALL DATA CLEARED SUCCESSFULLY');
        console.log('ðŸ—‘ï¸ ============================================');
        
        alert('âœ… SUCCESS!\n\nAll stored data for ' + currentDate + ' has been permanently deleted.\n\nThe page will now reload to start fresh.');
        
        // Wait a moment for alert to be acknowledged
        setTimeout(() => {
            // Force hard reload
            location.reload(true);
        }, 500);
        
    } catch (e) {
        // STEP 9: Error handling
        console.error('âŒ ============================================');
        console.error('âŒ ERROR CLEARING DATA');
        console.error('âŒ ============================================');
        console.error('Error details:', e);
        
        alert('âŒ ERROR!\n\nThere was an error clearing data:\n\n' + e.message + '\n\nSome data may not have been cleared. Please try again or refresh the page.');
    }
}
    </script>

</div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div><div class="status-dropdown" style="display: none;"><div class="status-option">Automatic (Based on Time)</div><div class="status-option">âœ… Check-in Open</div><div class="status-option">â±ï¸ Closing Soon</div><div class="status-option">âš ï¸ Urgent Closing</div><div class="status-option">ðŸ”µ Extend Check-In</div><div class="status-option">âŒ Closed</div><div class="status-option">ðŸš« Cancelled</div></div></body></html>